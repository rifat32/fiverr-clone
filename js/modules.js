!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AOS=t():e.AOS=t()}(this,(function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="dist/",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=(n(i(1)),i(6)),l=n(o),r=n(i(7)),a=n(i(8)),c=n(i(9)),h=n(i(10)),u=n(i(11)),d=n(i(14)),p=[],g=!1,f={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(g=!0),g)return p=(0,u.default)(p,f),(0,h.default)(p,f.once),p},_=function(){p=(0,d.default)(),m()};e.exports={init:function(e){f=s(f,e),p=(0,d.default)();var t=document.all&&!window.atob;return function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()}(f.disable)||t?void p.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")})):(f.disableMutationObserver||a.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),f.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",f.easing),document.querySelector("body").setAttribute("data-aos-duration",f.duration),document.querySelector("body").setAttribute("data-aos-delay",f.delay),"DOMContentLoaded"===f.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?m(!0):"load"===f.startEvent?window.addEventListener(f.startEvent,(function(){m(!0)})):document.addEventListener(f.startEvent,(function(){m(!0)})),window.addEventListener("resize",(0,r.default)(m,f.debounceDelay,!0)),window.addEventListener("orientationchange",(0,r.default)(m,f.debounceDelay,!0)),window.addEventListener("scroll",(0,l.default)((function(){(0,h.default)(p,f.once)}),f.throttleDelay)),f.disableMutationObserver||a.default.ready("[data-aos]",_),p)},refresh:m,refreshHard:_}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function i(e,t,i){function s(t){var i=d,n=p;return d=p=void 0,v=t,f=e.apply(n,i)}function l(e){return v=e,m=setTimeout(c,t),x?s(e):f}function a(e){var i=e-_;return void 0===_||i>=t||i<0||C&&e-v>=g}function c(){var e=w();return a(e)?h(e):void(m=setTimeout(c,function(e){var i=t-(e-_);return C?b(i,g-(e-v)):i}(e)))}function h(e){return m=void 0,T&&d?s(e):(d=p=void 0,f)}function u(){var e=w(),i=a(e);if(d=arguments,p=this,_=e,i){if(void 0===m)return l(_);if(C)return m=setTimeout(c,t),s(_)}return void 0===m&&(m=setTimeout(c,t)),f}var d,p,g,f,m,_,v=0,x=!1,C=!1,T=!0;if("function"!=typeof e)throw new TypeError(r);return t=o(t)||0,n(i)&&(x=!!i.leading,g=(C="maxWait"in i)?y(o(i.maxWait)||0,t):g,T="trailing"in i?!!i.trailing:T),u.cancel=function(){void 0!==m&&clearTimeout(m),v=0,d=_=p=m=void 0},u.flush=function(){return void 0===m?f:h(w())},u}function n(e){var t=void 0===e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function s(e){return"symbol"==(void 0===e?"undefined":l(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":l(e))}(e)&&v.call(e)==c}function o(e){if("number"==typeof e)return e;if(s(e))return a;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var i=d.test(e);return i||p.test(e)?g(e.slice(2),i?2:8):u.test(e)?a:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="Expected a function",a=NaN,c="[object Symbol]",h=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,g=parseInt,f="object"==(void 0===t?"undefined":l(t))&&t&&t.Object===Object&&t,m="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,_=f||m||Function("return this")(),v=Object.prototype.toString,y=Math.max,b=Math.min,w=function(){return _.Date.now()};e.exports=function(e,t,s){var o=!0,l=!0;if("function"!=typeof e)throw new TypeError(r);return n(s)&&(o="leading"in s?!!s.leading:o,l="trailing"in s?!!s.trailing:l),i(e,t,{leading:o,maxWait:t,trailing:l})}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function i(e){var t=void 0===e?"undefined":o(e);return!!e&&("object"==t||"function"==t)}function n(e){return"symbol"==(void 0===e?"undefined":o(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":o(e))}(e)&&_.call(e)==a}function s(e){if("number"==typeof e)return e;if(n(e))return r;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var s=u.test(e);return s||d.test(e)?p(e.slice(2),s?2:8):h.test(e)?r:+e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",r=NaN,a="[object Symbol]",c=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt,g="object"==(void 0===t?"undefined":o(t))&&t&&t.Object===Object&&t,f="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,m=g||f||Function("return this")(),_=Object.prototype.toString,v=Math.max,y=Math.min,b=function(){return m.Date.now()};e.exports=function(e,t,n){function o(t){var i=d,n=p;return d=p=void 0,w=t,f=e.apply(n,i)}function r(e){return w=e,m=setTimeout(c,t),x?o(e):f}function a(e){var i=e-_;return void 0===_||i>=t||i<0||C&&e-w>=g}function c(){var e=b();return a(e)?h(e):void(m=setTimeout(c,function(e){var i=t-(e-_);return C?y(i,g-(e-w)):i}(e)))}function h(e){return m=void 0,T&&d?o(e):(d=p=void 0,f)}function u(){var e=b(),i=a(e);if(d=arguments,p=this,_=e,i){if(void 0===m)return r(_);if(C)return m=setTimeout(c,t),o(_)}return void 0===m&&(m=setTimeout(c,t)),f}var d,p,g,f,m,_,w=0,x=!1,C=!1,T=!0;if("function"!=typeof e)throw new TypeError(l);return t=s(t)||0,i(n)&&(x=!!n.leading,g=(C="maxWait"in n)?v(s(n.maxWait)||0,t):g,T="trailing"in n?!!n.trailing:T),u.cancel=function(){void 0!==m&&clearTimeout(m),w=0,d=_=p=m=void 0},u.flush=function(){return void 0===m?f:h(b())},u}}).call(t,function(){return this}())},function(e,t){"use strict";function i(e){var t=void 0,n=void 0;for(t=0;t<e.length;t+=1){if((n=e[t]).dataset&&n.dataset.aos)return!0;if(n.children&&i(n.children))return!0}return!1}function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function s(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),n=Array.prototype.slice.call(e.removedNodes);if(i(t.concat(n)))return o()}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){};t.default={isSupported:function(){return!!n()},ready:function(e,t){var i=window.document,l=new(n())(s);o=t,l.observe(i.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(e,t){"use strict";function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,r=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"phone",value:function(){var e=i();return!(!s.test(e)&&!o.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=i();return!(!l.test(e)&&!r.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var i=window.pageYOffset,n=window.innerHeight;e.forEach((function(e,s){!function(e,t,i){var n=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):void 0!==n&&("false"===n||!i&&"true"!==n)&&e.node.classList.remove("aos-animate")}(e,n+i,t)}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(i(12));t.default=function(e,t){return e.forEach((function(e,i){e.node.classList.add("aos-init"),e.position=(0,n.default)(e.node,t.offset)})),e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(i(13));t.default=function(e,t){var i=0,s=0,o=window.innerHeight,l={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(l.offset&&!isNaN(l.offset)&&(s=parseInt(l.offset)),l.anchor&&document.querySelectorAll(l.anchor)&&(e=document.querySelectorAll(l.anchor)[0]),i=(0,n.default)(e).top,l.anchorPlacement){case"top-bottom":break;case"center-bottom":i+=e.offsetHeight/2;break;case"bottom-bottom":i+=e.offsetHeight;break;case"top-center":i+=o/2;break;case"bottom-center":i+=o/2+e.offsetHeight;break;case"center-center":i+=o/2+e.offsetHeight/2;break;case"top-top":i+=o;break;case"bottom-top":i+=e.offsetHeight+o;break;case"center-top":i+=e.offsetHeight/2+o}return l.anchorPlacement||l.offset||isNaN(t)||(s=t),i+s}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=0,i=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),i+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:i,left:t}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))}}])})),function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="XJR1")}({"1kvd":function(e,t,i){"use strict";var n,s;n="undefined"!=typeof window?window:this,s=function(e,t){const i={name:"dialog",add:function(e){const t=e.context;t.dialog={kind:"",updateModal:!1,_closeSignal:!1};let i=e.util.createElement("DIV");i.className="se-dialog sun-editor-common";let n=e.util.createElement("DIV");n.className="se-dialog-back",n.style.display="none";let s=e.util.createElement("DIV");s.className="se-dialog-inner",s.style.display="none",i.appendChild(n),i.appendChild(s),t.dialog.modalArea=i,t.dialog.back=n,t.dialog.modal=s,t.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(e)),t.dialog.modal.addEventListener("click",this._onClick_dialog.bind(e)),t.element.relative.appendChild(i),i=null,n=null,s=null},_onMouseDown_dialog:function(e){/se-dialog-inner/.test(e.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(e){(/close/.test(e.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(e,t){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=function(e){/27/.test(e.keyCode)&&this.plugins.dialog.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=t,"full"===this.options.popupDisplay?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=e,this.modalForm=this.context[e].modal;const i=this.context[e].focusElement;"function"==typeof this.plugins[e].on&&this.plugins[e].on.call(this,t),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",i&&i.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const e=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,"function"==typeof this.plugins[e].init&&this.plugins[e].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=n.document?s(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return s(e)}:s(n)},"3FqI":function(e,t,i){},JhlZ:function(e,t,i){"use strict";var n,s;n="undefined"!=typeof window?window:this,s=function(e,t){const i={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(e){const t=e.context;t.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let i=e.util.createElement("DIV");i.className="se-file-browser sun-editor-common";let n=e.util.createElement("DIV");n.className="se-file-browser-back";let s=e.util.createElement("DIV");s.className="se-file-browser-inner",s.innerHTML=this.set_browser(e),i.appendChild(n),i.appendChild(s),this._loading=i.querySelector(".se-loading-box"),t.fileBrowser.area=i,t.fileBrowser.header=s.querySelector(".se-file-browser-header"),t.fileBrowser.titleArea=s.querySelector(".se-file-browser-title"),t.fileBrowser.tagArea=s.querySelector(".se-file-browser-tags"),t.fileBrowser.body=s.querySelector(".se-file-browser-body"),t.fileBrowser.list=s.querySelector(".se-file-browser-list"),t.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(e)),t.fileBrowser.list.addEventListener("click",this.onClickFile.bind(e)),s.addEventListener("mousedown",this._onMouseDown_browser.bind(e)),s.addEventListener("click",this._onClick_browser.bind(e)),t.element.relative.appendChild(i),i=null,n=null,s=null},set_browser:function(e){return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" aria-label="Close" title="'+e.lang.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(e){/se-file-browser-inner/.test(e.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(e){e.stopPropagation(),(/close/.test(e.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(e,t){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=function(e){/27/.test(e.keyCode)&&this.plugins.fileBrowser.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const i=this.context.fileBrowser;i.contextPlugin=e,i.selectorHandler=t;const n=this.context[e],s=n.listClass;this.util.hasClass(i.list,s)||(i.list.className="se-file-browser-list "+s),"full"===this.options.popupDisplay?i.area.style.position="fixed":i.area.style.position="absolute",i.titleArea.textContent=n.title,i.area.style.display="block",this.plugins.fileBrowser._drawFileList.call(this,this.context[e].url,this.context[e].header)},_bindClose:null,close:function(){const e=this.plugins.fileBrowser;e._xmlHttp&&e._xmlHttp.abort(),e._bindClose&&(this._d.removeEventListener("keydown",e._bindClose),e._bindClose=null);const t=this.context.fileBrowser;t.area.style.display="none",t.selectorHandler=null,t.selectedTags=[],t.items=[],t.list.innerHTML=t.tagArea.innerHTML=t.titleArea.textContent="","function"==typeof this.plugins[t.contextPlugin].init&&this.plugins[t.contextPlugin].init.call(this),t.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(e,t){const i=this.plugins.fileBrowser,n=i._xmlHttp=this.util.getXMLHttpRequest();if(n.onreadystatechange=i._callBackGet.bind(this,n),n.open("get",e,!0),null!==t&&"object"==typeof t&&this._w.Object.keys(t).length>0)for(let e in t)n.setRequestHeader(e,t[e]);n.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(e){if(4===e.readyState)if(this.plugins.fileBrowser._xmlHttp=null,200===e.status)try{const t=JSON.parse(e.responseText);t.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,t.result,!0):t.nullMessage&&(this.context.fileBrowser.list.innerHTML=t.nullMessage)}catch(e){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+e.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),0!==e.status){const t=e.responseText?JSON.parse(e.responseText):e,i="[SUNEDITOR.fileBrowser.get.serverException] status: "+e.status+", response: "+(t.errorMessage||e.responseText);throw Error(i)}},_drawListItem:function(e,t){const i=this.context.fileBrowser,n=this.context[i.contextPlugin],s=[],o=e.length,l=n.columnSize||i.columnSize,r=l<=1?1:Math.round(o/l)||1,a=n.itemTemplateHandler;let c="",h='<div class="se-file-item-column">',u=1;for(let i,n,d=0;d<o;d++)if(i=e[d],n=i.tag?"string"==typeof i.tag?i.tag.split(","):i.tag:[],n=i.tag=n.map((function(e){return e.trim()})),h+=a(i),(d+1)%r==0&&u<l&&d+1<o&&(u++,h+='</div><div class="se-file-item-column">'),t&&n.length>0)for(let e,t=0,i=n.length;t<i;t++)e=n[t],e&&-1===s.indexOf(e)&&(s.push(e),c+='<a title="'+e+'">'+e+"</a>");h+="</div>",i.list.innerHTML=h,t&&(i.items=e,i.tagArea.innerHTML=c,i.tagElements=i.tagArea.querySelectorAll("A"))},onClickTag:function(e){const t=e.target;if(!this.util.isAnchor(t))return;const i=t.textContent,n=this.plugins.fileBrowser,s=this.context.fileBrowser,o=s.tagArea.querySelector('a[title="'+i+'"]'),l=s.selectedTags,r=l.indexOf(i);r>-1?(l.splice(r,1),this.util.removeClass(o,"on")):(l.push(i),this.util.addClass(o,"on")),n._drawListItem.call(this,0===l.length?s.items:s.items.filter((function(e){return e.tag.some((function(e){return l.indexOf(e)>-1}))})),!1)},onClickFile:function(e){e.preventDefault(),e.stopPropagation();const t=this.context.fileBrowser,i=t.list;let n=e.target,s=null;if(n===i)return;for(;i!==n.parentNode&&(s=n.getAttribute("data-command"),!s);)n=n.parentNode;if(!s)return;const o=t.selectorHandler||this.context[t.contextPlugin].selectorHandler;this.plugins.fileBrowser.close.call(this),o(n)}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=n.document?s(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return s(e)}:s(n)},P6u4:function(e,t,i){"use strict";var n,s;n="undefined"!=typeof window?window:this,s=function(e,t){const i={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return void 0===t&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:i})),i},"object"==typeof e.exports?e.exports=n.document?s(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_LANG a window with a document");return s(e)}:s(n)},WUQj:function(e,t,i){},XJR1:function(e,t,i){"use strict";i.r(t),i("3FqI"),i("WUQj");var n={name:"colorPicker",add:function(e){const t=e.context;t.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},t.colorPicker.colorListHTML=this.createColorList(e,this._makeColorList)},createColorList:function(e,t){const i=e.options,n=e.lang,s=i.colorList&&0!==i.colorList.length?i.colorList:["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"];let o=[],l='<div class="se-list-inner">';for(let e,i=0,n=s.length;i<n;i++)e=s[i],e&&("string"==typeof e&&(o.push(e),i<n-1)||(o.length>0&&(l+='<div class="se-selector-color">'+t(o)+"</div>",o=[]),"object"==typeof e&&(l+='<div class="se-selector-color">'+t(e)+"</div>")));return l+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'">'+e.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'">'+e.icons.erase+"</button></form></div>",l},_makeColorList:function(e){let t="";t+='<ul class="se-color-pallet">';for(let i,n=0,s=e.length;n<s;n++)i=e[n],"string"==typeof i&&(t+='<li><button type="button" data-value="'+i+'" title="'+i+'" style="background-color:'+i+';"></button></li>');return t+="</ul>",t},init:function(e,t){const i=this.plugins.colorPicker;let n=t||i.getColorInNode.call(this,e)||this.context.colorPicker._defaultColor;n=i.isHexColor(n)?n:i.rgb2hex(n)||n;const s=this.context.colorPicker._colorList;if(s)for(let e=0,t=s.length;e<t;e++)n.toLowerCase()===s[e].getAttribute("data-value").toLowerCase()?this.util.addClass(s[e],"active"):this.util.removeClass(s[e],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(e){this.context.colorPicker._currentColor=e,this.context.colorPicker._colorInput.style.borderColor=e},setInputText:function(e){e=/^#/.test(e)?e:"#"+e,this.context.colorPicker._colorInput.value=e,this.plugins.colorPicker.setCurrentColor.call(this,e)},getColorInNode:function(e){let t="";const i=this.context.colorPicker._styleProperty;for(;e&&!this.util.isWysiwygDiv(e)&&0===t.length;)1===e.nodeType&&e.style[i]&&(t=e.style[i]),e=e.parentNode;return t},isHexColor:function(e){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(e)},rgb2hex:function(e){const t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},colorName2hex:function(e){if(/^#/.test(e))return e;var t=this.util.createElement("div");t.style.display="none",t.style.color=e;var i=this._w.getComputedStyle(this._d.body.appendChild(t)).color.match(/\d+/g).map((function(e){return parseInt(e,10)}));return this.util.removeItem(t),i.length>=3&&"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1)}},s={name:"fontColor",display:"submenu",add:function(e,t){e.addModule([n]);const i=e.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let s=this.setSubmenu(e);i.fontColor.colorInput=s.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),s.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),s.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),s.addEventListener("click",this.pickup.bind(e)),i.fontColor.colorList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,s),s=null},setSubmenu:function(e){const t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){const e=this.context.colorPicker,t=this.context.fontColor;e._colorInput=t.colorInput;const i=this.wwComputedStyle.color;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#333333",e._styleProperty="color",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.fontColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.color=e,this.nodeChange(t,["color"],null,null),this.submenuOff()}},o={name:"hiliteColor",display:"submenu",add:function(e,t){e.addModule([n]);const i=e.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let s=this.setSubmenu(e);i.hiliteColor.colorInput=s.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(e)),s.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(e)),s.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(e)),s.addEventListener("click",this.pickup.bind(e)),i.hiliteColor.colorList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,s),s=null},setSubmenu:function(e){const t=e.context.colorPicker.colorListHTML,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=t,i},on:function(){const e=this.context.colorPicker,t=this.context.hiliteColor;e._colorInput=t.colorInput;const i=this.wwComputedStyle.backgroundColor;e._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#ffffff",e._styleProperty="backgroundColor",e._colorList=t.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(e){this.plugins.colorPicker.setCurrentColor.call(this,e.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,e.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(e){if(!e)return;const t=this.util.createElement("SPAN");t.style.backgroundColor=e,this.nodeChange(t,["background-color"],null,null),this.submenuOff()}},l={name:"template",display:"submenu",add:function(e,t){e.context.template={};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.pickup.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){const t=e.options.templates;if(!t||0===t.length)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const i=e.util.createElement("DIV");i.className="se-list-layer";let n='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let e,i=0,s=t.length;i<s;i++)e=t[i],n+='<li><button type="button" class="se-btn-list" data-value="'+i+'" title="'+e.name+'">'+e.name+"</button></li>";return n+="</ul></div>",i.innerHTML=n,i},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=this.options.templates[e.target.getAttribute("data-value")];if(!t.html)throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.setContents(t.html),this.submenuOff()}},r=i("1kvd"),a=i.n(r),c={name:"selectMenu",add:function(e){e.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(e,t,i){e.form.innerHTML="<ul>"+i+"</ul>",e.items=t,e.menus=e.form.querySelectorAll("li")},initEvent:function(e,t){const i=t.querySelector(".se-select-list"),n=this.context.selectMenu.caller[e]={form:i,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:e};i.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),i.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,n)),i.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,n))},onMousedown_list:function(e){e.preventDefault(),e.stopPropagation()},onMouseMove_list:function(e,t){this.util.addClass(e.form,"__se_select-menu-mouse-move");const i=t.target.getAttribute("data-index");i&&(e.index=1*i)},onClick_list:function(e,t){const i=t.target.getAttribute("data-index");i&&e.clickMethod.call(this,e.items[i])},moveItem:function(e,t){this.util.removeClass(e.form,"__se_select-menu-mouse-move"),t=e.index+t;const i=e.menus,n=i.length,s=e.index=t>=n?0:t<0?n-1:t;for(let e=0;e<n;e++)e===s?this.util.addClass(i[e],"active"):this.util.removeClass(i[e],"active");e.item=e.items[s]},getItem:function(e,t){return t=!t||t<0?e.index:t,e.items[t]},on:function(e,t){const i=this.context.selectMenu.caller[e];this.context.selectMenu.callerContext=i,i.clickMethod=t,i.callerName=e},open:function(e,t){const i=e.form;i.style.visibility="hidden",i.style.display="block",t(i),i.style.visibility=""},close:function(e){e.form.style.display="none",e.items=[],e.menus=[],e.index=-1,e.item=null},init:function(e){e&&(e.items=[],e.menus=[],e.index=-1,e.item=null,e.callerName="",this.context.selectMenu.callerContext=null)}},h={name:"anchor",add:function(e){e.addModule([c]),e.context.anchor={caller:{},forms:this.setDialogForm(e),host:(e._w.location.origin+e._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(e){const t=e.lang,i=e.options.linkRel,n=(e.options.linkRelDefault.default||"").split(" "),s=e.icons,o=e.util.createElement("DIV");let l='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(e.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+t.dialogBox.linkBox.bookmark+'">'+s.bookmark+"</button>"+e.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+s.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+s.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+t.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+t.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+t.dialogBox.linkBox.downloadLinkCheck+"</label>";if(i.length>0){l+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let e,t=0,o=i.length;t<o;t++)e=i[t],l+='<li><button type="button" class="se-btn-list'+(n.indexOf(e)>-1?" se-checked":"")+'" data-command="'+e+'" title="'+e+'"><span class="se-svg">'+s.checked+"</span>"+e+"</button></li>";l+="</ul></div></div></div>"}return l+="</div></div>",o.innerHTML=l,o},initEvent:function(e,t){const i=this.plugins.anchor,n=this.context.anchor.caller[e]={modal:t,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:e};"string"==typeof n.linkDefaultRel.default&&(n.linkDefaultRel.default=n.linkDefaultRel.default.trim()),"string"==typeof n.linkDefaultRel.check_new_window&&(n.linkDefaultRel.check_new_window=n.linkDefaultRel.check_new_window.trim()),"string"==typeof n.linkDefaultRel.check_bookmark&&(n.linkDefaultRel.check_bookmark=n.linkDefaultRel.check_bookmark.trim()),n.urlInput=t.querySelector(".se-input-url"),n.anchorText=t.querySelector("._se_anchor_text"),n.newWindowCheck=t.querySelector("._se_anchor_check"),n.downloadCheck=t.querySelector("._se_anchor_download"),n.download=t.querySelector("._se_anchor_download_icon"),n.preview=t.querySelector(".se-link-preview"),n.bookmark=t.querySelector("._se_anchor_bookmark_icon"),n.bookmarkButton=t.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,e,t);const s=this.context.selectMenu.caller[e];this.options.linkRel.length>0&&(n.relButton=t.querySelector(".se-anchor-rel-btn"),n.relList=t.querySelector(".se-list-layer"),n.relPreview=t.querySelector(".se-anchor-rel-preview"),n.relButton.addEventListener("click",i.onClick_relButton.bind(this,n)),n.relList.addEventListener("click",i.onClick_relList.bind(this,n))),n.newWindowCheck.addEventListener("change",i.onChange_newWindowCheck.bind(this,n)),n.downloadCheck.addEventListener("change",i.onChange_downloadCheck.bind(this,n)),n.anchorText.addEventListener("input",i.onChangeAnchorText.bind(this,n)),n.urlInput.addEventListener("input",i.onChangeUrlInput.bind(this,n)),n.urlInput.addEventListener("keydown",i.onKeyDownUrlInput.bind(this,s)),n.urlInput.addEventListener("focus",i.onFocusUrlInput.bind(this,n,s)),n.urlInput.addEventListener("blur",i.onBlurUrlInput.bind(this,s)),n.bookmarkButton.addEventListener("click",i.onClick_bookmarkButton.bind(this,n))},on:function(e,t){if(t){if(e.linkAnchor){this.context.dialog.updateModal=!0;const t=this.options.linkNoPrefix?e.linkAnchor.href.replace(e.linkAnchor.origin+"/",""):e.linkAnchor.href;e.linkValue=e.preview.textContent=e.urlInput.value=/\#.+$/.test(t)?t.substr(t.lastIndexOf("#")):t,e.anchorText.value=e.linkAnchor.textContent||e.linkAnchor.getAttribute("alt"),e.newWindowCheck.checked=!!/_blank/i.test(e.linkAnchor.target),e.downloadCheck.checked=e.linkAnchor.download}}else this.plugins.anchor.init.call(this,e),e.anchorText.value=this.getSelection().toString().trim(),e.newWindowCheck.checked=this.options.linkTargetNewWindow;this.context.anchor.callerContext=e,this.plugins.anchor.setRel.call(this,e,t&&e.linkAnchor?e.linkAnchor.rel:e.defaultRel),this.plugins.anchor.setLinkPreview.call(this,e,e.linkValue),this.plugins.selectMenu.on.call(this,e.callerName,this.plugins.anchor.setHeaderBookmark)},_closeRelMenu:null,toggleRelList:function(e,t){if(t){const t=e.relButton,i=e.relList;this.util.addClass(t,"active"),i.style.visibility="hidden",i.style.display="block",this.options.rtl?i.style.left=t.offsetLeft-i.offsetWidth-1+"px":i.style.left=t.offsetLeft+t.offsetWidth+1+"px",i.style.top=t.offsetTop+t.offsetHeight/2-i.offsetHeight/2+"px",i.style.visibility="",this.plugins.anchor._closeRelMenu=function(e,t,i){i&&(e.relButton.contains(i.target)||e.relList.contains(i.target))||(this.util.removeClass(t,"active"),e.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}.bind(this,e,t),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}else this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu()},onClick_relButton:function(e,t){this.plugins.anchor.toggleRelList.call(this,e,!this.util.hasClass(t.target,"active"))},onClick_relList:function(e,t){const i=t.target,n=i.getAttribute("data-command");if(!n)return;const s=e.currentRel,o=this.util.toggleClass(i,"se-checked"),l=s.indexOf(n);o?-1===l&&s.push(n):l>-1&&s.splice(l,1),e.relPreview.title=e.relPreview.textContent=s.join(" ")},setRel:function(e,t){const i=e.relList,n=e.currentRel=t?t.split(" "):[];if(!i)return;const s=i.querySelectorAll("button");for(let e,t=0,i=s.length;t<i;t++)e=s[t].getAttribute("data-command"),n.indexOf(e)>-1?this.util.addClass(s[t],"se-checked"):this.util.removeClass(s[t],"se-checked");e.relPreview.title=e.relPreview.textContent=n.join(" ")},createHeaderList:function(e,t,i){const n=this.util.getListChildren(this.context.element.wysiwyg,(function(e){return/h[1-6]/i.test(e.nodeName)}));if(0===n.length)return;const s=new this._w.RegExp("^"+i.replace(/^#/,""),"i"),o=[];let l="";for(let e,t=0,i=n.length;t<i;t++)e=n[t],s.test(e.textContent)&&(o.push(e),l+='<li class="se-select-item" data-index="'+t+'">'+e.textContent+"</li>");0===o.length?this.plugins.selectMenu.close.call(this,t):(this.plugins.selectMenu.createList(t,o,l),this.plugins.selectMenu.open.call(this,t,this.plugins.anchor._setMenuListPosition.bind(this,e)))},_setMenuListPosition:function(e,t){t.style.top=e.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(e,t){switch(t.keyCode){case 38:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,-1);break;case 40:t.preventDefault(),t.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,e,1);break;case 13:e.index>-1&&(t.preventDefault(),t.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(e,null)))}},setHeaderBookmark:function(e){const t=this.context.anchor.callerContext,i=e.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");e.id=i,t.urlInput.value="#"+i,t.anchorText.value.trim()&&t._change||(t.anchorText.value=e.textContent),this.plugins.anchor.setLinkPreview.call(this,t,t.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(e,t){e._change=!!t.target.value.trim()},onChangeUrlInput:function(e,t){const i=t.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,e,i),/^#/.test(i)?this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,i):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(e,t){const i=e.urlInput.value;/^#/.test(i)&&this.plugins.anchor.createHeaderList.call(this,e,t,i)},onBlurUrlInput:function(e){this.plugins.selectMenu.close.call(this,e)},setLinkPreview:function(e,t){const i=e.preview,n=this.options.linkProtocol,s=this.options.linkNoPrefix,o=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(t),l=!!n&&this._w.RegExp("^"+t.substr(0,n.length)).test(n);e.linkValue=i.textContent=t?s?t:!n||o||l?o?t:/^www\./.test(t)?"http://"+t:this.context.anchor.host+(/^\//.test(t)?"":"/")+t:n+t:"",0===t.indexOf("#")?(e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active")):(e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active")),-1===t.indexOf("#")&&e.downloadCheck.checked?e.download.style.display="block":e.download.style.display="none"},setCtx:function(e,t){e&&(t.linkAnchor=e,t.linkValue=e.href,t.currentRel=e.rel.split(" "))},updateAnchor:function(e,t,i,n,s){!/^\#/.test(t)&&n.downloadCheck.checked?e.setAttribute("download",i||t):e.removeAttribute("download"),n.newWindowCheck.checked?e.target="_blank":e.removeAttribute("target");const o=n.currentRel.join(" ");o?e.rel=o:e.removeAttribute("rel"),e.href=t,e.setAttribute("alt",i),s?0===e.children.length&&(e.textContent=""):e.textContent=i},createAnchor:function(e,t){if(0===e.linkValue.length)return null;const i=e.linkValue,n=e.anchorText,s=0===n.value.length?i:n.value,o=e.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor(o,i,s,e,t),e.linkValue=e.preview.textContent=e.urlInput.value=e.anchorText.value="",o},onClick_bookmarkButton:function(e){let t=e.urlInput.value;/^\#/.test(t)?(t=t.substr(1),e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(t="#"+t,e.bookmark.style.display="block",this.util.addClass(e.bookmarkButton,"active"),e.downloadCheck.checked=!1,e.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,e,this.context.selectMenu.callerContext,t)),e.urlInput.value=t,this.plugins.anchor.setLinkPreview.call(this,e,t),e.urlInput.focus()},onChange_newWindowCheck:function(e,t){"string"==typeof e.linkDefaultRel.check_new_window&&(t.target.checked?this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(e,t){t.target.checked?(e.download.style.display="block",e.bookmark.style.display="none",this.util.removeClass(e.bookmarkButton,"active"),e.linkValue=e.preview.textContent=e.urlInput.value=e.urlInput.value.replace(/^\#+/,""),"string"==typeof e.linkDefaultRel.check_bookmark&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relMerge.call(this,e,e.linkDefaultRel.check_bookmark))):(e.download.style.display="none","string"==typeof e.linkDefaultRel.check_bookmark&&this.plugins.anchor.setRel.call(this,e,this.plugins.anchor._relDelete.call(this,e,e.linkDefaultRel.check_bookmark)))},_relMerge:function(e,t){const i=e.currentRel;if(!t)return i.join(" ");if(/^only\:/.test(t))return t=t.replace(/^only\:/,"").trim(),e.currentRel=t.split(" "),t;const n=t.split(" ");for(let e,t=0,s=n.length;t<s;t++)e=i.indexOf(n[t]),-1===e&&i.push(n[t]);return i.join(" ")},_relDelete:function(e,t){if(!t)return e.currentRel.join(" ");/^only\:/.test(t)&&(t=t.replace(/^only\:/,"").trim());const i=e.currentRel.join(" ").replace(this._w.RegExp(t+"\\s*"),"");return e.currentRel=i.split(" "),i},init:function(e){e.linkAnchor=null,e.linkValue=e.preview.textContent=e.urlInput.value="",e.anchorText.value="",e.newWindowCheck.checked=!1,e.downloadCheck.checked=!1,e._change=!1,this.plugins.anchor.setRel.call(this,e,e.defaultRel),e.relList&&this.plugins.anchor.toggleRelList.call(this,e,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}},u={name:"link",display:"dialog",add:function(e){e.addModule([a.a,h]);const t=e.context,i=t.link={focusElement:null,_linkAnchor:null,anchorCtx:null};let n=this.setDialog(e);i.modal=n;let s=this.setController_LinkButton(e);i.linkController=s,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),s.addEventListener("click",this.onClick_linkController.bind(e)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(s),e.plugins.anchor.initEvent.call(e,"link",n),i.focusElement=t.anchor.caller.link.urlInput,n=null,s=null},setDialog:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.icons;i.className="se-dialog-content",i.style.display="none";let s='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+t.dialogBox.close+'">'+n.cancel+'</button><span class="se-modal-title">'+t.dialogBox.linkBox.title+"</span></div>"+e.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>";return i.innerHTML=s,i},setController_LinkButton:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+i.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"link","link"===this.currentControllerName)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();try{const e=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(this.context.dialog.updateModal){const e=this.context.link._linkAnchor.childNodes[0];this.setRange(e,0,e,e.textContent.length)}else{const t=this.getSelectedElements();if(t.length>1){const i=this.util.createElement(t[0].nodeName);if(i.appendChild(e),!this.insertNode(i,null,!0))return}else if(!this.insertNode(e,null,!0))return;this.setRange(e.childNodes[0],0,e.childNodes[0],e.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(e){if(e){if(this.util.isAnchor(e)&&null===e.getAttribute("data-image-link"))return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,e),!0}else this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();return!1},on:function(e){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,e)},call_controller:function(e){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=e;const t=this.context.link.linkController,i=t.querySelector("a");i.href=e.href,i.title=e.textContent,i.textContent=e.textContent,this.util.addClass(e,"on"),this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");if(t){if(e.preventDefault(),/update/.test(t))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(t)){const e=this.util.getChildElement(this.context.link._linkAnchor,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1),t=this.util.getChildElement(this.context.link._linkAnchor,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0);this.setRange(e,0,t,t.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}},d=i("ZED3"),p=i.n(d),g=i("ee5k"),f=i.n(g),m=i("gjS+"),_=i.n(m),v={name:"image",display:"dialog",add:function(e){e.addModule([a.a,h,p.a,f.a,_.a]);const t=e.options,i=e.context,n=i.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:"auto"===t.imageWidth?"":t.imageWidth,_origin_h:"auto"===t.imageHeight?"":t.imageHeight,_proportionChecked:!0,_resizing:t.imageResizing,_resizeDotHide:!t.imageHeightShow,_rotation:t.imageRotation,_alignHide:!t.imageAlignShow,_onlyPercentage:t.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let s=this.setDialog(e);n.modal=s,n.imgInputFile=s.querySelector("._se_image_file"),n.imgUrlFile=s.querySelector("._se_image_url"),n.focusElement=n.imgInputFile||n.imgUrlFile,n.altText=s.querySelector("._se_image_alt"),n.captionCheckEl=s.querySelector("._se_image_check_caption"),n.previewSrc=s.querySelector("._se_tab_content_image .se-link-preview"),s.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(e)),s.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.imgInputFile&&s.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(n.imgInputFile,n.imgUrlFile,n.previewSrc)),n.imgUrlFile&&n.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(n.previewSrc,n._v_src,t.linkProtocol)),n.imgInputFile&&n.imgUrlFile&&n.imgInputFile.addEventListener("change",this._fileInputChange.bind(n));const o=s.querySelector(".__se__gallery");o&&o.addEventListener("click",this._openGallery.bind(e)),n.proportion={},n.inputX={},n.inputY={},t.imageResizing&&(n.proportion=s.querySelector("._se_image_check_proportion"),n.inputX=s.querySelector("._se_image_size_x"),n.inputY=s.querySelector("._se_image_size_y"),n.inputX.value=t.imageWidth,n.inputY.value=t.imageHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(s),e.plugins.anchor.initEvent.call(e,"image",s.querySelector("._se_tab_content_url")),n.anchorCtx=e.context.anchor.caller.image,s=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content se-dialog-image",n.style.display="none";let s='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" aria-label="Close" title="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+i.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+i.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(t.imageFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+t.imageAccept+'"'+(t.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.imageUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(t.imageGalleryUrl&&e.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+i.toolbar.imageGallery+'">'+e.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-form"><label>'+i.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',t.imageResizing){const n=t.imageSizeOnlyPercentage,o=n?' style="display: none !important;"':"",l=t.imageHeightShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form">',n||!t.imageHeightShow?s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.size+"</label></div>":s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+i.dialogBox.height+"</label></div>",s+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(n?' type="number" min="1"':'type="text"')+(n?' max="100"':"")+' /><label class="se-dialog-size-x"'+l+">"+(n?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+o+(n?' max="100"':"")+l+"/><label"+o+l+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+'</label><button type="button" title="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+"</button></div>"}return s+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+i.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+e.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(t.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(e){this.altText.value=e.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=e.src,this.imgUrlFile.focus()},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},fileTags:["img"],select:function(e){this.plugins.image.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"image"))},destroy:function(e){const t=e||this.context.image._element,i=this.util.getParentElement(t,this.util.isMediaComponent)||t,n=1*t.getAttribute("data-index");let s=i.previousElementSibling||i.nextElementSibling;const o=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(e){const t=this.context.image;e?t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=t._origin_h=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.imgInputFile&&this.options.imageMultipleFile&&t.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,t.anchorCtx,e)},open:function(){this.plugins.dialog.open.call(this,"image","image"===this.currentControllerName)},openTab:function(e){const t=this.context.image.modal,i="init"===e?t.querySelector("._se_tab_link"):e.target;if(!/^BUTTON$/i.test(i.tagName))return!1;const n=i.getAttribute("data-tab-link");let s,o,l;for(o=t.getElementsByClassName("_se_tab_content"),s=0;s<o.length;s++)o[s].style.display="none";for(l=t.getElementsByClassName("_se_tab_link"),s=0;s<l.length;s++)this.util.removeClass(l[s],"active");return t.querySelector("._se_tab_content_"+n).style.display="block",this.util.addClass(i,"active"),"image"===n&&this.context.image.focusElement?this.context.image.focusElement.focus():"url"===n&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(e){const t=this.context.image,i=this.plugins.image;e.preventDefault(),e.stopPropagation(),t._altText=t.altText.value,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked,t._resizing&&(t._proportionChecked=t.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),t.imgInputFile&&t.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):t.imgUrlFile&&t._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this,t._v_src._linkValue))}catch(e){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+e.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let n=0,s=e.length;n<s;n++)/image/i.test(e[n].type)&&(i.push(e[n]),t+=e[n].size);const n=this.options.imageUploadSizeLimit;if(n>0){let e=0;const i=this.context.image._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";return void(("function"!=typeof this.functions.onImageUploadError||this.functions.onImageUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const s=this.context.image;s._uploadFileLength=i.length;const o={anchor:this.plugins.anchor.createAnchor.call(this,s.anchorCtx,!0),inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,alt:s._altText,element:s._element};if("function"==typeof this.functions.onImageUploadBefore){const e=this.functions.onImageUploadBefore(i,o,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.image.register.call(this,o,e):this.plugins.image.upload.call(this,o,e)}.bind(this));if(void 0===e)return;if(!e)return void this.closeLoading();this._w.Array.isArray(e)&&e.length>0&&(i=e)}this.plugins.image.upload.call(this,o,i)},error:function(e,t){if(this.closeLoading(),"function"!=typeof this.functions.onImageUploadError||this.functions.onImageUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.image.error] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"==typeof t)return void this.plugins.image.error.call(this,t,null);const i=this.options.imageUploadUrl,n=this.context.dialog.updateModal?1:t.length;if("string"==typeof i&&i.length>0){const s=new FormData;for(let e=0;e<n;e++)s.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.options.imageUploadHeader,s,this.plugins.image.callBack_imgUpload.bind(this,e),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,t,e.anchor,e.inputWidth,e.inputHeight,e.align,e.alt,n,e.isUpdate)},callBack_imgUpload:function(e,t){if("function"==typeof this.functions.imageUploadHandler)this.functions.imageUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let t,n=0,s=i.length;n<s;n++){if(t={name:i[n].name,size:i[n].size},e.isUpdate){this.plugins.image.update_src.call(this,i[n].url,e.element,t);break}this.plugins.image.create_image.call(this,i[n].url,e.anchor,e.inputWidth,e.inputHeight,e.align,t,e.alt)}this.closeLoading()},setup_reader:function(e,t,i,n,s,o,l,r){try{this.context.image.base64RenderIndex=l;const a=this._w.FileReader,c=[l];this.context.image.inputX.value=i,this.context.image.inputY.value=n;for(let h,u,d=0;d<l;d++)h=new a,u=e[d],h.onload=function(e,l,r,a,h){c[h]={result:e.result,file:a},0==--this.context.image.base64RenderIndex&&(this.plugins.image.onRender_imgBase64.call(this,l,c,r,t,i,n,s,o),this.closeLoading())}.bind(this,h,r,this.context.image._element,u,d),h.readAsDataURL(u)}catch(e){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+e.message+'"')}},onRender_imgBase64:function(e,t,i,n,s,o,l,r){const a=this.plugins.image.update_src,c=this.plugins.image.create_image;for(let h=0,u=t.length;h<u;h++)e?(this.context.image._element.setAttribute("data-file-name",t[h].file.name),this.context.image._element.setAttribute("data-file-size",t[h].file.size),a.call(this,t[h].result,i,t[h].file)):c.call(this,t[h].result,n,s,o,l,t[h].file,r)},onRender_imgUrl:function(e){if(e||(e=this.context.image._v_src._linkValue),!e)return!1;const t=this.context.image;try{const i={name:e.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,e,t._element,i):this.plugins.image.create_image.call(this,e,this.plugins.anchor.createAnchor.call(this,t.anchorCtx,!0),t.inputX.value,t.inputY.value,t._align,i,t._altText)}catch(e){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},onRender_link:function(e,t){return t?(t.setAttribute("data-image-link","image"),e.setAttribute("data-image-link",t.href),t.appendChild(e),t):e},setInputSize:function(e,t){t&&32===t.keyCode?t.preventDefault():this.plugins.resizing._module_setInputSize.call(this,this.context.image,e)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const e=this.plugins.image,t=this.context.image,i=function(i){e.onModifyMode.call(this,i,null),e.openModify.call(this,!0),t.inputX.value=t._origin_w,t.inputY.value=t._origin_h;const n=this.util.getFormatElement(i);n&&(t._align=n.style.textAlign||n.style.float),this.util.getParentElement(i,this.util.isAnchor)&&!t.anchorCtx.linkValue&&(t.anchorCtx.linkValue=" "),e.update_image.call(this,!0,!1,!0),e.init.call(this)}.bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,i,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(e,t,i,n,s,o,l){const r=this.plugins.image,a=this.context.image;this.context.resizing._resize_plugin="image";let c=this.util.createElement("IMG");c.src=e,c.alt=l,c.setAttribute("data-rotate","0"),t=r.onRender_link.call(this,c,t),a._resizing&&c.setAttribute("data-proportion",a._proportionChecked);const h=this.plugins.component.set_cover.call(this,t),u=this.plugins.component.set_container.call(this,h,"se-image-container");a._captionChecked&&(a._caption=this.plugins.component.create_caption.call(this),a._caption.setAttribute("contenteditable",!1),h.appendChild(a._caption)),a._element=c,a._cover=h,a._container=u,r.applySize.call(this,i,n),r.setAlign.call(this,s,c,h,u),c.onload=r._image_create_onload.bind(this,c,a.svgDefaultSize,u),this.insertComponent(u,!0,!0,!0)&&this.plugins.fileManager.setInfo.call(this,"image",c,this.functions.onImageUpload,o,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(e,t,i){if(0===e.offsetWidth&&this.plugins.image.applySize.call(this,t,""),this.options.mediaAutoSelect)this.selectComponent(e,"image");else{const e=this.appendFormatTag(i,null);e&&this.setRange(e,0,e,0)}},update_image:function(e,t,i){const n=this.context.image;let s,o=n._element,l=n._cover,r=n._container,a=!1;null===l&&(a=!0,o=n._element.cloneNode(!0),l=this.plugins.component.set_cover.call(this,o)),null===r?(l=l.cloneNode(!0),o=l.querySelector("img"),a=!0,r=this.plugins.component.set_container.call(this,l,"se-image-container")):a&&(r.innerHTML="",r.appendChild(l),n._cover=l,n._element=o,a=!1);const c=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,h=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;s=/%$/.test(o.style.width)?c!==r.style.width||h!==r.style.height:c!==o.style.width||h!==o.style.height,o.alt=n._altText;let u=!1;n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),l.appendChild(n._caption),u=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,u=!0);const d=this.plugins.anchor.createAnchor.call(this,n.anchorCtx,!0);if(d)n._linkElement!==d?(n._linkElement=d.cloneNode(!1),l.insertBefore(this.plugins.image.onRender_link.call(this,o,n._linkElement),n._caption),this.util.removeItem(d)):n._linkElement.setAttribute("data-image-link","image");else if(null!==n._linkElement){const e=o;if(e.setAttribute("data-image-link",""),l.contains(n._linkElement)){const t=e.cloneNode(!0);l.removeChild(n._linkElement),l.insertBefore(t,n._caption),n._element=o=t}}if(a){const e=this.util.isRangeFormatElement(n._element.parentNode)||this.util.isWysiwygDiv(n._element.parentNode)?n._element:/^A$/i.test(n._element.parentNode.nodeName)?n._element.parentNode:this.util.getFormatElement(n._element)||n._element;if(this.util.isListCell(e)||this.util.isFormatElement(e))n._element.parentNode.replaceChild(r,n._element);else if(this.util.isFormatElement(e)&&e.childNodes.length>0)e.parentNode.insertBefore(r,e),this.util.removeItem(n._element),this.util.removeEmptyNode(e,null),0===e.children.length&&(e.innerHTML=this.util.htmlRemoveWhiteSpace(e.innerHTML));else if(this.util.isFormatElement(e.parentNode)){const t=e.parentNode;t.parentNode.insertBefore(r,e.previousSibling?t.nextElementSibling:t),this.util.removeItem(e)}else e.parentNode.replaceChild(r,e);o=r.querySelector("img"),n._element=o,n._cover=l,n._container=r}(u||!n._onlyPercentage&&s)&&!e&&(/\d+/.test(o.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,o):this.plugins.resizing.setTransformSize.call(this,o,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0))),n._resizing&&(o.setAttribute("data-proportion",n._proportionChecked),s&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,o,null,null),e&&this.plugins.fileManager.setInfo.call(this,"image",o,this.functions.onImageUpload,null,!0),t&&this.selectComponent(o,"image"),i||this.history.push(!1)},update_src:function(e,t,i){t.src=e,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",t,this.functions.onImageUpload,i,!0)),this.selectComponent(t,"image")},onModifyMode:function(e,t){if(!e)return;const i=this.context.image;i._linkElement=i.anchorCtx.linkAnchor=/^A$/i.test(e.parentNode.nodeName)?e.parentNode:null,i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=e.style.float||e.getAttribute("data-align")||"none",e.style.float="",this.plugins.anchor.setCtx(i._linkElement,i.anchorCtx),t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n,s,o=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin");o?(o=o.split(","),n=o[0],s=o[1]):t&&(n=t.w,s=t.h),i._origin_w=n||e.style.width||e.width||"",i._origin_h=s||e.style.height||e.height||""},openModify:function(e){const t=this.context.image;t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=t._element.src),t._altText=t.altText.value=t._element.alt,(t.modal.querySelector('input[name="suneditor_image_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,t._align=t.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,t._captionChecked=t.captionCheckEl.checked=!!t._caption,t._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.image),e||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(e,t){const i=this.context.image;return e||(e=i.inputX.value||this.options.imageWidth),t||(t=i.inputY.value||this.options.imageHeight),i._onlyPercentage&&e||/%$/.test(e)?(this.plugins.image.setPercentSize.call(this,e,t),!0):(e&&"auto"!==e||t&&"auto"!==t?this.plugins.image.setSize.call(this,e,t,!1):this.plugins.image.setAutoSize.call(this),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(e,t,i,n){const s=this.context.image,o=/^(rw|lw)$/.test(n);/^(th|bh)$/.test(n)||(s._element.style.width=this.util.isNumber(e)?e+s.sizeUnit:e,this.plugins.image.cancelPercentAttr.call(this)),o||(s._element.style.height=this.util.isNumber(t)?t+s.sizeUnit:/%$/.test(t)?"":t),"center"===s._align&&this.plugins.image.setAlign.call(this,null,null,null,null),i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){const e=this.context.image;this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this),e._element.style.maxWidth="",e._element.style.width="",e._element.style.height="",e._cover.style.width="",e._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),e._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,e)},setOriginSize:function(){const e=this.context.image;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.image.cancelPercentAttr.call(this);const t=(e._element.getAttribute("data-origin")||"").split(","),i=t[0],n=t[1];t&&(e._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,e))},setPercentSize:function(e,t){const i=this.context.image;t=!t||/%$/.test(t)||this.util.getNumber(t,0)?this.util.isNumber(t)?t+i.sizeUnit:t||"":this.util.isNumber(t)?t+"%":t;const n=/%$/.test(t);i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?t:"",i._element.style.width="100%",i._element.style.height=n?"":t,i._element.style.maxWidth="","center"===i._align&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.image;e._cover.style.width="",e._cover.style.height="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.image._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),"center"===e._align&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const s=this.context.image;e||(e=s._align),t||(t=s._element),i||(i=s._cover),n||(n=s._container),i.style.margin=e&&"none"!==e?"auto":"0",/%$/.test(t.style.width)&&"center"===e?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width&&"auto"!==t.style.width?t.style.width||"100%":""),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){const e=this.context.image;e.imgInputFile&&(e.imgInputFile.value=""),e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=""),e.imgInputFile&&e.imgUrlFile&&(e.imgUrlFile.removeAttribute("disabled"),e.previewSrc.style.textDecoration=""),e.altText.value="",e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,e.captionCheckEl.checked=!1,e._element=null,this.plugins.image.openTab.call(this,"init"),e._resizing&&(e.inputX.value=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.proportion.checked=!0,e._ratio=!1,e._ratioX=1,e._ratioY=1),this.plugins.anchor.init.call(this,e.anchorCtx)}},y={name:"video",display:"dialog",add:function(e){e.addModule([a.a,p.a,f.a,_.a]);const t=e.options,i=e.context,n=i.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:t._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:t.youtubeQuery,_videoRatio:100*t.videoRatio+"%",_defaultRatio:100*t.videoRatio+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:100*t.videoRatio+"%",_origin_w:"100%"===t.videoWidth?"":t.videoWidth,_origin_h:"56.25%"===t.videoHeight?"":t.videoHeight,_proportionChecked:!0,_resizing:t.videoResizing,_resizeDotHide:!t.videoHeightShow,_rotation:t.videoRotation,_alignHide:!t.videoAlignShow,_onlyPercentage:t.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let s=this.setDialog(e);n.modal=s,n.videoInputFile=s.querySelector("._se_video_file"),n.videoUrlFile=s.querySelector(".se-input-url"),n.focusElement=n.videoUrlFile||n.videoInputFile,n.preview=s.querySelector(".se-link-preview"),s.querySelector("form").addEventListener("submit",this.submit.bind(e)),n.videoInputFile&&s.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.videoInputFile,n.videoUrlFile,n.preview)),n.videoInputFile&&n.videoUrlFile&&n.videoInputFile.addEventListener("change",this._fileInputChange.bind(n)),n.videoUrlFile&&n.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,t.linkProtocol)),n.proportion={},n.videoRatioOption={},n.inputX={},n.inputY={},t.videoResizing&&(n.proportion=s.querySelector("._se_video_check_proportion"),n.videoRatioOption=s.querySelector(".se-video-ratio"),n.inputX=s.querySelector("._se_video_size_x"),n.inputY=s.querySelector("._se_video_size_y"),n.inputX.value=t.videoWidth,n.inputY.value=t.videoHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(e,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(e,"y")),n.inputX.addEventListener("change",this.setRatio.bind(e)),n.inputY.addEventListener("change",this.setRatio.bind(e)),n.proportion.addEventListener("change",this.setRatio.bind(e)),n.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(e)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(e))),i.dialog.modal.appendChild(s),s=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(t.videoFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+t.videoAccept+'"'+(t.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.videoUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),t.videoResizing){const n=t.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],o=t.videoRatio,l=t.videoSizeOnlyPercentage,r=l?' style="display: none !important;"':"",a=t.videoHeightShow?"":' style="display: none !important;"',c=t.videoRatioShow?"":' style="display: none !important;"',h=l||t.videoHeightShow||t.videoRatioShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+a+">"+i.dialogBox.height+'</label><label class="size-h"'+c+">("+i.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+'/><label class="se-dialog-size-x"'+h+">"+(l?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+100*t.videoRatio+'%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+a+'/><select class="se-input-select se-video-ratio" title="'+i.dialogBox.ratio+'"'+c+">",a||(s+='<option value=""> - </option>');for(let e=0,t=n.length;e<t;e++)s+='<option value="'+n[e].value+'"'+(o.toString()===n[e].value.toString()?" selected":"")+">"+n[e].name+"</option>";s+='</select><button type="button" title="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+e.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+r+h+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+"</label></div>"}return s+='</div><div class="se-dialog-footer"><div'+(t.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(e._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.options.videoTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createVideoTag:function(){const e=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,e),e},_setIframeAttrs:function(e){e.frameBorder="0",e.allowFullscreen=!0;const t=this.options.videoIframeAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},createIframeTag:function(){const e=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,e),e},fileTags:["iframe","video"],select:function(e){this.plugins.video.onModifyMode.call(this,e,this.plugins.resizing.call_controller_resize.call(this,e,"video"))},destroy:function(e){const t=e||this.context.video._element,i=this.context.video._container,n=1*t.getAttribute("data-index");let s=i.previousElementSibling||i.nextElementSibling;const o=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(e){const t=this.context.video;e?t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.removeAttribute("multiple"):(t.inputX.value=t._origin_w=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=t._origin_h=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.disabled=!0,t.videoInputFile&&this.options.videoMultipleFile&&t.videoInputFile.setAttribute("multiple","multiple")),t._resizing&&this.plugins.video.setVideoRatioSelect.call(this,t._origin_h||t._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video","video"===this.currentControllerName)},setVideoRatio:function(e){const t=this.context.video,i=e.target.options[e.target.selectedIndex].value;t._defaultSizeY=t._videoRatio=i?100*i+"%":t._defaultSizeY,t.inputY.placeholder=i?100*i+"%":"",t.inputY.value=""},setInputSize:function(e,t){if(t&&32===t.keyCode)return void t.preventDefault();const i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,e),"y"===e&&this.plugins.video.setVideoRatioSelect.call(this,t.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(e){const t=this.context.video,i=this.plugins.video;e.preventDefault(),e.stopPropagation(),t._align=t.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{t.videoInputFile&&t.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):t.videoUrlFile&&t._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this,t._linkValue))}catch(e){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+e.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let n=0,s=e.length;n<s;n++)/video/i.test(e[n].type)&&(i.push(e[n]),t+=e[n].size);const n=this.options.videoUploadSizeLimit;if(n>0){let e=0;const i=this.context.video._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";return void(("function"!=typeof this.functions.onVideoUploadError||this.functions.onVideoUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const s=this.context.video;s._uploadFileLength=i.length;const o={inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,element:s._element};if("function"==typeof this.functions.onVideoUploadBefore){const e=this.functions.onVideoUploadBefore(i,o,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.video.register.call(this,o,e):this.plugins.video.upload.call(this,o,e)}.bind(this));if(void 0===e)return;if(!e)return void this.closeLoading();"object"==typeof e&&e.length>0&&(i=e)}this.plugins.video.upload.call(this,o,i)},error:function(e,t){if(this.closeLoading(),"function"!=typeof this.functions.onVideoUploadError||this.functions.onVideoUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.video.error] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"==typeof t)return void this.plugins.video.error.call(this,t,null);const i=this.options.videoUploadUrl,n=this.context.dialog.updateModal?1:t.length;if(!("string"==typeof i&&i.length>0))throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.');{const s=new FormData;for(let e=0;e<n;e++)s.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.options.videoUploadHeader,s,this.plugins.video.callBack_videoUpload.bind(this,e),this.functions.onVideoUploadError)}},callBack_videoUpload:function(e,t){if("function"==typeof this.functions.videoUploadHandler)this.functions.videoUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,e,i)}},register:function(e,t){const i=t.result,n=this.plugins.video.createVideoTag.call(this);for(let t,s=0,o=i.length;s<o;s++)t={name:i[s].name,size:i[s].size},this.plugins.video.create_video.call(this,e.isUpdate?e.element:n.cloneNode(!1),i[s].url,e.inputWidth,e.inputHeight,e.align,t,e.isUpdate);this.closeLoading()},setup_url:function(e){try{const t=this.context.video;if(e||(e=t._linkValue),!e)return!1;if(/^<iframe.*\/iframe>$/.test(e)&&0===(e=(new this._w.DOMParser).parseFromString(e,"text/html").querySelector("iframe").src).length)return!1;if(/youtu\.?be/.test(e)){if(/^http/.test(e)||(e="https://"+e),e=e.replace("watch?v=",""),/^\/\/.+\/embed\//.test(e)||(e=e.replace(e.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),t._youtubeQuery.length>0)if(/\?/.test(e)){const i=e.split("?");e=i[0]+"?"+t._youtubeQuery+"&"+i[1]}else e+="?"+t._youtubeQuery}else/vimeo\.com/.test(e)&&(e.endsWith("/")&&(e=e.slice(0,-1)),e="https://player.vimeo.com/video/"+e.slice(e.lastIndexOf("/")+1));this.plugins.video.create_video.call(this,this.plugins.video[/youtu\.?be/.test(e)||/vimeo\.com/.test(e)?"createIframeTag":"createVideoTag"].call(this),e,t.inputX.value,t.inputY.value,t._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(e,t,i,n,s,o,l){this.context.resizing._resize_plugin="video";const r=this.context.video;let a=null,c=null,h=!1;if(l){if((e=r._element).src!==t){h=!0;const i=/youtu\.?be/.test(t),n=/vimeo\.com/.test(t);if(!i&&!n||/^iframe$/i.test(e.nodeName))if(i||n||/^videoo$/i.test(e.nodeName))e.src=t;else{const i=this.plugins.video.createVideoTag.call(this);i.src=t,e.parentNode.replaceChild(i,e),r._element=e=i}else{const i=this.plugins.video.createIframeTag.call(this);i.src=t,e.parentNode.replaceChild(i,e),r._element=e=i}}c=r._container,a=this.util.getParentElement(e,"FIGURE")}else h=!0,e.src=t,r._element=e,a=this.plugins.component.set_cover.call(this,e),c=this.plugins.component.set_container.call(this,a,"se-video-container");r._cover=a,r._container=c;const u=this.plugins.resizing._module_getSizeX.call(this,r)!==(i||r._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,r)!==(n||r._videoRatio),d=!l||u;r._resizing&&(this.context.video._proportionChecked=r.proportion.checked,e.setAttribute("data-proportion",r._proportionChecked));let p=!1;d&&(p=this.plugins.video.applySize.call(this)),p&&"center"===s||this.plugins.video.setAlign.call(this,null,e,a,c);let g=!0;if(l)r._resizing&&this.context.resizing._rotateVertical&&d&&this.plugins.resizing.setTransformSize.call(this,e,null,null);else if(g=this.insertComponent(c,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){const e=this.appendFormatTag(c,null);e&&this.setRange(e,0,e,0)}g&&(h&&this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,o,!0),l&&(this.selectComponent(e,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(e){if(!e)return;const t=this.context.video;/^video$/i.test(e.nodeName)?this.plugins.video._setTagAttrs.call(this,e):this.plugins.video._setIframeAttrs.call(this,e);const i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e,n=e;t._element=e=e.cloneNode(!0);const s=t._cover=this.plugins.component.set_cover.call(this,e),o=t._container=this.plugins.component.set_container.call(this,s,"se-video-container");try{const l=i.querySelector("figcaption");let r=null;l&&(r=this.util.createElement("DIV"),r.innerHTML=l.innerHTML,this.util.removeItem(l));const a=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,a[0]||n.style.width||n.width||"",a[1]||n.style.height||n.height||"");const c=this.util.getFormatElement(n);c&&(t._align=c.style.textAlign||c.style.float),this.plugins.video.setAlign.call(this,null,e,s,o),this.util.isListCell(i)||this.util.isFormatElement(i)?n.parentNode.replaceChild(o,n):this.util.isFormatElement(i)&&i.childNodes.length>0?(i.parentNode.insertBefore(o,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null),0===i.children.length&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))):i.parentNode.replaceChild(o,i),r&&i.parentNode.insertBefore(r,o.nextElementSibling)}catch(e){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",e)}this.plugins.fileManager.setInfo.call(this,"video",e,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(e,t){const i=this.context.video;i._element=e,i._cover=this.util.getParentElement(e,"FIGURE"),i._container=this.util.getParentElement(e,this.util.isMediaComponent),i._align=e.style.float||e.getAttribute("data-align")||"none",e.style.float="",t&&(i._element_w=t.w,i._element_h=t.h,i._element_t=t.t,i._element_l=t.l);let n,s,o=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin");o?(o=o.split(","),n=o[0],s=o[1]):t&&(n=t.w,s=t.h),i._origin_w=n||e.style.width||e.width||"",i._origin_h=s||e.style.height||e.height||""},openModify:function(e){const t=this.context.video;if(t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=t._element.src||(t._element.querySelector("source")||"").src||""),(t.modal.querySelector('input[name="suneditor_video_radio"][value="'+t._align+'"]')||t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,t._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,t,this.plugins.video);const e=t._videoRatio=this.plugins.resizing._module_getSizeY.call(this,t);this.plugins.video.setVideoRatioSelect.call(this,e)||(t.inputY.value=t._onlyPercentage?this.util.getNumber(e,2):e)}e||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(e){let t=!1;const i=this.context.video,n=i.videoRatioOption.options;/%$/.test(e)||i._onlyPercentage?e=this.util.getNumber(e,2)/100+"":(!this.util.isNumber(e)||1*e>=1)&&(e=""),i.inputY.placeholder="";for(let s=0,o=n.length;s<o;s++)n[s].value===e?(t=n[s].selected=!0,i.inputY.placeholder=e?100*e+"%":""):n[s].selected=!1;return t},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(e,t){const i=this.context.video;return e||(e=i.inputX.value||this.options.videoWidth),t||(t=i.inputY.value||this.options.videoHeight),i._onlyPercentage||/%$/.test(e)||!e?(this.plugins.video.setPercentSize.call(this,e||"100%",t||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):(e&&"auto"!==e||t&&"auto"!==t?this.plugins.video.setSize.call(this,e,t||i._videoRatio||i._defaultRatio,!1):this.plugins.video.setAutoSize.call(this),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(e,t,i,n){const s=this.context.video,o=/^(rw|lw)$/.test(n),l=/^(th|bh)$/.test(n);l||(e=this.util.getNumber(e,0)),o||(t=this.util.isNumber(t)?t+s.sizeUnit:t||""),l||(s._element.style.width=e?e+s.sizeUnit:""),o||(s._cover.style.paddingBottom=s._cover.style.height=t),l||/%$/.test(e)||(s._cover.style.width="",s._container.style.width=""),o||/%$/.test(t)?s._element.style.height="":s._element.style.height=t,i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(e){const t=this.context.video;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.video.cancelPercentAttr.call(this);const i=((e?t._element.getAttribute("data-size"):"")||t._element.getAttribute("data-origin")||"").split(",");if(i){const e=i[0],n=i[1];t._onlyPercentage||/%$/.test(e)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.video.setPercentSize.call(this,e,n):this.plugins.video.setSize.call(this,e,n),this.plugins.resizing._module_saveCurrentSize.call(this,t)}},setPercentSize:function(e,t){const i=this.context.video;t=!t||/%$/.test(t)||this.util.getNumber(t,0)?this.util.isNumber(t)?t+i.sizeUnit:t||i._defaultRatio:this.util.isNumber(t)?t+"%":t,i._container.style.width=this.util.isNumber(e)?e+"%":e,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=t,i._cover.style.paddingBottom=t,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="","center"===i._align&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",e+","+t),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const e=this.context.video;e._cover.style.width="",e._cover.style.height="",e._cover.style.paddingBottom="",e._container.style.width="",e._container.style.height="",this.util.removeClass(e._container,this.context.video._floatClassRegExp),this.util.addClass(e._container,"__se__float-"+e._align),"center"===e._align&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(e,t,i,n){const s=this.context.video;e||(e=s._align),t||(t=s._element),i||(i=s._cover),n||(n=s._container),i.style.margin=e&&"none"!==e?"auto":"0",/%$/.test(t.style.width)&&"center"===e?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?t.style.height||t.offsetHeight:t.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+e)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+e)),t.setAttribute("data-align",e)},init:function(){const e=this.context.video;e.videoInputFile&&(e.videoInputFile.value=""),e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=""),e.videoInputFile&&e.videoUrlFile&&(e.videoUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._origin_w=this.options.videoWidth,e._origin_h=this.options.videoHeight,e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,e._resizing&&(e.inputX.value=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.checked=!0,e.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,e._defaultRatio))}},b={name:"audio",display:"dialog",add:function(e){e.addModule([a.a,p.a,_.a]);const t=e.context,i=t.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:e.options.audioWidth,_origin_h:e.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let n=this.setDialog(e);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let s=this.setController(e);i.controller=s,n.querySelector("form").addEventListener("submit",this.submit.bind(e)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),s.addEventListener("click",this.onClick_controller.bind(e)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,e.options.linkProtocol)),t.dialog.modal.appendChild(n),t.element.relative.appendChild(s),n=null,s=null},setDialog:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+i.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return t.audioFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+t.audioAccept+'"'+(t.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'">'+e.icons.cancel+"</button></div></div>"),t.audioUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},setController:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(e,t){this.value="",e&&(e.removeAttribute("disabled"),t.style.textDecoration="")},_createAudioTag:function(){const e=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,e);const t=this.context.audio._origin_w,i=this.context.audio._origin_h;return e.setAttribute("origin-size",t+","+i),e.style.cssText=(t?"width:"+t+"; ":"")+(i?"height:"+i+";":""),e},_setTagAttrs:function(e){e.setAttribute("controls",!0);const t=this.options.audioTagAttrs;if(t)for(let i in t)this.util.hasOwn(t,i)&&e.setAttribute(i,t[i])},_onLinkPreview:function(e,t,i){const n=i.target.value.trim();e._linkValue=this.textContent=n?t&&-1===n.indexOf("://")&&0!==n.indexOf("#")?t+n:-1===n.indexOf("://")?"/"+n:n:""},fileTags:["audio"],select:function(e){this.plugins.audio.onModifyMode.call(this,e)},destroy:function(e){e=e||this.context.audio._element;const t=this.util.getParentElement(e,this.util.isComponent)||e,i=1*e.getAttribute("data-index"),n=t.previousElementSibling||t.nextElementSibling,s=t.parentNode;this.util.removeItem(t),this.plugins.audio.init.call(this),this.controllersOff(),s!==this.context.element.wysiwyg&&this.util.removeItemAllParents(s,(function(e){return 0===e.childNodes.length}),null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(e){const t=this.context.audio;e?t._element?(this.context.dialog.updateModal=!0,t._linkValue=t.preview.textContent=t.audioUrlFile.value=t._element.src,t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple")):t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),t.audioInputFile&&this.options.audioMultipleFile&&t.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio","audio"===this.currentControllerName)},submit:function(e){const t=this.context.audio;e.preventDefault(),e.stopPropagation();try{t.audioInputFile&&t.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,t.audioInputFile.files)):t.audioUrlFile&&t._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,t._linkValue))}catch(e){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+e.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(e){if(0===e.length)return;let t=0,i=[];for(let n=0,s=e.length;n<s;n++)/audio/i.test(e[n].type)&&(i.push(e[n]),t+=e[n].size);const n=this.options.audioUploadSizeLimit;if(n>0){let e=0;const i=this.context.audio._infoList;for(let t=0,n=i.length;t<n;t++)e+=1*i[t].size;if(t+e>n){this.closeLoading();const i="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";return void(("function"!=typeof this.functions.onAudioUploadError||this.functions.onAudioUploadError(i,{limitSize:n,currentSize:e,uploadSize:t},this))&&this.functions.noticeOpen(i))}}const s=this.context.audio;s._uploadFileLength=i.length;const o={isUpdate:this.context.dialog.updateModal,element:s._element};if("function"==typeof this.functions.onAudioUploadBefore){const e=this.functions.onAudioUploadBefore(i,o,this,function(e){e&&this._w.Array.isArray(e.result)?this.plugins.audio.register.call(this,o,e):this.plugins.audio.upload.call(this,o,e)}.bind(this));if(void 0===e)return;if(!e)return void this.closeLoading();"object"==typeof e&&e.length>0&&(i=e)}this.plugins.audio.upload.call(this,o,i)},error:function(e,t){if(this.closeLoading(),"function"!=typeof this.functions.onAudioUploadError||this.functions.onAudioUploadError(e,t,this))throw this.functions.noticeOpen(e),Error("[SUNEDITOR.plugin.audio.exception] response: "+e)},upload:function(e,t){if(!t)return void this.closeLoading();if("string"==typeof t)return void this.plugins.audio.error.call(this,t,null);const i=this.options.audioUploadUrl,n=this.context.dialog.updateModal?1:t.length,s=new FormData;for(let e=0;e<n;e++)s.append("file-"+e,t[e]);this.plugins.fileManager.upload.call(this,i,this.options.audioUploadHeader,s,this.plugins.audio.callBack_upload.bind(this,e),this.functions.onAudioUploadError)},callBack_upload:function(e,t){if("function"==typeof this.functions.audioUploadHandler)this.functions.audioUploadHandler(t,e,this);else{const i=JSON.parse(t.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,e,i)}},register:function(e,t){const i=t.result;for(let t,n,s=0,o=i.length;s<o;s++)n=e.isUpdate?e.element:this.plugins.audio._createAudioTag.call(this),t={name:i[s].name,size:i[s].size},this.plugins.audio.create_audio.call(this,n,i[s].url,t,e.isUpdate);this.closeLoading()},setupUrl:function(e){try{if(0===e.length)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),e,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_audio:function(e,t,i,n){const s=this.context.audio;if(n){if(s._element&&(e=s._element),!e||e.src===t)return void this.selectComponent(e,"audio");e.src=t,this.selectComponent(e,"audio")}else{e.src=t;const i=this.plugins.component.set_cover.call(this,e),n=this.plugins.component.set_container.call(this,i,"");if(!this.insertComponent(n,!1,!0,!this.options.mediaAutoSelect))return void this.focus();if(!this.options.mediaAutoSelect){const e=this.appendFormatTag(n,null);e&&this.setRange(e,0,e,0)}}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,i,!1),n&&this.history.push(!1)},updateCover:function(e){const t=this.context.audio;this.plugins.audio._setTagAttrs.call(this,e);const i=this.util.isRangeFormatElement(e.parentNode)||this.util.isWysiwygDiv(e.parentNode)?e:this.util.getFormatElement(e)||e,n=e;t._element=e=e.cloneNode(!1);const s=this.plugins.component.set_cover.call(this,e),o=this.plugins.component.set_container.call(this,s,"se-audio-container");try{this.util.isListCell(i)||this.util.isFormatElement(i)?n.parentNode.replaceChild(o,n):this.util.isFormatElement(i)&&i.childNodes.length>0?(i.parentNode.insertBefore(o,i),this.util.removeItem(n),this.util.removeEmptyNode(i,null),0===i.children.length&&(i.innerHTML=this.util.htmlRemoveWhiteSpace(i.innerHTML))):i.parentNode.replaceChild(o,i)}catch(e){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",e)}this.plugins.fileManager.setInfo.call(this,"audio",e,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(e){const t=this.context.audio;this.setControllerPosition(t.controller,e,"bottom",{left:0,top:0}),this.controllersOn(t.controller,e,this.plugins.audio.onControllerOff.bind(this,e),"audio"),this.util.addClass(e,"active"),t._element=e,t._cover=this.util.getParentElement(e,"FIGURE"),t._container=this.util.getParentElement(e,this.util.isComponent)},openModify:function(e){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}e||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(e){this.util.removeClass(e,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const e=this.context.audio;e.audioInputFile&&(e.audioInputFile.value=""),e.audioUrlFile&&(e._linkValue=e.preview.textContent=e.audioUrlFile.value=""),e.audioInputFile&&e.audioUrlFile&&(e.audioUrlFile.removeAttribute("disabled"),e.preview.style.textDecoration=""),e._element=null}},w={name:"math",display:"dialog",add:function(e){e.addModule([a.a]);const t=e.context;t.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let i=this.setDialog(e);t.math.modal=i,t.math.focusElement=i.querySelector(".se-math-exp"),t.math.previewElement=i.querySelector(".se-math-preview"),t.math.fontSizeElement=i.querySelector(".se-math-size"),t.math.focusElement.addEventListener("keyup",this._renderMathExp.bind(e,t.math),!1),t.math.focusElement.addEventListener("change",this._renderMathExp.bind(e,t.math),!1),t.math.fontSizeElement.addEventListener("change",function(e){this.fontSize=e.target.value}.bind(t.math.previewElement.style),!1);let n=this.setController_MathButton(e);t.math.mathController=n,t.math._mathExp=null,i.querySelector("form").addEventListener("submit",this.submit.bind(e),!1),n.addEventListener("click",this.onClick_mathController.bind(e)),t.math.previewElement.style.fontSize=t.math.defaultFontSize,t.dialog.modal.appendChild(i),t.element.relative.appendChild(n),i=null,n=null},setDialog:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.options.mathFontSize;let s=n[0].value;i.className="se-dialog-content",i.style.display="none";let o='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" aria-label="Close" title="'+t.dialogBox.close+'">'+e.icons.cancel+'</button><span class="se-modal-title">'+t.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.inputLabel+' (<a href="https://katex.org/docs/supported.html" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let e,t=0,i=n.length;t<i;t++)e=n[t],e.default&&(s=e.value),o+='<option value="'+e.value+'"'+(e.default?" selected":"")+">"+e.text+"</option>";return o+='</select></div><div class="se-dialog-form"><label>'+t.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+t.dialogBox.submitButton+'"><span>'+t.dialogBox.submitButton+"</span></button></div></form>",e.context.math.defaultFontSize=s,i.innerHTML=o,i},setController_MathButton:function(e){const t=e.lang,i=e.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+e.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+e.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"math","math"===this.currentControllerName)},managedTags:function(){return{className:"katex",method:function(e){if(!e.getAttribute("data-exp")||!this.options.katex)return;const t=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(e.getAttribute("data-exp"))));e.innerHTML=t.querySelector(".katex").innerHTML}}},_renderer:function(e){const t=this.options.katex;return t.src.renderToString(e,t.options)},_renderMathExp:function(e,t){e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t.target.value)},submit:function(e){this.showLoading(),e.preventDefault(),e.stopPropagation();const t=function(){if(0===this.context.math.focusElement.value.trim().length)return!1;const e=this.context.math,t=e.focusElement.value,i=e.previewElement.querySelector(".katex");if(!i)return!1;if(i.className="__se__katex "+i.className,i.setAttribute("contenteditable",!1),i.setAttribute("data-exp",this.util.HTMLEncoder(t)),i.setAttribute("data-font-size",e.fontSizeElement.value),i.style.fontSize=e.fontSizeElement.value,this.context.dialog.updateModal){const t=this.util.getParentElement(e._mathExp,".katex");t.parentNode.replaceChild(i,t),this.setRange(i,0,i,1)}else{const e=this.getSelectedElements();if(e.length>1){const t=this.util.createElement(e[0].nodeName);if(t.appendChild(i),!this.insertNode(t,null,!0))return!1}else if(!this.insertNode(i,null,!0))return!1;const t=this.util.createTextNode(this.util.zeroWidthSpace);i.parentNode.insertBefore(t,i.nextSibling),this.setRange(i,0,i,1)}return e.focusElement.value="",e.fontSizeElement.value="1em",e.previewElement.style.fontSize="1em",e.previewElement.innerHTML="",!0}.bind(this);try{t()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch(e){this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(e){if(e){if(e.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(e,0,e,1),this.plugins.math.call_controller.call(this,e)),!0}else this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();return!1},on:function(e){if(e){const e=this.context.math;if(e._mathExp){const t=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),i=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=t,e.fontSizeElement.value=i,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,t),e.previewElement.style.fontSize=i}}else this.plugins.math.init.call(this)},call_controller:function(e){this.context.math._mathExp=e;const t=this.context.math.mathController;this.setControllerPosition(t,e,"bottom",{left:0,top:0}),this.controllersOn(t,e,"math")},onClick_mathController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")||e.target.parentNode.getAttribute("data-command");t&&(e.preventDefault(),/update/.test(t)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const e=this.context.math;e.mathController.style.display="none",e._mathExp=null,e.focusElement.value="",e.previewElement.innerHTML=""}},x=i("JhlZ"),C=i.n(x),T={blockquote:{name:"blockquote",display:"command",add:function(e,t){e.context.blockquote={targetButton:t,tag:e.util.createElement("BLOCKQUOTE")}},active:function(e){if(e){if(/blockquote/i.test(e.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0}else this.util.removeClass(this.context.blockquote.targetButton,"active");return!1},action:function(){const e=this.util.getParentElement(this.getSelectionNode(),"blockquote");e?this.detachRangeFormatElement(e,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},align:{name:"align",display:"submenu",add:function(e,t){const i=e.icons,n=e.context;n.align={targetButton:t,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:e.options.rtl?"right":"left",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let s=this.setSubmenu(e),o=n.align._itemMenu=s.querySelector("ul");o.addEventListener("click",this.pickup.bind(e)),n.align._alignList=o.querySelectorAll("li button"),e.initMenuTarget(this.name,t,s),s=null,o=null},setSubmenu:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV"),s=e.options.alignItems;let o="";for(let e,n,l=0;l<s.length;l++)e=s[l],n=t.toolbar["align"+e.charAt(0).toUpperCase()+e.slice(1)],o+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+e+'" title="'+n+'"><span class="se-list-icon">'+i["align_"+e]+"</span>"+n+"</button></li>";return n.className="se-submenu se-list-layer se-list-align",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+o+"</ul></div>",n},active:function(e){const t=this.context.align,i=t.targetButton,n=i.firstElementChild;if(e){if(this.util.isFormatElement(e)){const s=e.style.textAlign;if(s)return this.util.changeElement(n,t.icons[s]||t.icons[t.defaultDir]),i.setAttribute("data-focus",s),!0}}else this.util.changeElement(n,t.icons[t.defaultDir]),i.removeAttribute("data-focus");return!1},on:function(){const e=this.context.align,t=e._alignList,i=e.targetButton.getAttribute("data-focus")||e.defaultDir;if(i!==e.currentAlign){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentAlign=i}},exchangeDir:function(){const e=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===e)return;this.context.align.defaultDir=e;let t=this.context.align._itemMenu,i=t.querySelector('[data-value="left"]'),n=t.querySelector('[data-value="right"]');if(i&&n){const e=i.parentElement,t=n.parentElement;e.appendChild(n),t.appendChild(i)}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!i&&!/UL/i.test(t.tagName);)i=t.getAttribute("data-value"),t=t.parentNode;if(!i)return;const n=this.context.align.defaultDir,s=this.getSelectedElements();for(let e=0,t=s.length;e<t;e++)this.util.setStyle(s[e],"textAlign",i===n?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},font:{name:"font",display:"submenu",add:function(e,t){const i=e.context;i.font={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu(e);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(e)),i.font._fontList=n.querySelectorAll("ul li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");let s,o,l,r;n.className="se-submenu se-list-layer se-list-font-family";let a=t.font?t.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],c='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(l=0,r=a.length;l<r;l++)s=a[l],o=s.split(",")[0],c+='<li><button type="button" class="se-btn-list" data-value="'+s+'" data-txt="'+o+'" title="'+o+'" style="font-family:'+s+';">'+o+"</button></li>";return c+="</ul></div>",n.innerHTML=c,n},active:function(e){const t=this.context.font.targetText,i=this.context.font.targetTooltip;if(e){if(e.style&&e.style.fontFamily.length>0){const n=e.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(t,n),this.util.changeTxt(i,this.lang.toolbar.font+" ("+n+")"),!0}}else{const e=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(t,e),this.util.changeTxt(i,this.hasFocus?this.lang.toolbar.font+(e?" ("+e+")":""):e)}return!1},on:function(){const e=this.context.font,t=e._fontList,i=e.targetText.textContent;if(i!==e.currentFont){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentFont=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value");if(t){const e=this.util.createElement("SPAN");e.style.fontFamily=t,this.nodeChange(e,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},fontSize:{name:"fontSize",display:"submenu",add:function(e,t){const i=e.context;i.fontSize={targetText:t.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.fontSize._sizeList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-size";const s=t.fontSize?t.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let e,i=0,n=t.fontSizeUnit,l=s.length;i<l;i++)e=s[i],o+='<li><button type="button" class="se-btn-list" data-value="'+e+n+'" title="'+e+n+'" style="font-size:'+e+n+';">'+e+"</button></li>";return o+="</ul></div>",n.innerHTML=o,n},active:function(e){if(e){if(e.style&&e.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,e.style.fontSize),!0}else this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this.wwComputedStyle.fontSize:this.lang.toolbar.fontSize);return!1},on:function(){const e=this.context.fontSize,t=e._sizeList,i=e.targetText.textContent;if(i!==e.currentSize){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentSize=i}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value");if(t){const e=this.util.createElement("SPAN");e.style.fontSize=t,this.nodeChange(e,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},fontColor:s,hiliteColor:o,horizontalRule:{name:"horizontalRule",display:"submenu",add:function(e,t){e.context.horizontalRule={currentHR:null};let i=this.setSubmenu(e);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(e)),e.initMenuTarget(this.name,t,i),i=null},setSubmenu:function(e){const t=e.lang,i=e.util.createElement("DIV"),n=e.options.hrItems||[{name:t.toolbar.hr_solid,class:"__se__solid"},{name:t.toolbar.hr_dashed,class:"__se__dashed"},{name:t.toolbar.hr_dotted,class:"__se__dotted"}];let s="";for(let e=0,t=n.length;e<t;e++)s+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+n[e].class+'" title="'+n[e].name+'"><hr'+(n[e].class?' class="'+n[e].class+'"':"")+(n[e].style?' style="'+n[e].style+'"':"")+"/></button></li>";return i.className="se-submenu se-list-layer se-list-line",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+s+"</ul></div>",i},active:function(e){if(e){if(/HR/i.test(e.nodeName))return this.context.horizontalRule.currentHR=e,this.util.hasClass(e,"on")||(this.util.addClass(e,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,e,"on"))),!0}else this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();return!1},appendHr:function(e){return this.focus(),this.insertComponent(e.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=t.getAttribute("data-command");for(;!i&&!/UL/i.test(t.tagName);)t=t.parentNode,i=t.getAttribute("data-command");if(!i)return;const n=this.plugins.horizontalRule.appendHr.call(this,t.firstElementChild);n&&(this.setRange(n,0,n,0),this.submenuOff())}},list:{name:"list",display:"submenu",add:function(e,t){const i=e.context;i.list={targetButton:t,_list:null,currentList:"",icons:{bullets:e.icons.list_bullets,number:e.icons.list_number}};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.list._list=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){const t=e.lang,i=e.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+t.toolbar.orderList+'">'+e.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+t.toolbar.unorderList+'">'+e.icons.list_bullets+"</button></li></ul></div>",i},active:function(e){const t=this.context.list.targetButton,i=t.firstElementChild,n=this.util;if(e){if(n.isList(e)){const s=e.nodeName;return t.setAttribute("data-focus",s),n.addClass(t,"active"),/UL/i.test(s)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}}else t.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(t,"active");return!1},on:function(){const e=this.context.list,t=e._list,i=e.targetButton.getAttribute("data-focus")||"";if(i!==e.currentList){for(let e=0,n=t.length;e<n;e++)i===t[e].getAttribute("data-command")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentList=i}},editList:function(e,t,i){let n=this.getRange(),s=t||this.getSelectedElementsAndComponents(!1);if(0===s.length){if(t)return;if(n=this.getRange_addLine(n,null),s=this.getSelectedElementsAndComponents(!1),0===s.length)return}const o=this.util;o.sortByDepth(s,!0);let l=s[0],r=s[s.length-1],a=!o.isListCell(l)&&!o.isComponent(l)||l.previousElementSibling?l.previousElementSibling:l.parentNode.previousElementSibling,c=!o.isListCell(r)&&!o.isComponent(r)||r.nextElementSibling?r.nextElementSibling:r.parentNode.nextElementSibling;const h={sc:n.startContainer,so:n.startContainer===n.endContainer&&o.onlyZeroWidthSpace(n.startContainer)&&0===n.startOffset&&1===n.endOffset?n.endOffset:n.startOffset,ec:n.endContainer,eo:n.endOffset};let u=!0;for(let e=0,t=s.length;e<t;e++)if(!o.isList(o.getRangeFormatElement(s[e],function(t){return this.getRangeFormatElement(t)&&t!==s[e]}.bind(o)))){u=!1;break}if(!u||a&&l.tagName===a.tagName&&e===a.tagName.toUpperCase()||c&&r.tagName===c.tagName&&e===c.tagName.toUpperCase()){const t=a?a.parentNode:a,i=c?c.parentNode:c;a=t&&!o.isWysiwygDiv(t)&&t.nodeName===e?t:a,c=i&&!o.isWysiwygDiv(i)&&i.nodeName===e?i:c;const n=a&&a.tagName===e,l=c&&c.tagName===e;let r=n?a:o.createElement(e),h=null,u=null,d=null,p=null;const g=function(e){return!this.isComponent(e)&&!this.isList(e)}.bind(o);for(let t,i,l,a,c,p,f,m,_,v=0,y=s.length;v<y;v++)if(i=s[v],0!==i.childNodes.length||o._isIgnoreNodeChange(i)){if(a=s[v+1],c=i.parentNode,p=a?a.parentNode:null,l=o.isListCell(i),_=o.isRangeFormatElement(c)?c:null,f=l&&!o.isWysiwygDiv(c)?c.parentNode:c,m=l&&!o.isWysiwygDiv(c)?!a||o.isListCell(f)?c:c.nextSibling:i.nextSibling,t=o.createElement("LI"),o.copyFormatAttributes(t,i),o.isComponent(i)){const e=/^HR$/i.test(i.nodeName);e||(t.innerHTML="<br>"),t.innerHTML+=i.outerHTML,e&&(t.innerHTML+="<br>")}else{const e=i.childNodes;for(;e[0];)t.appendChild(e[0])}r.appendChild(t),a||(u=r),a&&f===p&&!o.isRangeFormatElement(m)||(h||(h=r),n&&a&&f===p||a&&o.isList(p)&&p===c||r.parentNode!==f&&f.insertBefore(r,m)),o.removeItem(i),n&&null===d&&(d=r.children.length-1),a&&(o.getRangeFormatElement(p,g)!==o.getRangeFormatElement(c,g)||o.isList(p)&&o.isList(c)&&o.getElementDepth(p)!==o.getElementDepth(c))&&(r=o.createElement(e)),_&&0===_.children.length&&o.removeItem(_)}else o.removeItem(i);d&&(h=h.children[d]),l&&(p=r.children.length-1,r.innerHTML+=c.innerHTML,u=r.children[p],o.removeItem(c))}else{if(i)for(let e=0,t=s.length;e<t;e++)for(let i=e-1;i>=0;i--)if(s[i].contains(s[e])){s.splice(e,1),e--,t--;break}const t=o.getRangeFormatElement(l),n=t&&t.tagName===e;let r,a;const c=function(e){return!this.isComponent(e)}.bind(o);n||(a=o.createElement(e));for(let t,l,h=0,u=s.length;h<u;h++)l=o.getRangeFormatElement(s[h],c),l&&o.isList(l)&&(t?t!==l?(i&&o.isListCell(l.parentNode)?this.plugins.list._detachNested.call(this,r.f):this.detachRangeFormatElement(r.f[0].parentNode,r.f,a,!1,!0),l=s[h].parentNode,n||(a=o.createElement(e)),t=l,r={r:t,f:[o.getParentElement(s[h],"LI")]}):r.f.push(o.getParentElement(s[h],"LI")):(t=l,r={r:t,f:[o.getParentElement(s[h],"LI")]}),h===u-1&&(i&&o.isListCell(l.parentNode)?this.plugins.list._detachNested.call(this,r.f):this.detachRangeFormatElement(r.f[0].parentNode,r.f,a,!1,!0)))}return this.effectNode=null,h},_detachNested:function(e){const t=e[0],i=e[e.length-1],n=i.nextElementSibling,s=t.parentNode,o=s.parentNode.nextElementSibling,l=s.parentNode.parentNode;for(let t=0,i=e.length;t<i;t++)l.insertBefore(e[t],o);if(n&&s.children.length>0){const e=s.cloneNode(!1),t=s.childNodes,o=this.util.getPositionIndex(n);for(;t[o];)e.appendChild(t[o]);i.appendChild(e)}0===s.children.length&&this.util.removeItem(s),this.util.mergeSameTags(l);const r=this.util.getEdgeChildNodes(t,i);return{cc:t.parentNode,sc:r.sc,ec:r.ec}},editInsideList:function(e,t){const i=(t=t||this.getSelectedElements().filter(function(e){return this.isListCell(e)}.bind(this.util))).length;if(0===i||!e&&!this.util.isListCell(t[0].previousElementSibling)&&!this.util.isListCell(t[i-1].nextElementSibling))return{sc:t[0],so:0,ec:t[i-1],eo:1};let n=t[0].parentNode,s=t[i-1],o=null;if(e){if(n!==s.parentNode&&this.util.isList(s.parentNode.parentNode)&&s.nextElementSibling)for(s=s.nextElementSibling;s;)t.push(s),s=s.nextElementSibling;o=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),t,!0)}else{let e=this.util.createElement(n.nodeName),l=t[0].previousElementSibling,r=s.nextElementSibling;const a={s:null,e:null,sl:n,el:n};for(let s,o=0,c=i;o<c;o++)s=t[o],s.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,e,l,r,a),n=s.parentNode,e=this.util.createElement(n.nodeName)),l=s.previousElementSibling,r=s.nextElementSibling,e.appendChild(s);this.plugins.list._insiedList.call(this,n,e,l,r,a);const c=this.util.getNodeFromPath(a.s,a.sl),h=this.util.getNodeFromPath(a.e,a.el);o={sc:c,so:0,ec:h,eo:h.textContent.length}}return o},_insiedList:function(e,t,i,n,s){let o=!1;if(i&&t.tagName===i.tagName){const e=t.children;for(;e[0];)i.appendChild(e[0]);t=i,o=!0}if(n&&t.tagName===n.tagName){const e=n.children;for(;e[0];)t.appendChild(e[0]);const i=n.nextElementSibling;n.parentNode.removeChild(n),n=i}if(!o){this.util.isListCell(i)&&(e=i,n=null),e.insertBefore(t,n),s.s||(s.s=this.util.getNodePath(t.firstElementChild.firstChild,e,null),s.sl=e);const o=e.contains(s.sl)?this.util.getNodePath(s.sl,e):null;s.e=this.util.getNodePath(t.lastElementChild.firstChild,e,null),s.el=e,this.util.mergeSameTags(e,[s.s,s.e,o],!1),this.util.mergeNestedTags(e),o&&(s.sl=this.util.getNodeFromPath(o,e))}return t},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i="";for(;!i&&!/^UL$/i.test(t.tagName);)i=t.getAttribute("data-command"),t=t.parentNode;if(!i)return;const n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}},table:{name:"table",display:"submenu",add:function(e,t){const i=e.context;let n=i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:e.options.rtl,cellControllerTop:"top"===e.options.tableCellControllerPosition,resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:e.lang.controller.maxSize,minText:e.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:e.icons.expansion,reduction:e.icons.reduction}},s=this.setSubmenu(e),o=s.querySelector(".se-controller-table-picker");n.tableHighlight=s.querySelector(".se-table-size-highlighted"),n.tableUnHighlight=s.querySelector(".se-table-size-unhighlighted"),n.tableDisplay=s.querySelector(".se-table-size-display"),e.options.rtl&&(n.tableHighlight.style.left="167px");let l=this.setController_table(e);n.tableController=l,n.resizeButton=l.querySelector("._se_table_resize"),n.resizeText=l.querySelector("._se_table_resize > span > span"),n.columnFixedButton=l.querySelector("._se_table_fixed_column"),n.headerButton=l.querySelector("._se_table_header");let r=this.setController_tableEditor(e,n.cellControllerTop);n.resizeDiv=r,n.splitMenu=r.querySelector(".se-btn-group-sub"),n.mergeButton=r.querySelector("._se_table_merge_button"),n.splitButton=r.querySelector("._se_table_split_button"),n.insertRowAboveButton=r.querySelector("._se_table_insert_row_a"),n.insertRowBelowButton=r.querySelector("._se_table_insert_row_b"),o.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(e,n)),o.addEventListener("click",this.appendTable.bind(e)),r.addEventListener("click",this.onClick_tableController.bind(e)),l.addEventListener("click",this.onClick_tableController.bind(e)),e.initMenuTarget(this.name,t,s),i.element.relative.appendChild(r),i.element.relative.appendChild(l),s=null,o=null,r=null,l=null,n=null},setSubmenu:function(e){const t=e.util.createElement("DIV");return t.className="se-submenu se-selector-table",t.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',t},setController_table:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-table",n.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+i.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+i.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+i.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div></div>",n},setController_tableEditor:function(e,t){const i=e.lang,n=e.icons,s=e.util.createElement("DIV");return s.className="se-controller se-controller-table-cell",s.innerHTML=(t?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+n.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+n.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+n.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+n.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+n.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+n.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+n.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+n.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+i.controller.VerticalSplit+'">'+i.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+i.controller.HorizontalSplit+'">'+i.controller.HorizontalSplit+"</li></ul></div></div></div>",s},appendTable:function(){const e=this.util.createElement("TABLE"),t=this.plugins.table.createCells,i=this.context.table._tableXY[0];let n=this.context.table._tableXY[1],s="<tbody>";for(;n>0;)s+="<tr>"+t.call(this,"td",i)+"</tr>",--n;if(s+="</tbody>",e.innerHTML=s,this.insertComponent(e,!1,!0,!1)){const t=e.querySelector("td div");this.setRange(t,0,t,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(e,t,i){if(e=e.toLowerCase(),i){const t=this.util.createElement(e);return t.innerHTML="<div><br></div>",t}{let i="";for(;t>0;)i+="<"+e+"><div><br></div></"+e+">",t--;return i}},onMouseMove_tablePicker:function(e,t){t.stopPropagation();let i=this._w.Math.ceil(t.offsetX/18),n=this._w.Math.ceil(t.offsetY/18);i=i<1?1:i,n=n<1?1:n,e._rtl&&(e.tableHighlight.style.left=18*i-13+"px",i=11-i),e.tableHighlight.style.width=i+"em",e.tableHighlight.style.height=n+"em",this.util.changeTxt(e.tableDisplay,i+" x "+n),e._tableXY=[i,n]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const e=this.context.table.tableHighlight.style,t=this.context.table.tableUnHighlight.style;e.width="1em",e.height="1em",t.width="10em",t.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const e=this.context.table,t=this.plugins.table;if(t._removeEvents.call(this),t._selectedTable){const e=t._selectedTable.querySelectorAll(".se-table-selected-cell");for(let t=0,i=e.length;t<i;t++)this.util.removeClass(e[t],"se-table-selected-cell")}t._toggleEditor.call(this,!0),e._element=null,e._tdElement=null,e._trElement=null,e._trElements=null,e._tableXY=[],e._maxWidth=!0,e._fixedColumn=!1,e._physical_cellCnt=0,e._logical_cellCnt=0,e._rowCnt=0,e._rowIndex=0,e._physical_cellIndex=0,e._logical_cellIndex=0,e._current_colSpan=0,e._current_rowSpan=0,t._shift=!1,t._selectedCells=null,t._selectedTable=null,t._ref=null,t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null},call_controller_tableEdit:function(e){const t=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!t._selectedCell)return this.controllersOff(),void this.util.removeClass(e,"se-table-selected-cell");const n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");i._maxWidth=this.util.hasClass(n,"se-table-size-100")||"100%"===n.style.width||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||"fixed"===n.style.tableLayout,t.setTableStyle.call(this,i._maxWidth?"width|column":"width"),t.setPositionControllerTop.call(this,n),t.setPositionControllerDiv.call(this,e,t._shift),t._shift||this.controllersOn(i.resizeDiv,i.tableController,t.init.bind(this),e,"table")},setPositionControllerTop:function(e){this.setControllerPosition(this.context.table.tableController,e,"top",{left:0,top:0})},setPositionControllerDiv:function(e,t){const i=this.context.table,n=i.resizeDiv;this.plugins.table.setCellInfo.call(this,e,t),i.cellControllerTop?this.setControllerPosition(n,i._element,"top",{left:i.tableController.offsetWidth,top:0}):this.setControllerPosition(n,e,"bottom",{left:0,top:0})},setCellInfo:function(e,t){const i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(e,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),t||0===i._physical_cellCnt){i._tdElement!==e&&(i._tdElement=e,i._trElement=e.parentNode);const t=i._trElements=n.rows,s=e.cellIndex;let o=0;for(let e=0,i=t[0].cells,n=t[0].cells.length;e<n;e++)o+=i[e].colSpan;const l=i._rowIndex=i._trElement.rowIndex;i._rowCnt=t.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=o,i._physical_cellIndex=s,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan,i._trElement.cells[s].rowSpan;let r=[],a=[];for(let e,n,o=0;o<=l;o++){e=t[o].cells,n=0;for(let t,c,h,u,d=0,p=e.length;d<p;d++){if(t=e[d],c=t.colSpan-1,h=t.rowSpan-1,u=d+n,a.length>0)for(let e,t=0;t<a.length;t++)e=a[t],e.row>o||(u>=e.index?(n+=e.cs,u+=e.cs,e.rs-=1,e.row=o+1,e.rs<1&&(a.splice(t,1),t--)):d===p-1&&(e.rs-=1,e.row=o+1,e.rs<1&&(a.splice(t,1),t--)));if(o===l&&d===s){i._logical_cellIndex=u;break}h>0&&r.push({index:u,cs:c+1,rs:h,row:-1}),n+=c}a=a.concat(r).sort((function(e,t){return e.index-t.index})),r=[]}r=null,a=null}},editTable:function(e,t){const i=this.plugins.table,n=this.context.table,s=n._element,o="row"===e;if(o){const e=n._trElement.parentNode;if(/^THEAD$/i.test(e.nodeName)){if("up"===t)return;if(!e.nextElementSibling||!/^TBODY$/i.test(e.nextElementSibling.nodeName))return void(s.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>")}}if(i._ref){const e=n._tdElement,s=i._selectedCells;if(o)if(t)i.setCellInfo.call(this,"up"===t?s[0]:s[s.length-1],!0),i.editRow.call(this,t,e);else{let e=s[0].parentNode;const n=[s[0]];for(let t,i=1,o=s.length;i<o;i++)t=s[i],e!==t.parentNode&&(n.push(t),e=t.parentNode);for(let e=0,s=n.length;e<s;e++)i.setCellInfo.call(this,n[e],!0),i.editRow.call(this,t)}else{const n=s[0].parentNode;if(t){let o=null;for(let e=0,t=s.length-1;e<t;e++)if(n!==s[e+1].parentNode){o=s[e];break}i.setCellInfo.call(this,"left"===t?s[0]:o||s[0],!0),i.editCell.call(this,t,e)}else{const e=[s[0]];for(let t,i=1,o=s.length;i<o&&(t=s[i],n===t.parentNode);i++)e.push(t);for(let n=0,s=e.length;n<s;n++)i.setCellInfo.call(this,e[n],!0),i.editCell.call(this,t)}}t||i.init.call(this)}else i[o?"editRow":"editCell"].call(this,t);if(!t){const e=s.children;for(let t=0;t<e.length;t++)0===e[t].children.length&&(this.util.removeItem(e[t]),t--);0===s.children.length&&this.util.removeItem(s)}},editRow:function(e,t){const i=this.context.table,n=!e,s="up"===e,o=i._rowIndex,l=n||s?o:o+i._current_rowSpan+1,r=n?-1:1,a=i._trElements;let c=i._logical_cellCnt;for(let e,t=0,i=o+(n?-1:0);t<=i;t++){if(e=a[t].cells,0===e.length)return;for(let i,n,s=0,o=e.length;s<o;s++)i=e[s].rowSpan,n=e[s].colSpan,i<2&&n<2||i+t>l&&l>t&&(e[s].rowSpan=i+r,c-=n)}if(n){const e=a[o+1];if(e){const t=[];let i=a[o].cells,n=0;for(let e,s,o=0,l=i.length;o<l;o++)e=i[o],s=o+n,n+=e.colSpan-1,e.rowSpan>1&&(e.rowSpan-=1,t.push({cell:e.cloneNode(!1),index:s}));if(t.length>0){let s=t.shift();i=e.cells,n=0;for(let o,l,r=0,a=i.length;r<a&&(o=i[r],l=r+n,n+=o.colSpan-1,!(l>=s.index)||(r--,n--,n+=s.cell.colSpan-1,e.insertBefore(s.cell,o),s=t.shift(),s));r++);if(s){e.appendChild(s.cell);for(let i=0,n=t.length;i<n;i++)e.appendChild(t[i].cell)}}}i._element.deleteRow(l)}else i._element.insertRow(l).innerHTML=this.plugins.table.createCells.call(this,"td",c,!1);n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},editCell:function(e,t){const i=this.context.table,n=this.util,s=!e,o="left"===e,l=i._current_colSpan,r=s||o?i._logical_cellIndex:i._logical_cellIndex+l+1,a=i._trElements;let c=[],h=[],u=0;const d=[],p=[];for(let e,t,o,g,f,m,_=0,v=i._rowCnt;_<v;_++){e=a[_],t=r,f=!1,o=e.cells,m=0;for(let e,i,a,g,v=0,y=o.length;v<y&&(e=o[v],e);v++)if(i=e.rowSpan-1,a=e.colSpan-1,s){if(g=v+m,h.length>0){const e=!o[v+1];for(let t,i=0;i<h.length;i++)t=h[i],t.row>_||(g>=t.index?(m+=t.cs,g=v+m,t.rs-=1,t.row=_+1,t.rs<1&&(h.splice(i,1),i--)):e&&(t.rs-=1,t.row=_+1,t.rs<1&&(h.splice(i,1),i--)))}i>0&&c.push({rs:i,cs:a+1,index:g,row:-1}),g>=t&&g+a<=t+l?d.push(e):g<=t+l&&g+a>=t?e.colSpan-=n.getOverlapRangeAtIndex(r,r+l,g,g+a):i>0&&(g<t||g+a>t+l)&&p.push({cell:e,i:_,rs:_+i}),m+=a}else{if(v>=t)break;if(a>0){if(u<1&&a+v>=t){e.colSpan+=1,t=null,u=i+1;break}t-=a}if(!f){for(let e,i=0;i<h.length;i++)e=h[i],t-=e.cs,e.rs-=1,e.rs<1&&(h.splice(i,1),i--);f=!0}}if(h=h.concat(c).sort((function(e,t){return e.index-t.index})),c=[],!s){if(u>0){u-=1;continue}null!==t&&o.length>0&&(g=this.plugins.table.createCells.call(this,o[0].nodeName,0,!0),g=e.insertBefore(g,o[t]))}}if(s){let e,t;for(let i,s=0,o=d.length;s<o;s++)i=d[s].parentNode,n.removeItem(d[s]),0===i.cells.length&&(e||(e=n.getArrayIndex(a,i)),t=n.getArrayIndex(a,i),n.removeItem(i));for(let i,s=0,o=p.length;s<o;s++)i=p[s],i.cell.rowSpan=n.getOverlapRangeAtIndex(e,t,i.i,i.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,t||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}.bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(e){const t=this.util,i="vertical"===e,n=this.context.table,s=n._tdElement,o=n._trElements,l=n._trElement,r=n._logical_cellIndex,a=n._rowIndex,c=this.plugins.table.createCells.call(this,s.nodeName,0,!0);if(i){const e=s.colSpan;if(c.rowSpan=s.rowSpan,e>1)c.colSpan=this._w.Math.floor(e/2),s.colSpan=e-c.colSpan,l.insertBefore(c,s.nextElementSibling);else{let t=[],i=[];for(let l,a,c=0,h=n._rowCnt;c<h;c++){l=o[c].cells,a=0;for(let n,o,h,u,d=0,p=l.length;d<p;d++){if(n=l[d],o=n.colSpan-1,h=n.rowSpan-1,u=d+a,i.length>0)for(let e,t=0;t<i.length;t++)e=i[t],e.row>c||(u>=e.index?(a+=e.cs,u+=e.cs,e.rs-=1,e.row=c+1,e.rs<1&&(i.splice(t,1),t--)):d===p-1&&(e.rs-=1,e.row=c+1,e.rs<1&&(i.splice(t,1),t--)));if(u<=r&&h>0&&t.push({index:u,cs:o+1,rs:h,row:-1}),n!==s&&u<=r&&u+o>=r+e-1){n.colSpan+=1;break}if(u>r)break;a+=o}i=i.concat(t).sort((function(e,t){return e.index-t.index})),t=[]}l.insertBefore(c,s.nextElementSibling)}}else{const e=s.rowSpan;if(c.colSpan=s.colSpan,e>1){c.rowSpan=this._w.Math.floor(e/2);const i=e-c.rowSpan,n=[],a=t.getArrayIndex(o,l)+i;for(let e,t,i=0;i<a;i++){e=o[i].cells,t=0;for(let s,o,l,c=0,h=e.length;c<h&&(l=c+t,!(l>=r));c++)s=e[c],o=s.rowSpan-1,o>0&&o+i>=a&&l<r&&n.push({index:l,cs:s.colSpan}),t+=s.colSpan-1}const h=o[a],u=h.cells;let d=n.shift();for(let e,t,i,s,o=0,l=u.length,a=0;o<l;o++){if(i=o+a,e=u[o],t=e.colSpan-1,s=i+t+1,d&&s>=d.index&&(a+=d.cs,s+=d.cs,d=n.shift()),s>=r||o===l-1){h.insertBefore(c,e.nextElementSibling);break}a+=t}s.rowSpan=i}else{c.rowSpan=s.rowSpan;const e=t.createElement("TR");e.appendChild(c);for(let e,t=0;t<a;t++){if(e=o[t].cells,0===e.length)return;for(let i=0,n=e.length;i<n;i++)t+e[i].rowSpan-1>=a&&(e[i].rowSpan+=1)}const i=n._physical_cellIndex,r=l.cells;for(let e=0,t=r.length;e<t;e++)e!==i&&(r[e].rowSpan+=1);l.parentNode.insertBefore(e,l.nextElementSibling)}}this.focusEdge(s),this.plugins.table.setPositionControllerDiv.call(this,s,!0)},mergeCells:function(){const e=this.plugins.table,t=this.context.table,i=this.util,n=e._ref,s=e._selectedCells,o=s[0];let l=null,r=null,a=n.ce-n.cs+1,c=n.re-n.rs+1,h="",u=null;for(let e,t,n=1,o=s.length;n<o;n++){e=s[n],u!==e.parentNode&&(u=e.parentNode),t=e.children;for(let e=0,n=t.length;e<n;e++)i.isFormatElement(t[e])&&i.onlyZeroWidthSpace(t[e].textContent)&&i.removeItem(t[e]);h+=e.innerHTML,i.removeItem(e),0===u.cells.length&&(l?r=u:l=u,c-=1)}if(l){const e=t._trElements,n=i.getArrayIndex(e,l),s=i.getArrayIndex(e,r||l),o=[];for(let t,l=0;l<=s;l++)if(t=e[l].cells,0!==t.length)for(let e,o,r=0,a=t.length;r<a;r++)e=t[r],o=e.rowSpan-1,o>0&&l+o>=n&&(e.rowSpan-=i.getOverlapRangeAtIndex(n,s,l,l+o));else o.push(e[l]);for(let e=0,t=o.length;e<t;e++)i.removeItem(o[e])}o.innerHTML+=h,o.colSpan=a,o.rowSpan=c,this.controllersOff(),e.setActiveButton.call(this,!0,!1),e.call_controller_tableEdit.call(this,o),i.addClass(o,"se-table-selected-cell"),this.focusEdge(o)},toggleHeader:function(){const e=this.util,t=this.context.table.headerButton,i=e.hasClass(t,"active"),n=this.context.table._element;if(i)e.removeItem(n.querySelector("thead"));else{const t=e.createElement("THEAD");t.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(t,n.firstElementChild)}e.toggleClass(t,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(e){const t=this.context.table,i=t._element;let n,s,o,l;e.indexOf("width")>-1&&(n=t.resizeButton.firstElementChild,s=t.resizeText,t._maxWidth?(o=t.icons.reduction,l=t.minText,t.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(o=t.icons.expansion,l=t.maxText,t.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,o),this.util.changeTxt(s,l)),e.indexOf("column")>-1&&(t._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(t.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(t.columnFixedButton,"active")))},setActiveButton:function(e,t){const i=this.context.table;/^TH$/i.test(e.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),t&&e!==t?(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled")):(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(e){this.context.element.wysiwyg.setAttribute("contenteditable",e),e?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(e){e.stopPropagation();const t=this.plugins.table;t._shift?t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null):(t._removeEvents.call(this),t._toggleEditor.call(this,!0)),t._fixedCell&&t._selectedTable&&(t.setActiveButton.call(this,t._fixedCell,t._selectedCell),t.call_controller_tableEdit.call(this,t._selectedCell||t._fixedCell),t._selectedCells=t._selectedTable.querySelectorAll(".se-table-selected-cell"),t._selectedCell&&t._fixedCell&&this.focusEdge(t._selectedCell),t._shift||(t._fixedCell=null,t._selectedCell=null,t._fixedCellName=null))},_onCellMultiSelect:function(e){this._antiBlur=!0;const t=this.plugins.table,i=this.util.getParentElement(e.target,this.util.isCell);if(t._shift)i===t._fixedCell?t._toggleEditor.call(this,!0):t._toggleEditor.call(this,!1);else if(!t._ref){if(i===t._fixedCell)return;t._toggleEditor.call(this,!1)}i&&i!==t._selectedCell&&t._fixedCellName===i.nodeName&&t._selectedTable===this.util.getParentElement(i,"TABLE")&&(t._selectedCell=i,t._setMultiCells.call(this,t._fixedCell,i))},_setMultiCells:function(e,t){const i=this.plugins.table,n=i._selectedTable.rows,s=this.util,o=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let e=0,t=o.length;e<t;e++)s.removeClass(o[e],"se-table-selected-cell");if(e===t&&(s.addClass(e,"se-table-selected-cell"),!i._shift))return;let l=!0,r=[],a=[];const c=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let i,o,h=0,u=n.length;h<u;h++){i=n[h].cells,o=0;for(let n,u,d,p,g=0,f=i.length;g<f;g++){if(n=i[g],d=n.colSpan-1,p=n.rowSpan-1,u=g+o,r.length>0)for(let e,t=0;t<r.length;t++)e=r[t],e.row>h||(u>=e.index?(o+=e.cs,u+=e.cs,e.rs-=1,e.row=h+1,e.rs<1&&(r.splice(t,1),t--)):g===f-1&&(e.rs-=1,e.row=h+1,e.rs<1&&(r.splice(t,1),t--)));if(l){if(n!==e&&n!==t||(c.cs=null!==c.cs&&c.cs<u?c.cs:u,c.ce=null!==c.ce&&c.ce>u+d?c.ce:u+d,c.rs=null!==c.rs&&c.rs<h?c.rs:h,c.re=null!==c.re&&c.re>h+p?c.re:h+p,c._i+=1),2===c._i){l=!1,r=[],a=[],h=-1;break}}else if(s.getOverlapRangeAtIndex(c.cs,c.ce,u,u+d)&&s.getOverlapRangeAtIndex(c.rs,c.re,h,h+p)){const e=c.cs<u?c.cs:u,t=c.ce>u+d?c.ce:u+d,i=c.rs<h?c.rs:h,o=c.re>h+p?c.re:h+p;if(c.cs!==e||c.ce!==t||c.rs!==i||c.re!==o){c.cs=e,c.ce=t,c.rs=i,c.re=o,h=-1,r=[],a=[];break}s.addClass(n,"se-table-selected-cell")}p>0&&a.push({index:u,cs:d+1,rs:p,row:-1}),o+=n.colSpan-1}r=r.concat(a).sort((function(e,t){return e.index-t.index})),a=[]}},_removeEvents:function(){const e=this.plugins.table;e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null),e._bindOnSelect&&(this._wd.removeEventListener("mousedown",e._bindOnSelect),this._wd.removeEventListener("mousemove",e._bindOnSelect),e._bindOnSelect=null),e._bindOffSelect&&(this._wd.removeEventListener("mouseup",e._bindOffSelect),e._bindOffSelect=null),e._bindOffShift&&(this._wd.removeEventListener("keyup",e._bindOffShift),e._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(e,t){const i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=t,i._fixedCell=e,i._fixedCellName=e.nodeName,i._selectedTable=this.util.getParentElement(e,"TABLE");const n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let e=0,t=n.length;e<t;e++)this.util.removeClass(n[e],"se-table-selected-cell");this.util.addClass(e,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),t?(i._bindOffShift=function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),e,"table"),i._ref||this.controllersOff()}.bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(e){e.stopPropagation();const t=e.target.getAttribute("data-command")?e.target:e.target.parentNode;if(t.getAttribute("disabled"))return;const i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),s=t.getAttribute("data-option"),o=this.plugins.table;if("function"==typeof o._closeSplitMenu&&(o._closeSplitMenu(),"onsplit"===i))return;if(!i)return;e.preventDefault();const l=this.context.table;switch(i){case"insert":case"delete":o.editTable.call(this,n,s);break;case"header":o.toggleHeader.call(this);break;case"onsplit":o.openSplitMenu.call(this);break;case"split":o.splitCells.call(this,n);break;case"merge":o.mergeCells.call(this);break;case"resize":l._maxWidth=!l._maxWidth,o.setTableStyle.call(this,"width"),o.setPositionControllerTop.call(this,l._element),o.setPositionControllerDiv.call(this,l._tdElement,o._shift);break;case"layout":l._fixedColumn=!l._fixedColumn,o.setTableStyle.call(this,"column"),o.setPositionControllerTop.call(this,l._element),o.setPositionControllerDiv.call(this,l._tdElement,o._shift);break;case"remove":const e=l._element.parentNode;this.util.removeItem(l._element),this.controllersOff(),e!==this.context.element.wysiwyg&&this.util.removeItemAllParents(e,(function(e){return 0===e.childNodes.length}),null),this.focus()}this.history.push(!1)}},formatBlock:{name:"formatBlock",display:"submenu",add:function(e,t){const i=e.context;i.formatBlock={targetText:t.querySelector(".txt"),targetTooltip:t.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.formatBlock._formatList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.options,i=e.lang.toolbar,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";const s=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],o=t.formats&&0!==t.formats.length?t.formats:s;let l='<div class="se-list-inner"><ul class="se-list-basic">';for(let e,t,n,r,a,c,h,u=0,d=o.length;u<d;u++)e=o[u],"string"==typeof e&&s.indexOf(e)>-1?(t=e.toLowerCase(),n="blockquote"===t?"range":"pre"===t?"free":"replace",a=/^h/.test(t)?t.match(/\d+/)[0]:"",r=i["tag_"+(a?"h":t)]+a,h="",c=""):(t=e.tag.toLowerCase(),n=e.command,r=e.name||t,h=e.class,c=h?' class="'+h+'"':""),l+='<li><button type="button" class="se-btn-list" data-command="'+n+'" data-value="'+t+'" data-class="'+h+'" title="'+r+'"><'+t+c+">"+r+"</"+t+"></button></li>";return l+="</ul></div>",n.innerHTML=l,n},active:function(e){let t=this.lang.toolbar.formats;const i=this.context.formatBlock.targetText;if(e){if(this.util.isFormatElement(e)){const n=this.context.formatBlock._formatList,s=e.nodeName.toLowerCase(),o=(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let e,i=0,l=n.length;i<l;i++)if(e=n[i],s===e.getAttribute("data-value")&&o===e.getAttribute("data-class")){t=e.title;break}return this.util.changeTxt(i,t),i.setAttribute("data-value",s),i.setAttribute("data-class",o),!0}}else this.util.changeTxt(i,t);return!1},on:function(){const e=this.context.formatBlock,t=e._formatList,i=e.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==e.currentFormat){for(let e,i=0,s=t.length;i<s;i++)e=t[i],n===e.getAttribute("data-value")+e.getAttribute("data-class")?this.util.addClass(e,"active"):this.util.removeClass(e,"active");e.currentFormat=n}},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null,s=null,o="";for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),n=t.getAttribute("data-value"),o=t.getAttribute("data-class"),i){s=t.firstChild;break}t=t.parentNode}if(i){if("range"===i){const e=s.cloneNode(!1);this.applyRangeFormatElement(e)}else{let e=this.getRange(),t=this.getSelectedElementsAndComponents(!1);if(0===t.length&&(e=this.getRange_addLine(e,null),t=this.getSelectedElementsAndComponents(!1),0===t.length))return;const l=e.startOffset,r=e.endOffset,a=this.util;let c=t[0],h=t[t.length-1];const u=a.getNodePath(e.startContainer,c,null,null),d=a.getNodePath(e.endContainer,h,null,null),p=this.detachList(t,!1);p.sc&&(c=p.sc),p.ec&&(h=p.ec),this.setRange(a.getNodeFromPath(u,c),l,a.getNodeFromPath(d,h),r);const g=this.getSelectedElementsAndComponents(!1);if("free"===i){const e=g.length-1;let t=g[e].parentNode,i=s.cloneNode(!1);const n=i;for(let n,o,l,r,c,h,u=e,d=!0;u>=0;u--)if(n=g[u],n!==(g[u+1]?g[u+1].parentNode:null)){if(h=a.isComponent(n),o=h?"":n.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),l=a.getParentElement(n,(function(e){return e.parentNode===t})),(t!==n.parentNode||h)&&(a.isFormatElement(t)?(t.parentNode.insertBefore(i,t.nextSibling),t=t.parentNode):(t.insertBefore(i,l?l.nextSibling:null),t=n.parentNode),r=i.nextSibling,r&&i.nodeName===r.nodeName&&a.isSameAttributes(i,r)&&(i.innerHTML+="<BR>"+r.innerHTML,a.removeItem(r)),i=s.cloneNode(!1),d=!0),c=i.innerHTML,i.innerHTML=(d||!o||!c||/<br>$/i.test(o)?o:o+"<BR>")+c,0===u){t.insertBefore(i,n),r=n.nextSibling,r&&i.nodeName===r.nodeName&&a.isSameAttributes(i,r)&&(i.innerHTML+="<BR>"+r.innerHTML,a.removeItem(r));const e=i.previousSibling;e&&i.nodeName===e.nodeName&&a.isSameAttributes(i,e)&&(e.innerHTML+="<BR>"+i.innerHTML,a.removeItem(i))}h||a.removeItem(n),o&&(d=!1)}this.setRange(n,0,n,0)}else{for(let e,t,i=0,l=g.length;i<l;i++)e=g[i],e.nodeName.toLowerCase()===n.toLowerCase()&&(e.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()===o||a.isComponent(e)||(t=s.cloneNode(!1),a.copyFormatAttributes(t,e),t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)),0===i&&(c=t||e),i===l-1&&(h=t||e),t=null;this.setRange(a.getNodeFromPath(u,c),l,a.getNodeFromPath(d,h),r)}this.history.push(!1)}this.submenuOff()}}},lineHeight:{name:"lineHeight",display:"submenu",add:function(e,t){const i=e.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.lineHeight._sizeList=s.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){const t=e.options,i=e.lang,n=e.util.createElement("DIV");n.className="se-submenu se-list-layer";const s=t.lineHeights?t.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let e,t=0,i=s.length;t<i;t++)e=s[t],o+='<li><button type="button" class="se-btn-list" data-value="'+e.value+'" title="'+e.text+'">'+e.text+"</button></li>";return o+="</ul></div>",n.innerHTML=o,n},on:function(){const e=this.context.lineHeight,t=e._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==e.currentSize){for(let e=0,i=t.length;e<i;e++)n===t[e].getAttribute("data-value")?this.util.addClass(t[e],"active"):this.util.removeClass(t[e],"active");e.currentSize=n}},pickup:function(e){if(!/^BUTTON$/i.test(e.target.tagName))return!1;e.preventDefault(),e.stopPropagation();const t=e.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let e=0,n=i.length;e<n;e++)i[e].style.lineHeight=t;this.submenuOff(),this.history.push(!1)}},template:l,paragraphStyle:{name:"paragraphStyle",display:"submenu",add:function(e,t){const i=e.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu(e);n.querySelector("ul").addEventListener("click",this.pickUp.bind(e)),i.paragraphStyle._classList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null},setSubmenu:function(e){const t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n=e.lang.menu,s={spaced:{name:n.spaced,class:"__se__p-spaced",_class:""},bordered:{name:n.bordered,class:"__se__p-bordered",_class:""},neon:{name:n.neon,class:"__se__p-neon",_class:""}},o=t.paragraphStyles&&0!==t.paragraphStyles.length?t.paragraphStyles:["spaced","bordered","neon"];let l='<div class="se-list-inner"><ul class="se-list-basic">';for(let e,t,i,n,r=0,a=o.length;r<a;r++){if(e=o[r],"string"==typeof e){const t=s[e.toLowerCase()];if(!t)continue;e=t}t=e.name,i=e.class?' class="'+e.class+'"':"",n=e._class,l+='<li><button type="button" class="se-btn-list'+(n?" "+n:"")+'" data-value="'+e.class+'" title="'+t+'"><div'+i+">"+t+"</div></button></li>"}return l+="</ul></div>",i.innerHTML=l,i},on:function(){const e=this.context.paragraphStyle._classList,t=this.util.getFormatElement(this.getSelectionNode());for(let i=0,n=e.length;i<n;i++)this.util.hasClass(t,e[i].getAttribute("data-value"))?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active")},pickUp:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null;for(;!/^UL$/i.test(t.tagName)&&(i=t.getAttribute("data-value"),!i);)t=t.parentNode;if(!i)return;let n=this.getSelectedElements();if(0===n.length&&(this.getRange_addLine(this.getRange(),null),n=this.getSelectedElements(),0===n.length))return;const s=this.util.hasClass(t,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let e=0,t=n.length;e<t;e++)s(n[e],i);this.submenuOff(),this.history.push(!1)}},textStyle:{name:"textStyle",display:"submenu",add:function(e,t){const i=e.context;i.textStyle={_styleList:null};let n=this.setSubmenu(e),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(e)),i.textStyle._styleList=n.querySelectorAll("li button"),e.initMenuTarget(this.name,t,n),n=null,s=null},setSubmenu:function(e){const t=e.options,i=e.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n={code:{name:e.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:e.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:e.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},s=t.textStyles?t.textStyles:e._w.Object.keys(n);let o='<div class="se-list-inner"><ul class="se-list-basic">';for(let e,t,i,l,r,a,c,h=0,u=s.length;h<u;h++){if(e=s[h],l="",a="",r=[],"string"==typeof e){const t=n[e.toLowerCase()];if(!t)continue;e=t}i=e.name,t=e.tag||"span",c=e._class,e.style&&(l+=' style="'+e.style+'"',a+=e.style.replace(/:[^;]+(;|$)\s*/g,","),r.push("style")),e.class&&(l+=' class="'+e.class+'"',a+="."+e.class.trim().replace(/\s+/g,",."),r.push("class")),a=a.replace(/,$/,""),o+='<li><button type="button" class="se-btn-list'+(c?" "+c:"")+'" data-command="'+t+'" data-value="'+a+'" title="'+i+'"><'+t+l+">"+i+"</"+t+"></button></li>"}return o+="</ul></div>",i.innerHTML=o,i},on:function(){const e=this.util,t=this.context.textStyle._styleList,i=this.getSelectionNode();for(let n,s,o,l=0,r=t.length;l<r;l++){n=t[l],s=n.getAttribute("data-value").split(",");for(let t,l,r=0;r<s.length;r++){for(t=i,o=!1;t&&!e.isFormatElement(t)&&!e.isComponent(t);){if(t.nodeName.toLowerCase()===n.getAttribute("data-command").toLowerCase()&&(l=s[r],/^\./.test(l)?e.hasClass(t,l.replace(/^\./,"")):t.style[l])){o=!0;break}t=t.parentNode}if(!o)break}o?e.addClass(n,"active"):e.removeClass(n,"active")}},pickup:function(e){e.preventDefault(),e.stopPropagation();let t=e.target,i=null,n=null;for(;!i&&!/UL/i.test(t.tagName);){if(i=t.getAttribute("data-command"),i){n=t.firstChild;break}t=t.parentNode}if(!i)return;const s=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");s.pop();const o=n.classList;for(let e=0,t=o.length;e<t;e++)s.push("."+o[e]);const l=this.util.hasClass(t,"active")?null:n.cloneNode(!1),r=l?null:[n.nodeName];this.nodeChange(l,s,r,!0),this.submenuOff()}},link:u,image:v,video:y,audio:b,math:w,imageGallery:{name:"imageGallery",add:function(e){e.addModule([C.a]),e.context.imageGallery={title:e.lang.toolbar.imageGallery,url:e.options.imageGalleryUrl,header:e.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(e),columnSize:4}},open:function(e){this.plugins.fileBrowser.open.call(this,"imageGallery",e)},drawItems:function(e){const t=e.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(e.thumbnail||e.src)+'" alt="'+(e.alt||t)+'" data-command="pick" data-value="'+(e.src||e.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(e.name||t)+"</div></div>"},setImage:function(e){this.callPlugin("image",function(){const t={name:e.parentNode.querySelector(".__se__img_name").textContent,size:0};this.plugins.image.create_image.call(this,e.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",t,e.alt)}.bind(this),null)}}},S={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'},E=i("P6u4"),k=i.n(E);const N={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform))},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(e){const t={"&":"&amp;","":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return e.replace(/&|\u00A0|'|"|<|>/g,(function(e){return"string"==typeof t[e]?t[e]:e}))},zeroWidthSpace:String.fromCharCode(8203),zeroWidthRegExp:new RegExp(String.fromCharCode(8203),"g"),onlyZeroWidthRegExp:new RegExp("^"+String.fromCharCode(8203)+"+$"),onlyZeroWidthSpace:function(e){return"string"!=typeof e&&(e=e.textContent),""===e||this.onlyZeroWidthRegExp.test(e)},getXMLHttpRequest:function(){if(!this._w.ActiveXObject)return this._w.XMLHttpRequest?new XMLHttpRequest:null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}},createElement:function(e){return this._d.createElement(e)},createTextNode:function(e){return this._d.createTextNode(e||"")},HTMLEncoder:function(e){const t={"<":"$lt;",">":"$gt;"};return e.replace(/<|>/g,(function(e){return"string"==typeof t[e]?t[e]:e}))},HTMLDecoder:function(e){const t={"$lt;":"<","$gt;":">"};return e.replace(/\$lt;|\$gt;/g,(function(e){return"string"==typeof t[e]?t[e]:e}))},hasOwn:function(e,t){return this._hasOwn.call(e,t)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(e,t){let i="";const n=[],s="js"===t?"script":"link",o="js"===t?"src":"href";let l="(?:";for(let t=0,i=e.length;t<i;t++)l+=e[t]+(t<i-1?"|":")");const r=new this._w.RegExp("(^|.*[\\/])"+l+"(\\.[^\\/]+)?."+t+"(?:\\?.*|;.*)?$","i"),a=new this._w.RegExp(".+\\."+t+"(?:\\?.*|;.*)?$","i");for(let e=this._d.getElementsByTagName(s),t=0;t<e.length;t++)a.test(e[t][o])&&n.push(e[t]);for(let e=0;e<n.length;e++){let t=n[e][o].match(r);if(t){i=t[0];break}}if(""===i&&(i=n.length>0?n[0][o]:""),-1===i.indexOf(":/")&&"//"!==i.slice(0,2)&&(i=0===i.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+t+")";return i},getPageStyle:function(e){let t="";const i=(e||this._d).styleSheets;for(let n,s=0,o=i.length;s<o;s++){try{n=i[s].cssRules}catch(e){continue}if(n)for(let e=0,i=n.length;e<i;e++)t+=n[e].cssText}return t},getIframeDocument:function(e){let t=e.contentWindow||e.contentDocument;return t.document&&(t=t.document),t},getAttributesToString:function(e,t){if(!e.attributes)return"";const i=e.attributes;let n="";for(let e=0,s=i.length;e<s;e++)t&&t.indexOf(i[e].name)>-1||(n+=i[e].name+'="'+i[e].value+'" ');return n},getByteLength:function(e){if(!e||!e.toString)return 0;e=e.toString();const t=this._w.encodeURIComponent;let i,n;return this.isIE_Edge?(n=this._w.unescape(t(e)).length,i=0,null!==t(e).match(/(%0A|%0D)/gi)&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(e).length,i=0,null!==t(e).match(/(%0A|%0D)/gi)&&(i=t(e).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(e){return e&&1===e.nodeType&&(this.hasClass(e,"se-wrapper-wysiwyg")||/^BODY$/i.test(e.nodeName))},isNonEditable:function(e){return e&&1===e.nodeType&&"false"===e.getAttribute("contenteditable")},isTextStyleElement:function(e){return e&&3!==e.nodeType&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(e.nodeName)},isFormatElement:function(e){return e&&1===e.nodeType&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isRangeFormatElement:function(e){return e&&1===e.nodeType&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(e){return e&&1===e.nodeType&&(/^(TH|TD)$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(e){return e&&1===e.nodeType&&(/^PRE$/i.test(e.nodeName)||this.hasClass(e,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(e)&&!this.isWysiwygDiv(e)},isClosureFreeFormatElement:function(e){return e&&1===e.nodeType&&this.hasClass(e,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(e){return e&&(/se-component/.test(e.className)||/^(TABLE|HR)$/.test(e.nodeName))},isUneditableComponent:function(e){return e&&this.hasClass(e,"__se__uneditable")},isMediaComponent:function(e){return e&&/se-component/.test(e.className)},isNotCheckingNode:function(e){return e&&/katex|__se__tag/.test(e.className)},getFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&e.firstElementChild,this.isFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getRangeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isRangeFormatElement(e)&&!/^(THEAD|TBODY|TR)$/i.test(e.nodeName)&&t(e))return e;e=e.parentNode}return null},getFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},getClosureFreeFormatElement:function(e,t){if(!e)return null;for(t||(t=function(){return!0});e;){if(this.isWysiwygDiv(e))return null;if(this.isClosureFreeFormatElement(e)&&t(e))return e;e=e.parentNode}return null},copyTagAttributes:function(e,t){t.style.cssText&&(e.style.cssText+=t.style.cssText);const i=t.classList;for(let t=0,n=i.length;t<n;t++)this.addClass(e,i[t]);e.style.cssText||e.removeAttribute("style"),e.className.trim()||e.removeAttribute("class")},copyFormatAttributes:function(e,t){(t=t.cloneNode(!1)).className=t.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(e,t)},getArrayItem:function(e,t,i){if(!e||0===e.length)return null;t=t||function(){return!0};const n=[];for(let s,o=0,l=e.length;o<l;o++)if(s=e[o],t(s)){if(!i)return s;n.push(s)}return i?n:null},arrayIncludes:function(e,t){for(let i=0;i<e.length;i++)if(e[i]===t)return!0;return!1},getArrayIndex:function(e,t){let i=-1;for(let n=0,s=e.length;n<s;n++)if(e[n]===t){i=n;break}return i},nextIdx:function(e,t){let i=this.getArrayIndex(e,t);return-1===i?-1:i+1},prevIdx:function(e,t){let i=this.getArrayIndex(e,t);return-1===i?-1:i-1},getPositionIndex:function(e){let t=0;for(;e=e.previousSibling;)t+=1;return t},getNodePath:function(e,t,i){const n=[];let s=!0;return this.getParentElement(e,function(e){if(e===t&&(s=!1),s&&!this.isWysiwygDiv(e)){if(i&&3===e.nodeType){let t=null,n=null;i.s=i.e=0;let s=e.previousSibling;for(;s&&3===s.nodeType;)n=s.textContent.replace(this.zeroWidthRegExp,""),i.s+=n.length,e.textContent=n+e.textContent,t=s,s=s.previousSibling,this.removeItem(t);let o=e.nextSibling;for(;o&&3===o.nodeType;)n=o.textContent.replace(this.zeroWidthRegExp,""),i.e+=n.length,e.textContent+=n,t=o,o=o.nextSibling,this.removeItem(t)}n.push(e)}return!1}.bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(e,t){let i,n=t;for(let t=0,s=e.length;t<s&&(i=n.childNodes,0!==i.length);t++)n=i.length<=e[t]?i[i.length-1]:i[e[t]];return n},isSameAttributes:function(e,t){if(3===e.nodeType&&3===t.nodeType)return!0;if(3===e.nodeType||3===t.nodeType)return!1;const i=e.style,n=t.style;let s=0;for(let e=0,t=i.length;e<t;e++)i[i[e]]===n[i[e]]&&s++;const o=e.classList,l=t.classList,r=this._w.RegExp;let a=0;for(let e=0,t=o.length;e<t;e++)r("(s|^)"+o[e]+"(s|$)").test(l.value)&&a++;return s===n.length&&s===i.length&&a===l.length&&a===o.length},isEmptyLine:function(e){return!e||!e.parentNode||!e.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&this.onlyZeroWidthSpace(e.textContent)},isList:function(e){return e&&/^(OL|UL)$/i.test("string"==typeof e?e:e.nodeName)},isListCell:function(e){return e&&/^LI$/i.test("string"==typeof e?e:e.nodeName)},isTable:function(e){return e&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test("string"==typeof e?e:e.nodeName)},isCell:function(e){return e&&/^(TD|TH)$/i.test("string"==typeof e?e:e.nodeName)},isBreak:function(e){return e&&/^BR$/i.test("string"==typeof e?e:e.nodeName)},isAnchor:function(e){return e&&/^A$/i.test("string"==typeof e?e:e.nodeName)},isMedia:function(e){return e&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test("string"==typeof e?e:e.nodeName)},isNumber:function(e){return!!e&&/^-?\d+(\.\d+)?$/.test(e+"")},getNumber:function(e,t){if(!e)return 0;let i=(e+"").match(/-?\d+(\.\d+)?/);return i&&i[0]?(i=i[0],t<0?1*i:0===t?this._w.Math.round(1*i):1*(1*i).toFixed(t)):0},getListChildren:function(e,t){const i=[];return e&&e.children&&0!==e.children.length?(t=t||function(){return!0},function n(s){if(e!==s&&t(s)&&i.push(s),s.children)for(let e=0,t=s.children.length;e<t;e++)n(s.children[e])}(e),i):i},getListChildNodes:function(e,t){const i=[];return e&&0!==e.childNodes.length?(t=t||function(){return!0},function n(s){e!==s&&t(s)&&i.push(s);for(let e=0,t=s.childNodes.length;e<t;e++)n(s.childNodes[e])}(e),i):i},getElementDepth:function(e){if(!e||this.isWysiwygDiv(e))return-1;let t=0;for(e=e.parentNode;e&&!this.isWysiwygDiv(e);)t+=1,e=e.parentNode;return t},compareElements:function(e,t){let i=e,n=t;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:e,b:t,result:0};const s=i.parentNode.childNodes,o=this.getArrayIndex(s,i),l=this.getArrayIndex(s,n);return{ancestor:i.parentNode,a:i,b:n,result:o>l?1:o<l?-1:0}},getParentElement:function(e,t){let i;if("function"==typeof t)i=t;else{let e;/^\./.test(t)?(e="className",t=t.split(".")[1]):/^#/.test(t)?(e="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(e="name",t="^"+t.split(":")[1]+"$"):(e="nodeName",t="^"+t+"$");const n=new this._w.RegExp(t,"i");i=function(t){return n.test(t[e])}}for(;e&&!i(e);){if(this.isWysiwygDiv(e))return null;e=e.parentNode}return e},getChildElement:function(e,t,i){let n;if("function"==typeof t)n=t;else{let e;/^\./.test(t)?(e="className",t=t.split(".")[1]):/^#/.test(t)?(e="id",t="^"+t.split("#")[1]+"$"):/^:/.test(t)?(e="name",t="^"+t.split(":")[1]+"$"):(e="nodeName",t="^"+("text"===t?"#"+t:t)+"$");const i=new this._w.RegExp(t,"i");n=function(t){return i.test(t[e])}}const s=this.getListChildNodes(e,(function(e){return n(e)}));return s[i?s.length-1:0]},getEdgeChildNodes:function(e,t){if(e){for(t||(t=e);e&&1===e.nodeType&&e.childNodes.length>0&&!this.isBreak(e);)e=e.firstChild;for(;t&&1===t.nodeType&&t.childNodes.length>0&&!this.isBreak(t);)t=t.lastChild;return{sc:e,ec:t||e}}},getOffset:function(e,t){let i=0,n=0,s=3===e.nodeType?e.parentElement:e;const o=this.getParentElement(e,this.isWysiwygDiv.bind(this));for(;s&&!this.hasClass(s,"se-container")&&s!==o;)i+=s.offsetLeft,n+=s.offsetTop,s=s.offsetParent;const l=t&&/iframe/i.test(t.nodeName);return{left:i+(l?t.parentElement.offsetLeft:0),top:n-(o?o.scrollTop:0)+(l?t.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(e,t,i,n){if(e<=n?t<i:t>i)return 0;const s=(e>i?e:i)-(t<n?t:n);return(s<0?-1*s:s)+1},changeTxt:function(e,t){e&&t&&(e.textContent=t)},changeElement:function(e,t){if("string"==typeof t)if(e.outerHTML)e.outerHTML=t;else{const i=this.createElement("DIV");i.innerHTML=t,t=i.firstChild,e.parentNode.replaceChild(t,e)}else 1===t.nodeType&&e.parentNode.replaceChild(t,e)},setStyle:function(e,t,i){e.style[t]=i,i||e.style.cssText||e.removeAttribute("style")},hasClass:function(e,t){if(e)return new this._w.RegExp(t).test(e.className)},addClass:function(e,t){e&&(new this._w.RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className.length>0?" ":"")+t))},removeClass:function(e,t){if(!e)return;const i=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").trim(),e.className.trim()||e.removeAttribute("class")},toggleClass:function(e,t){if(!e)return;let i=!1;const n=new this._w.RegExp("(\\s|^)"+t+"(\\s|$)");return n.test(e.className)?e.className=e.className.replace(n," ").trim():(e.className+=" "+t,i=!0),e.className.trim()||e.removeAttribute("class"),i},isImportantDisabled:function(e){return e.hasAttribute("data-important-disabled")},setDisabledButtons:function(e,t,i){for(let n=0,s=t.length;n<s;n++){let s=t[n];!i&&this.isImportantDisabled(s)||(s.disabled=e),i&&(e?s.setAttribute("data-important-disabled",""):s.removeAttribute("data-important-disabled"))}},removeItem:function(e){e&&("function"==typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e))},removeItemAllParents:function(e,t,i){if(!e)return null;let n=null;return t||(t=function(e){if(e===i||this.isComponent(e))return!1;const t=e.textContent.trim();return 0===t.length||/^(\n|\u200B)+$/.test(t)}.bind(this)),function e(i){if(!N.isWysiwygDiv(i)){const s=i.parentNode;s&&t(i)&&(n={sc:i.previousElementSibling,ec:i.nextElementSibling},N.removeItem(i),e(s))}}(e),n},detachNestedList:function(e,t){const i=this._deleteNestedList(e);let n,s,o;if(i){n=i.cloneNode(!1),s=i.childNodes;const t=this.getPositionIndex(e);for(;s[t];)n.appendChild(s[t])}else n=e;if(t)o=this.getListChildren(n,function(e){return this.isListCell(e)&&!e.previousElementSibling}.bind(this));else{const t=this.getElementDepth(e)+2;o=this.getListChildren(e,function(e){return this.isListCell(e)&&!e.previousElementSibling&&this.getElementDepth(e)===t}.bind(this))}for(let e=0,t=o.length;e<t;e++)this._deleteNestedList(o[e]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),s&&0===s.length&&this.removeItem(i)),n===e?n.parentNode:n},_deleteNestedList:function(e){const t=e.parentNode;let i,n,s,o,l,r=t,a=r.parentNode;for(;this.isListCell(a);){for(o=this.getPositionIndex(e),i=a.nextElementSibling,n=a.parentNode,s=r;s;){if(r=r.nextSibling,this.isList(s)){for(l=s.childNodes;l[o];)n.insertBefore(l[o],i);0===l.length&&this.removeItem(s)}else n.appendChild(s);s=r}r=n,a=n.parentNode}return 0===t.children.length&&this.removeItem(t),n},splitElement:function(e,t,i){const n=e.parentNode;let s,o,l,r=0,a=!0;if((!i||i<0)&&(i=0),3===e.nodeType){if(r=this.getPositionIndex(e),t>=0){e.splitText(t);const i=this.getNodeFromPath([r+1],n);this.onlyZeroWidthSpace(i)&&(i.data=this.zeroWidthSpace)}}else 1===e.nodeType&&(e.previousSibling?e=e.previousSibling:this.getElementDepth(e)===i&&(a=!1));let c=e;for(;this.getElementDepth(c)>i;)for(r=this.getPositionIndex(c)+1,c=c.parentNode,l=s,s=c.cloneNode(!1),o=c.childNodes,l&&(this.isListCell(s)&&this.isList(l)&&l.firstElementChild?(s.innerHTML=l.firstElementChild.innerHTML,N.removeItem(l.firstElementChild),l.children.length>0&&s.appendChild(l)):s.appendChild(l));o[r];)s.appendChild(o[r]);c.childNodes.length<=1&&(!c.firstChild||0===c.firstChild.textContent.length)&&(c.innerHTML="<br>");const h=c.parentNode;return a&&(c=c.nextSibling),s?(this.mergeSameTags(s,null,!1),this.mergeNestedTags(s,function(e){return this.isList(e)}.bind(this)),s.childNodes.length>0?h.insertBefore(s,c):s=c,0===n.childNodes.length&&this.removeItem(n),s):c},mergeSameTags:function(e,t,i){const n=this,s=t?t.length:0;let o=null;return s&&(o=this._w.Array.apply(null,new this._w.Array(s)).map(this._w.Number.prototype.valueOf,0)),function e(l,r,a){const c=l.childNodes;for(let h,u,d=0,p=c.length;d<p&&(h=c[d],u=c[d+1],h);d++)if(i&&n._isIgnoreNodeChange(h)||!i&&(n.isTable(h)||n.isListCell(h)||n.isFormatElement(h)&&!n.isFreeFormatElement(h)))(n.isTable(h)||n.isListCell(h))&&e(h,r+1,d);else{if(1===p&&l.nodeName===h.nodeName&&l.parentNode){if(s){let e,i,o,a,c;for(let u=0;u<s;u++)if(e=t[u],e&&e[r]===d){for(i=h,o=l,a=r,c=!0;a>=0;){if(n.getArrayIndex(o.childNodes,i)!==e[a]){c=!1;break}i=h.parentNode,o=i.parentNode,a--}c&&(e.splice(r,1),e[r]=d)}}n.copyTagAttributes(h,l),l.parentNode.insertBefore(h,l),n.removeItem(l)}if(!u){1===h.nodeType&&e(h,r+1,d);break}if(h.nodeName===u.nodeName&&n.isSameAttributes(h,u)&&h.href===u.href){const e=h.childNodes;let i=0;for(let t=0,n=e.length;t<n;t++)e[t].textContent.length>0&&i++;const l=h.lastChild,c=u.firstChild;let p=0;if(l&&c){const e=3===l.nodeType&&3===c.nodeType;p=l.textContent.length;let n=l.previousSibling;for(;n&&3===n.nodeType;)p+=n.textContent.length,n=n.previousSibling;if(i>0&&3===l.nodeType&&3===c.nodeType&&(l.textContent.length>0||c.textContent.length>0)&&i--,s){let n=null;for(let h=0;h<s;h++)if(n=t[h],n&&n[r]>d){if(r>0&&n[r-1]!==a)continue;n[r]-=1,n[r+1]>=0&&n[r]===d&&(n[r+1]+=i,e&&l&&3===l.nodeType&&c&&3===c.nodeType&&(o[h]+=p))}}}if(3===h.nodeType){if(p=h.textContent.length,h.textContent+=u.textContent,s){let e=null;for(let n=0;n<s;n++)if(e=t[n],e&&e[r]>d){if(r>0&&e[r-1]!==a)continue;e[r]-=1,e[r+1]>=0&&e[r]===d&&(e[r+1]+=i,o[n]+=p)}}}else h.innerHTML+=u.innerHTML;n.removeItem(u),d--}else 1===h.nodeType&&e(h,r+1,d)}}(e,0,0),o},mergeNestedTags:function(e,t){"string"==typeof t?t=function(e){return this.test(e.tagName)}.bind(new this._w.RegExp("^("+(t||".+")+")$","i")):"function"!=typeof t&&(t=function(){return!0}),function e(i){let n=i.children;if(1===n.length&&n[0].nodeName===i.nodeName&&t(i)){const e=n[0];for(n=e.children;n[0];)i.appendChild(n[0]);i.removeChild(e)}for(let t=0,n=i.children.length;t<n;t++)e(i.children[t])}(e)},removeEmptyNode:function(e,t){const i=this;t&&(t=i.getParentElement(t,(function(t){return e===t.parentElement}))),function n(s){if(i._notTextNode(s)||s===t||i.isNonEditable(s))return 0;if(s===e||!i.onlyZeroWidthSpace(s.textContent)||s.firstChild&&i.isBreak(s.firstChild)||s.querySelector(i._allowedEmptyNodeList)){const e=s.children;for(let t=0,s=e.length,o=0;t<s;t++)e[t+o]&&!i.isComponent(e[t+o])&&(o+=n(e[t+o]))}else if(s.parentNode)return s.parentNode.removeChild(s),-1;return 0}(e),0===e.childNodes.length&&(e.innerHTML="<br>")},htmlRemoveWhiteSpace:function(e){return e?e.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/gi,(function(e){return e.replace(/\n/g,"").replace(/\s+/," ")})):""},sortByDepth:function(e,t){const i=t?1:-1,n=-1*i;e.sort(function(e,t){return this.isListCell(e)&&this.isListCell(t)?(e=this.getElementDepth(e))>(t=this.getElementDepth(t))?i:e<t?n:0:0}.bind(this))},_isIgnoreNodeChange:function(e){return e&&3!==e.nodeType&&(this.isNonEditable(e)||!this.isTextStyleElement(e))},_isMaintainedNode:function(e){return e&&3!==e.nodeType&&/^(a|label|code|summary)$/i.test("string"==typeof e?e:e.nodeName)},_isSizeNode:function(e){return e&&3!==e.nodeType&&this.isTextStyleElement(e)&&!!e.style.fontSize},_notTextNode:function(e){return e&&3!==e.nodeType&&(this.isComponent(e)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test("string"==typeof e?e:e.nodeName))},_disallowedTags:function(e){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(e.nodeName)},createTagsWhitelist:function(e){return new RegExp("<\\/?\\b(?!\\b"+(e||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(e){return new RegExp("<\\/?\\b(?:\\b"+(e||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(e,t,i,n){const s=[],o=[],l=[],r=[],a=this.getListChildNodes(e,function(a){if(1!==a.nodeType)return!1;if(i.test(a.nodeName)||!t.test(a.nodeName)&&0===a.childNodes.length&&this.isNotCheckingNode(a))return s.push(a),!1;const c=!this.getParentElement(a,this.isNotCheckingNode);if(!this.isTable(a)&&!this.isListCell(a)&&!this.isAnchor(a)&&(this.isFormatElement(a)||this.isRangeFormatElement(a)||this.isTextStyleElement(a))&&0===a.childNodes.length&&c)return o.push(a),!1;if(this.isList(a.parentNode)&&!this.isList(a)&&!this.isListCell(a))return l.push(a),!1;if(this.isCell(a)){const e=a.firstElementChild;if(!this.isFormatElement(e)&&!this.isRangeFormatElement(e)&&!this.isComponent(e))return r.push(a),!1}return a.parentNode!==e&&c&&(this.isListCell(a)&&!this.isList(a.parentNode)||n&&(this.isFormatElement(a)||this.isComponent(a))&&!this.isRangeFormatElement(a.parentNode)&&!this.getParentElement(a,this.isComponent))}.bind(this));for(let e=0,t=s.length;e<t;e++)this.removeItem(s[e]);const c=[];for(let e,t,i=0,n=a.length;i<n;i++)if(e=a[i],t=e.parentNode,t&&t.parentNode)if(this.getParentElement(e,this.isListCell)){const i=e.childNodes;for(let s=i.length-1;n>=0;s--)t.insertBefore(e,i[s]);c.push(e)}else t.parentNode.insertBefore(e,t),c.push(t);for(let e,t=0,i=c.length;t<i;t++)e=c[t],this.onlyZeroWidthSpace(e.textContent.trim())&&this.removeItem(e);for(let e=0,t=o.length;e<t;e++)this.removeItem(o[e]);for(let e,t,i,n,s=0,o=l.length;s<o;s++)if(e=l[s],n=e.parentNode,n)if(t=this.createElement("LI"),this.isFormatElement(e)){for(i=e.childNodes;i[0];)t.appendChild(i[0]);n.insertBefore(t,e),this.removeItem(e)}else e=e.nextSibling,t.appendChild(l[s]),n.insertBefore(t,e);for(let e,t,i=0,n=r.length;i<n;i++)e=r[i],t=this.createElement("DIV"),t.innerHTML=0===e.textContent.trim().length&&0===e.children.length?"<br>":e.innerHTML,e.innerHTML=t.outerHTML},_setDefaultOptionStyle:function(e,t){let i="";e.height&&(i+="height:"+e.height+";"),e.minHeight&&(i+="min-height:"+e.minHeight+";"),e.maxHeight&&(i+="max-height:"+e.maxHeight+";"),e.position&&(i+="position:"+e.position+";"),e.width&&(i+="width:"+e.width+";"),e.minWidth&&(i+="min-width:"+e.minWidth+";"),e.maxWidth&&(i+="max-width:"+e.maxWidth+";");let n="",s="",o="";const l=(t=i+t).split(";");for(let t,i=0,r=l.length;i<r;i++)t=l[i].trim(),t&&(/^(min-|max-)?width\s*:/.test(t)||/^(z-index|position)\s*:/.test(t)?n+=t+";":/^(min-|max-)?height\s*:/.test(t)?(/^height/.test(t)&&"auto"===t.split(":")[1].trim()&&(e.height="auto"),s+=t+";"):o+=t+";");return{top:n,frame:s,editor:o}},_setIframeDocument:function(e,t){e.setAttribute("scrolling","auto"),e.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1">'+this._setIframeCssTags(t),e.contentDocument.body.className=t._editableClass,e.contentDocument.body.setAttribute("contenteditable",!0)},_setIframeCssTags:function(e){const t=e.iframeCSSFileName,i=this._w.RegExp;let n="";for(let e,s=0,o=t.length;s<o;s++){if(e=[],/(^https?:\/\/)|(^data:text\/css,)/.test(t[s]))e.push(t[s]);else{const n=new i("(^|.*[\\/])"+t[s]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let t,i=document.getElementsByTagName("link"),s=0,o=i.length;s<o;s++)t=i[s].href.match(n),t&&e.push(t[0])}if(!e||0===e.length)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let t=0,i=e.length;t<i;t++)n+='<link href="'+e[t]+'" rel="stylesheet">'}return n+("auto"===e.height?"<style>\n/** Iframe height auto */\nbody{height: min-content; overflow: hidden;}\n</style>":"")}};var L=N,A={init:function(e,t){"object"!=typeof t&&(t={});const i=document;this._initOptions(e,t);const n=i.createElement("DIV");n.className="sun-editor"+(t.rtl?" se-rtl":""),e.id&&(n.id="suneditor_"+e.id);const s=i.createElement("DIV");s.className="se-container";const o=this._createToolBar(i,t.buttonList,t.plugins,t);o.element.style.visibility="hidden",o.pluginCallButtons.math&&this._checkKatexMath(t.katex);const l=i.createElement("DIV");l.className="se-arrow";const r=i.createElement("DIV");r.className="se-toolbar-sticky-dummy";const a=i.createElement("DIV");a.className="se-wrapper";const c=this._initElements(t,n,o.element,l),h=c.bottomBar,u=c.wysiwygFrame,d=c.placeholder;let p=c.codeView;const g=h.resizingBar,f=h.navigation,m=h.charWrapper,_=h.charCounter,v=i.createElement("DIV");v.className="se-loading-box sun-editor-common",v.innerHTML='<div class="se-loading-effect"></div>';const y=i.createElement("DIV");y.className="se-line-breaker",y.innerHTML='<button class="se-btn">'+t.icons.line_break+"</button>";const b=i.createElement("DIV");b.className+="se-line-breaker-component";const w=b.cloneNode(!0);b.innerHTML=w.innerHTML=t.icons.line_break;const x=i.createElement("DIV");x.className="se-resizing-back";const C=t.toolbarContainer;C&&C.appendChild(o.element);const T=t.resizingBarContainer;return g&&T&&T.appendChild(g),a.appendChild(p),d&&a.appendChild(d),C||s.appendChild(o.element),s.appendChild(r),s.appendChild(a),s.appendChild(x),s.appendChild(v),s.appendChild(y),s.appendChild(b),s.appendChild(w),g&&!T&&s.appendChild(g),n.appendChild(s),p=this._checkCodeMirror(t,p),{constructed:{_top:n,_relative:s,_toolBar:o.element,_menuTray:o._menuTray,_editorArea:a,_wysiwygArea:u,_codeArea:p,_placeholder:d,_resizingBar:g,_navigation:f,_charWrapper:m,_charCounter:_,_loading:v,_lineBreaker:y,_lineBreaker_t:b,_lineBreaker_b:w,_resizeBack:x,_stickyDummy:r,_arrow:l},options:t,plugins:o.plugins,pluginCallButtons:o.pluginCallButtons,_responsiveButtons:o.responsiveButtons}},_checkCodeMirror:function(e,t){if(e.codeMirror){const i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},e.codeMirror.options||{}].reduce((function(e,t){for(let i in t)L.hasOwn(t,i)&&(e[i]=t[i]);return e}),{});"auto"===e.height&&(i.viewportMargin=1/0,i.height="auto");const n=e.codeMirror.src.fromTextArea(t,i);n.display.wrapper.style.cssText=t.style.cssText,e.codeMirrorEditor=n,(t=n.display.wrapper).className+=" se-wrapper-code-mirror"}return t},_checkKatexMath:function(e){if(!e)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const t=[{throwOnError:!1},e.options||{}].reduce((function(e,t){for(let i in t)L.hasOwn(t,i)&&(e[i]=t[i]);return e}),{});e.options=t},_setOptions:function(e,t,i){this._initOptions(t.element.originElement,e);const n=t.element,s=n.relative,o=n.editorArea,l=e.toolbarContainer&&e.toolbarContainer!==i.toolbarContainer,r=e.lang!==i.lang||e.buttonList!==i.buttonList||e.mode!==i.mode||l,a=this._createToolBar(document,r?e.buttonList:i.buttonList,e.plugins,e);a.pluginCallButtons.math&&this._checkKatexMath(e.katex);const c=document.createElement("DIV");c.className="se-arrow",r&&(a.element.style.visibility="hidden",l?(e.toolbarContainer.appendChild(a.element),n.toolbar.parentElement.removeChild(n.toolbar)):n.toolbar.parentElement.replaceChild(a.element,n.toolbar),n.toolbar=a.element,n._menuTray=a._menuTray,n._arrow=c);const h=this._initElements(e,n.topArea,r?a.element:n.toolbar,c),u=h.bottomBar,d=h.wysiwygFrame,p=h.placeholder;let g=h.codeView;return n.resizingBar&&L.removeItem(n.resizingBar),u.resizingBar&&(e.resizingBarContainer&&e.resizingBarContainer!==i.resizingBarContainer?e.resizingBarContainer.appendChild(u.resizingBar):s.appendChild(u.resizingBar)),o.innerHTML="",o.appendChild(g),p&&o.appendChild(p),g=this._checkCodeMirror(e,g),n.resizingBar=u.resizingBar,n.navigation=u.navigation,n.charWrapper=u.charWrapper,n.charCounter=u.charCounter,n.wysiwygFrame=d,n.code=g,n.placeholder=p,e.rtl?L.addClass(n.topArea,"se-rtl"):L.removeClass(n.topArea,"se-rtl"),{callButtons:a.pluginCallButtons,plugins:a.plugins,toolbar:a}},_initElements:function(e,t,i,n){t.style.cssText=e._editorStyles.top,/inline/i.test(e.mode)?(i.className+=" se-toolbar-inline",i.style.width=e.toolbarWidth):/balloon/i.test(e.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=e.toolbarWidth,i.appendChild(n));const s=document.createElement(e.iframe?"IFRAME":"DIV");if(s.className="se-wrapper-inner se-wrapper-wysiwyg",e.iframe)s.allowFullscreen=!0,s.frameBorder=0,s.style.cssText=e._editorStyles.frame;else{s.setAttribute("contenteditable",!0),s.setAttribute("scrolling","auto");for(let t in e.iframeAttributes)s.setAttribute(t,e.iframeAttributes[t]);s.className+=" "+e._editableClass,s.style.cssText=e._editorStyles.frame+e._editorStyles.editor}const o=document.createElement("TEXTAREA");o.className="se-wrapper-inner se-wrapper-code",o.style.cssText=e._editorStyles.frame,o.style.display="none","auto"===e.height&&(o.style.overflow="hidden");let l=null,r=null,a=null,c=null;if(e.resizingBar&&(l=document.createElement("DIV"),l.className="se-resizing-bar sun-editor-common",r=document.createElement("DIV"),r.className="se-navigation sun-editor-common",l.appendChild(r),e.charCounter)){if(a=document.createElement("DIV"),a.className="se-char-counter-wrapper",e.charCounterLabel){const t=document.createElement("SPAN");t.className="se-char-label",t.textContent=e.charCounterLabel,a.appendChild(t)}if(c=document.createElement("SPAN"),c.className="se-char-counter",c.textContent="0",a.appendChild(c),e.maxCharCount>0){const t=document.createElement("SPAN");t.textContent=" / "+e.maxCharCount,a.appendChild(t)}l.appendChild(a)}let h=null;return e.placeholder&&(h=document.createElement("SPAN"),h.className="se-placeholder",h.innerText=e.placeholder),{bottomBar:{resizingBar:l,navigation:r,charWrapper:a,charCounter:c},wysiwygFrame:s,codeView:o,placeholder:h}},_initOptions:function(e,t){t.lang=t.lang||k.a,t.defaultTag="string"==typeof t.defaultTag&&t.defaultTag.length>0?t.defaultTag:"p";const i=t.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},t.textTags||{}].reduce((function(e,t){for(let i in t)e[i]=t[i];return e}),{});t._textTagsMap={strong:i.bold.toLowerCase(),b:i.bold.toLowerCase(),u:i.underline.toLowerCase(),ins:i.underline.toLowerCase(),em:i.italic.toLowerCase(),i:i.italic.toLowerCase(),del:i.strike.toLowerCase(),strike:i.strike.toLowerCase(),s:i.strike.toLowerCase(),sub:i.sub.toLowerCase(),sup:i.sup.toLowerCase()},t.value="string"==typeof t.value?t.value:null,t.historyStackDelayTime="number"==typeof t.historyStackDelayTime?t.historyStackDelayTime:400,t.tagsBlacklist=t.tagsBlacklist||"",t._defaultTagsWhitelist="string"==typeof t._defaultTagsWhitelist?t._defaultTagsWhitelist:"br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary",t._editorTagsWhitelist="*"===t.addTagsWhitelist?"*":this._setWhitelist(t._defaultTagsWhitelist+("string"==typeof t.addTagsWhitelist&&t.addTagsWhitelist.length>0?"|"+t.addTagsWhitelist:""),t.tagsBlacklist),t.pasteTagsBlacklist=t.tagsBlacklist+(t.tagsBlacklist&&t.pasteTagsBlacklist?"|"+t.pasteTagsBlacklist:t.pasteTagsBlacklist||""),t.pasteTagsWhitelist="*"===t.pasteTagsWhitelist?"*":this._setWhitelist("string"==typeof t.pasteTagsWhitelist?t.pasteTagsWhitelist:t._editorTagsWhitelist,t.pasteTagsBlacklist),t.attributesWhitelist=t.attributesWhitelist&&"object"==typeof t.attributesWhitelist?t.attributesWhitelist:null,t.attributesBlacklist=t.attributesBlacklist&&"object"==typeof t.attributesBlacklist?t.attributesBlacklist:null,t.mode=t.mode||"classic",t.rtl=!!t.rtl,t.lineAttrReset="string"==typeof t.lineAttrReset&&t.lineAttrReset?"*"===t.lineAttrReset?"*":new RegExp("^("+t.lineAttrReset+")$","i"):null,t._editableClass="sun-editor-editable"+(t.rtl?" se-rtl":""),t._printClass="string"==typeof t._printClass?t._printClass:null,t.toolbarWidth=t.toolbarWidth?L.isNumber(t.toolbarWidth)?t.toolbarWidth+"px":t.toolbarWidth:"auto",t.toolbarContainer="string"==typeof t.toolbarContainer?document.querySelector(t.toolbarContainer):t.toolbarContainer,t.stickyToolbar=/balloon/i.test(t.mode)||t.toolbarContainer?-1:void 0===t.stickyToolbar?0:/^\d+/.test(t.stickyToolbar)?L.getNumber(t.stickyToolbar,0):-1,t.fullScreenOffset=void 0===t.fullScreenOffset?0:/^\d+/.test(t.fullScreenOffset)?L.getNumber(t.fullScreenOffset,0):0,t.fullPage=!!t.fullPage,t.iframe=t.fullPage||!!t.iframe,t.iframeAttributes=t.iframeAttributes||{},t.iframeCSSFileName=t.iframe?"string"==typeof t.iframeCSSFileName?[t.iframeCSSFileName]:t.iframeCSSFileName||["suneditor"]:null,t.previewTemplate="string"==typeof t.previewTemplate?t.previewTemplate:null,t.printTemplate="string"==typeof t.printTemplate?t.printTemplate:null,t.codeMirror=t.codeMirror?t.codeMirror.src?t.codeMirror:{src:t.codeMirror}:null,t.katex=t.katex?t.katex.src?t.katex:{src:t.katex}:null,t.mathFontSize=t.mathFontSize?t.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],t.position="string"==typeof t.position?t.position:null,t.display=t.display||("none"!==e.style.display&&e.style.display?e.style.display:"block"),t.popupDisplay=t.popupDisplay||"full",t.resizingBar=void 0===t.resizingBar?!/inline|balloon/i.test(t.mode):t.resizingBar,t.showPathLabel=!!t.resizingBar&&("boolean"!=typeof t.showPathLabel||t.showPathLabel),t.resizeEnable=void 0===t.resizeEnable||!!t.resizeEnable,t.resizingBarContainer="string"==typeof t.resizingBarContainer?document.querySelector(t.resizingBarContainer):t.resizingBarContainer,t.charCounter=t.maxCharCount>0||"boolean"==typeof t.charCounter&&t.charCounter,t.charCounterType="string"==typeof t.charCounterType?t.charCounterType:"char",t.charCounterLabel="string"==typeof t.charCounterLabel?t.charCounterLabel.trim():null,t.maxCharCount=L.isNumber(t.maxCharCount)&&t.maxCharCount>-1?1*t.maxCharCount:null,t.width=t.width?L.isNumber(t.width)?t.width+"px":t.width:e.clientWidth?e.clientWidth+"px":"100%",t.minWidth=(L.isNumber(t.minWidth)?t.minWidth+"px":t.minWidth)||"",t.maxWidth=(L.isNumber(t.maxWidth)?t.maxWidth+"px":t.maxWidth)||"",t.height=t.height?L.isNumber(t.height)?t.height+"px":t.height:e.clientHeight?e.clientHeight+"px":"auto",t.minHeight=(L.isNumber(t.minHeight)?t.minHeight+"px":t.minHeight)||"",t.maxHeight=(L.isNumber(t.maxHeight)?t.maxHeight+"px":t.maxHeight)||"",t.defaultStyle="string"==typeof t.defaultStyle?t.defaultStyle:"",t.font=t.font?t.font:null,t.fontSize=t.fontSize?t.fontSize:null,t.formats=t.formats?t.formats:null,t.colorList=t.colorList?t.colorList:null,t.lineHeights=t.lineHeights?t.lineHeights:null,t.paragraphStyles=t.paragraphStyles?t.paragraphStyles:null,t.textStyles=t.textStyles?t.textStyles:null,t.fontSizeUnit="string"==typeof t.fontSizeUnit&&t.fontSizeUnit.trim()||"px",t.alignItems="object"==typeof t.alignItems?t.alignItems:t.rtl?["right","center","left","justify"]:["left","center","right","justify"],t.imageResizing=void 0===t.imageResizing||t.imageResizing,t.imageHeightShow=void 0===t.imageHeightShow||!!t.imageHeightShow,t.imageAlignShow=void 0===t.imageAlignShow||!!t.imageAlignShow,t.imageWidth=t.imageWidth?L.isNumber(t.imageWidth)?t.imageWidth+"px":t.imageWidth:"auto",t.imageHeight=t.imageHeight?L.isNumber(t.imageHeight)?t.imageHeight+"px":t.imageHeight:"auto",t.imageSizeOnlyPercentage=!!t.imageSizeOnlyPercentage,t._imageSizeUnit=t.imageSizeOnlyPercentage?"%":"px",t.imageRotation=void 0!==t.imageRotation?t.imageRotation:!(t.imageSizeOnlyPercentage||!t.imageHeightShow),t.imageFileInput=void 0===t.imageFileInput||t.imageFileInput,t.imageUrlInput=void 0===t.imageUrlInput||!t.imageFileInput||t.imageUrlInput,t.imageUploadHeader=t.imageUploadHeader||null,t.imageUploadUrl="string"==typeof t.imageUploadUrl?t.imageUploadUrl:null,t.imageUploadSizeLimit=/\d+/.test(t.imageUploadSizeLimit)?L.getNumber(t.imageUploadSizeLimit,0):null,t.imageMultipleFile=!!t.imageMultipleFile,t.imageAccept="string"!=typeof t.imageAccept||"*"===t.imageAccept.trim()?"image/*":t.imageAccept.trim()||"image/*",t.imageGalleryUrl="string"==typeof t.imageGalleryUrl?t.imageGalleryUrl:null,t.imageGalleryHeader=t.imageGalleryHeader||null,t.videoResizing=void 0===t.videoResizing||t.videoResizing,t.videoHeightShow=void 0===t.videoHeightShow||!!t.videoHeightShow,t.videoAlignShow=void 0===t.videoAlignShow||!!t.videoAlignShow,t.videoRatioShow=void 0===t.videoRatioShow||!!t.videoRatioShow,t.videoWidth=t.videoWidth&&L.getNumber(t.videoWidth,0)?L.isNumber(t.videoWidth)?t.videoWidth+"px":t.videoWidth:"",t.videoHeight=t.videoHeight&&L.getNumber(t.videoHeight,0)?L.isNumber(t.videoHeight)?t.videoHeight+"px":t.videoHeight:"",t.videoSizeOnlyPercentage=!!t.videoSizeOnlyPercentage,t._videoSizeUnit=t.videoSizeOnlyPercentage?"%":"px",t.videoRotation=void 0!==t.videoRotation?t.videoRotation:!(t.videoSizeOnlyPercentage||!t.videoHeightShow),t.videoRatio=L.getNumber(t.videoRatio,4)||.5625,t.videoRatioList=t.videoRatioList?t.videoRatioList:null,t.youtubeQuery=(t.youtubeQuery||"").replace("?",""),t.videoFileInput=!!t.videoFileInput,t.videoUrlInput=void 0===t.videoUrlInput||!t.videoFileInput||t.videoUrlInput,t.videoUploadHeader=t.videoUploadHeader||null,t.videoUploadUrl="string"==typeof t.videoUploadUrl?t.videoUploadUrl:null,t.videoUploadSizeLimit=/\d+/.test(t.videoUploadSizeLimit)?L.getNumber(t.videoUploadSizeLimit,0):null,t.videoMultipleFile=!!t.videoMultipleFile,t.videoTagAttrs=t.videoTagAttrs||null,t.videoIframeAttrs=t.videoIframeAttrs||null,t.videoAccept="string"!=typeof t.videoAccept||"*"===t.videoAccept.trim()?"video/*":t.videoAccept.trim()||"video/*",t.audioWidth=t.audioWidth?L.isNumber(t.audioWidth)?t.audioWidth+"px":t.audioWidth:"",t.audioHeight=t.audioHeight?L.isNumber(t.audioHeight)?t.audioHeight+"px":t.audioHeight:"",t.audioFileInput=!!t.audioFileInput,t.audioUrlInput=void 0===t.audioUrlInput||!t.audioFileInput||t.audioUrlInput,t.audioUploadHeader=t.audioUploadHeader||null,t.audioUploadUrl="string"==typeof t.audioUploadUrl?t.audioUploadUrl:null,t.audioUploadSizeLimit=/\d+/.test(t.audioUploadSizeLimit)?L.getNumber(t.audioUploadSizeLimit,0):null,t.audioMultipleFile=!!t.audioMultipleFile,t.audioTagAttrs=t.audioTagAttrs||null,t.audioAccept="string"!=typeof t.audioAccept||"*"===t.audioAccept.trim()?"audio/*":t.audioAccept.trim()||"audio/*",t.tableCellControllerPosition="string"==typeof t.tableCellControllerPosition?t.tableCellControllerPosition.toLowerCase():"cell",t.linkTargetNewWindow=!!t.linkTargetNewWindow,t.linkProtocol="string"==typeof t.linkProtocol?t.linkProtocol:null,t.linkRel=Array.isArray(t.linkRel)?t.linkRel:[],t.linkRelDefault=t.linkRelDefault||{},t.tabDisable=!!t.tabDisable,t.shortcutsDisable=Array.isArray(t.shortcutsDisable)?t.shortcutsDisable:[],t.shortcutsHint=void 0===t.shortcutsHint||!!t.shortcutsHint,t.callBackSave=t.callBackSave?t.callBackSave:null,t.templates=t.templates?t.templates:null,t.placeholder="string"==typeof t.placeholder?t.placeholder:null,t.mediaAutoSelect=void 0===t.mediaAutoSelect||!!t.mediaAutoSelect,t.buttonList=t.buttonList?t.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],t.rtl&&(t.buttonList=t.buttonList.reverse()),t.icons=t.icons&&"object"==typeof t.icons?[S,t.icons].reduce((function(e,t){for(let i in t)L.hasOwn(t,i)&&(e[i]=t[i]);return e}),{}):S,t.icons=t.rtl?[t.icons,t.icons.rtl].reduce((function(e,t){for(let i in t)L.hasOwn(t,i)&&(e[i]=t[i]);return e}),{}):t.icons,t._editorStyles=L._setDefaultOptionStyle(t,t.defaultStyle)},_setWhitelist:function(e,t){if("string"!=typeof t)return e;t=t.split("|"),e=e.split("|");for(let i,n=0,s=t.length;n<s;n++)i=e.indexOf(t[n]),i>-1&&e.splice(i,1);return e.join("|")},_defaultButtons:function(e){const t=e.icons,i=e.lang,n=L.isOSX_IOS?"":"CTRL",s=L.isOSX_IOS?"":"+SHIFT",o=e.shortcutsHint?e.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],l=e.rtl?["[","]"]:["]","["];return{bold:["_se_command_bold",i.toolbar.bold+'<span class="se-shortcut">'+(o.indexOf("bold")>-1?"":n+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",t.bold],underline:["_se_command_underline",i.toolbar.underline+'<span class="se-shortcut">'+(o.indexOf("underline")>-1?"":n+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",t.underline],italic:["_se_command_italic",i.toolbar.italic+'<span class="se-shortcut">'+(o.indexOf("italic")>-1?"":n+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",t.italic],strike:["_se_command_strike",i.toolbar.strike+'<span class="se-shortcut">'+(o.indexOf("strike")>-1?"":n+s+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",t.strike],subscript:["_se_command_subscript",i.toolbar.subscript,"SUB","",t.subscript],superscript:["_se_command_superscript",i.toolbar.superscript,"SUP","",t.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",t.erase],indent:["_se_command_indent",i.toolbar.indent+'<span class="se-shortcut">'+(o.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+l[0]+"</span>")+"</span>","indent","",t.outdent],outdent:["_se_command_outdent",i.toolbar.outdent+'<span class="se-shortcut">'+(o.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+l[1]+"</span>")+"</span>","outdent","",t.indent],fullScreen:["se-code-view-enabled se-resizing-enabled _se_command_fullScreen",i.toolbar.fullScreen,"fullScreen","",t.expansion],showBlocks:["_se_command_showBlocks",i.toolbar.showBlocks,"showBlocks","",t.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled _se_command_codeView",i.toolbar.codeView,"codeView","",t.code_view],undo:["_se_command_undo",i.toolbar.undo+'<span class="se-shortcut">'+(o.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",t.undo],redo:["_se_command_redo",i.toolbar.redo+'<span class="se-shortcut">'+(o.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Y</span> / '+n+s+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",t.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",t.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",t.print],dir:["_se_command_dir",i.toolbar[e.rtl?"dir_ltr":"dir_rtl"],"dir","",t[e.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["_se_command_dir_ltr",i.toolbar.dir_ltr,"dir_ltr","",t.dir_ltr],dir_rtl:["_se_command_dir_rtl",i.toolbar.dir_rtl,"dir_rtl","",t.dir_rtl],save:["_se_command_save se-resizing-enabled",i.toolbar.save+'<span class="se-shortcut">'+(o.indexOf("save")>-1?"":n+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",t.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",t.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+t.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+t.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+t.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",t.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",t.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",e.rtl?t.align_right:t.align_left],list:["",i.toolbar.list,"list","submenu",t.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",t.horizontal_rule],table:["",i.toolbar.table,"table","submenu",t.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",t.line_height],template:["",i.toolbar.template,"template","submenu",t.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",t.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",t.text_style],link:["",i.toolbar.link,"link","dialog",t.link],image:["",i.toolbar.image,"image","dialog",t.image],video:["",i.toolbar.video,"video","dialog",t.video],audio:["",i.toolbar.audio,"audio","dialog",t.audio],math:["",i.toolbar.math,"math","dialog",t.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",t.image_gallery]}},_createModuleGroup:function(){const e=L.createElement("DIV");e.className="se-btn-module se-btn-module-border";const t=L.createElement("UL");return t.className="se-menu-list",e.appendChild(t),{div:e,ul:t}},_createButton:function(e,t,i,n,s,o,l){const r=L.createElement("LI"),a=L.createElement("BUTTON");return a.setAttribute("type","button"),a.setAttribute("class","se-btn"+(e?" "+e:"")+" se-tooltip"),a.setAttribute("data-command",i),a.setAttribute("data-display",n),a.setAttribute("tabindex","-1"),s||(s='<span class="se-icon-text">!</span>'),/^default\./i.test(s)&&(s=l[s.replace(/^default\./i,"")]),/^text\./i.test(s)&&(s=s.replace(/^text\./i,""),a.className+=" se-btn-more-text"),s+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+(t||i)+"</span></span>",o&&a.setAttribute("disabled",!0),a.innerHTML=s,r.appendChild(a),{li:r,button:a}},_createToolBar:function(e,t,i,n){const s=e.createElement("DIV");s.className="se-toolbar-separator-vertical";const o=e.createElement("DIV");o.className="se-toolbar sun-editor-common";const l=e.createElement("DIV");l.className="se-btn-tray",o.appendChild(l),t=JSON.parse(JSON.stringify(t));const r=n.icons,a=this._defaultButtons(n),c={},h=[],u={};if(i){const e=i.length?i:Object.keys(i).map((function(e){return i[e]}));for(let t,i=0,n=e.length;i<n;i++)t=e[i].default||e[i],u[t.name]=t}let d=null,p=null,g=null,f=null,m="",_=!1;const v=L.createElement("DIV");v.className="se-toolbar-more-layer";e:for(let i,n,o,y,b,w=0;w<t.length;w++)if(i=!1,b="",y=t[w],g=this._createModuleGroup(),"object"==typeof y){for(let e,s=0;s<y.length;s++){if(p=y[s],e=!1,/^\%\d+/.test(p)&&0===s){y[0]=p.replace(/[^\d]/g,""),h.push(y),t.splice(w--,1);continue e}if("object"==typeof p)"function"==typeof p.add?(m=p.name,d=a[m],u[m]=p):(m=p.name,d=[p.buttonClass,p.title,p.name,p.dataDisplay,p.innerHTML,p._disabled]);else{if(/^\-/.test(p)){b=p.substr(1),g.div.className+=" module-float-"+b;continue}if(/^\#/.test(p)){"fix"===p.substr(1)&&(g.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(p)){e=!0;const t=p.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);o="__se__"+t[1].trim(),d=["se-btn-more",t[2].trim(),o,"MORE",t[3].trim()]}else d=a[p];if(m=p,!d){const e=u[m];if(!e)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+m+"]");d=[e.buttonClass,e.title,e.name,e.display,e.innerHTML,e._disabled]}}f=this._createButton(d[0],d[1],d[2],d[3],d[4],d[5],r),(i?n:g.ul).appendChild(f.li),u[m]&&(c[m]=f.button),e&&(i=!0,n=L.createElement("DIV"),n.className="se-more-layer "+o,n.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(b?' style="float: '+b+';"':"")+"></ul></div>",v.appendChild(n),n=n.firstElementChild.firstElementChild)}if(_){const e=s.cloneNode(!1);l.appendChild(e)}l.appendChild(g.div),_=!0}else if(/^\/$/.test(y)){const t=e.createElement("DIV");t.className="se-btn-module-enter",l.appendChild(t),_=!1}switch(l.children.length){case 0:l.style.display="none";break;case 1:L.removeClass(l.firstElementChild,"se-btn-module-border");break;default:if(n.rtl){const e=s.cloneNode(!1);e.style.float=l.lastElementChild.style.float,l.appendChild(e)}}h.length>0&&h.unshift(t),v.children.length>0&&l.appendChild(v);const y=e.createElement("DIV");y.className="se-menu-tray",o.appendChild(y);const b=e.createElement("DIV");return b.className="se-toolbar-cover",o.appendChild(b),{element:o,plugins:u,pluginCallButtons:c,responsiveButtons:h,_menuTray:y,_buttonTray:l}}},z=function(e,t,i){return{element:{originElement:e,topArea:t._top,relative:t._relative,toolbar:t._toolBar,_buttonTray:t._toolBar.querySelector(".se-btn-tray"),_menuTray:t._menuTray,resizingBar:t._resizingBar,navigation:t._navigation,charWrapper:t._charWrapper,charCounter:t._charCounter,editorArea:t._editorArea,wysiwygFrame:t._wysiwygArea,wysiwyg:t._wysiwygArea,code:t._codeArea,placeholder:t._placeholder,loading:t._loading,lineBreaker:t._lineBreaker,lineBreaker_t:t._lineBreaker_t,lineBreaker_b:t._lineBreaker_b,resizeBackground:t._resizeBack,_stickyDummy:t._stickyDummy,_arrow:t._arrow},tool:{cover:t._toolBar.querySelector(".se-toolbar-cover"),bold:t._toolBar.querySelector("._se_command_bold"),underline:t._toolBar.querySelector("._se_command_underline"),italic:t._toolBar.querySelector("._se_command_italic"),strike:t._toolBar.querySelector("._se_command_strike"),subscript:t._toolBar.querySelector("._se_command_subscript"),superscript:t._toolBar.querySelector("._se_command_superscript"),undo:t._toolBar.querySelector("._se_command_undo"),redo:t._toolBar.querySelector("._se_command_redo"),save:t._toolBar.querySelector("._se_command_save"),outdent:t._toolBar.querySelector("._se_command_outdent"),indent:t._toolBar.querySelector("._se_command_indent"),fullScreen:t._toolBar.querySelector("._se_command_fullScreen"),showBlocks:t._toolBar.querySelector("._se_command_showBlocks"),codeView:t._toolBar.querySelector("._se_command_codeView"),dir:t._toolBar.querySelector("._se_command_dir"),dir_ltr:t._toolBar.querySelector("._se_command_dir_ltr"),dir_rtl:t._toolBar.querySelector("._se_command_dir_rtl")},options:i,option:i}},M={name:"notice",add:function(e){const t=e.context;t.notice={};let i=e.util.createElement("DIV"),n=e.util.createElement("SPAN"),s=e.util.createElement("BUTTON");i.className="se-notice",s.className="close",s.setAttribute("aria-label","Close"),s.setAttribute("title",e.lang.dialogBox.close),s.innerHTML=e.icons.cancel,i.appendChild(n),i.appendChild(s),t.notice.modal=i,t.notice.message=n,s.addEventListener("click",this.onClick_cancel.bind(e)),t.element.editorArea.appendChild(i),i=null},onClick_cancel:function(e){e.preventDefault(),e.stopPropagation(),this.plugins.notice.close.call(this)},open:function(e){this.context.notice.message.textContent=e,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}},B={init:function(e){return{create:function(t,i){return this.create(t,i,e)}.bind(this)}},create:function(e,t,i){L._propertiesInit(),"object"!=typeof t&&(t={}),i&&(t=[i,t].reduce((function(e,t){for(let i in t)if(L.hasOwn(t,i))if("plugins"===i&&t[i]&&e[i]){let n=e[i],s=t[i];n=n.length?n:Object.keys(n).map((function(e){return n[e]})),s=s.length?s:Object.keys(s).map((function(e){return s[e]})),e[i]=s.filter((function(e){return-1===n.indexOf(e)})).concat(n)}else e[i]=t[i];return e}),{}));const n="string"==typeof e?document.getElementById(e):e;if(!n){if("string"==typeof e)throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+e+'")');throw Error("[SUNEDITOR.create.fail] suneditor requires textarea's element or id value")}const s=A.init(n,t);if(s.constructed._top.id&&document.getElementById(s.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+s.constructed._top.id+'")');return function(e,t,i,n,s,o){const l=e.element.originElement.ownerDocument||document,r=l.defaultView||window,a=L,c=s.icons,h={_d:l,_w:r,_parser:new r.DOMParser,_prevRtl:s.rtl,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:a,functions:null,options:null,wwComputedStyle:null,notice:M,icons:c,history:null,context:e,pluginCallButtons:t,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:null,_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},allCommandButtons:null,_styleCommandMap:null,_defaultCommand:{bold:s.textTags.bold,underline:s.textTags.underline,italic:s.textTags.italic,strike:s.textTags.strike,subscript:s.textTags.sub,superscript:s.textTags.sup},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:a.getNumber(e.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:e.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});const e=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let t,i,n=0;n<e.length;n++)t=e[n],i=t.getAttribute("data-command"),this.allCommandButtons[i]=t},recoverButtonStates:function(){if(this.allCommandButtons){const e=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let t,i,n,s=0;s<e.length;s++)t=e[s],i=t.getAttribute("data-command"),n=this.allCommandButtons[i],n&&(t.parentElement.replaceChild(n,t),this.context.tool[i]&&(this.context.tool[i]=n))}},callPlugin:function(e,i,n){if(n=n||t[e],!this.plugins[e])throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+e+'")');this.initPlugins[e]?"object"==typeof this._targetPlugins[e]&&n&&this.initMenuTarget(e,n,this._targetPlugins[e]):(this.plugins[e].add(this,n),this.initPlugins[e]=!0),this.plugins[e].active&&!this.commandMap[e]&&n&&(this.commandMap[e]=n,this.activePlugins.push(e)),"function"==typeof i&&i()},addModule:function(e){for(let t,i=0,n=e.length;i<n;i++)t=e[i].name,this.plugins[t]||(this.plugins[t]=e[i]),this.initPlugins[t]||(this.initPlugins[t]=!0,"function"==typeof this.plugins[t].add&&this.plugins[t].add(this))},getGlobalScrollOffset:function(){let t=0,i=0,n=e.element.topArea;for(;n;)t+=n.scrollTop,i+=n.scrollLeft,n=n.parentElement;for(n=this._shadowRoot?this._shadowRoot.host:null;n;)t+=n.scrollTop,i+=n.scrollLeft,n=n.parentElement;return{top:t,left:i}},initMenuTarget:function(t,i,n){i?(e.element._menuTray.appendChild(n),this._targetPlugins[t]=!0,this._menuTray[i.getAttribute("data-command")]=n):this._targetPlugins[t]=n},submenuOn:function(e){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const t=this._submenuName=e.getAttribute("data-command"),i=this.submenu=this._menuTray[t];this.submenuActiveButton=e,this._setMenuPosition(e,i),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[t].on&&this.plugins[t].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,a.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){this._moreLayerActiveButton&&(e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command")).style.display="none",a.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null)},containerOn:function(e){this._bindedContainerOff&&this._bindedContainerOff();const t=this._containerName=e.getAttribute("data-command"),i=this.container=this._menuTray[t];this.containerActiveButton=e,this._setMenuPosition(e,i),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[t].on&&this.plugins[t].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,a.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(t,i){i.style.visibility="hidden",i.style.display="block",i.style.height="",a.addClass(t,"on");const n=this.context.element.toolbar,o=n.offsetWidth,l=u._getEditorOffsets(e.element.toolbar),c=i.offsetWidth,h=t.parentElement.offsetLeft+3;if(s.rtl){const e=t.offsetWidth,n=c>e?c-e:0,s=n>0?0:e-c;i.style.left=h-n+s+"px",l.left>u._getEditorOffsets(i).left&&(i.style.left="0px")}else{const e=o<=c?0:o-(h+c);i.style.left=e<0?h+e+"px":h+"px"}let d=0,p=t;for(;p&&p!==n;)d+=p.offsetTop,p=p.offsetParent;const g=d;this._isBalloon?d+=n.offsetTop+t.offsetHeight:d-=t.offsetHeight;const f=l.top,m=i.offsetHeight,_=this.getGlobalScrollOffset().top,v=r.innerHeight-(f-_+g+t.parentElement.offsetHeight);if(v<m){let e=-1*(m-g+3);const n=f-_+e,s=m+(n<0?n:0);s>v?(i.style.height=s+"px",e=-1*(s-g+3)):(i.style.height=v+"px",e=g+t.parentElement.offsetHeight),i.style.top=e+"px"}else i.style.top=g+t.parentElement.offsetHeight+"px";i.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let e,t=0;t<arguments.length;t++)e=arguments[t],e&&("string"!=typeof e?"function"!=typeof e?a.hasClass(e,"se-controller")?(e.style&&(e.style.display="block",this._shadowRoot&&-1===this._shadowRootControllerEventTarget.indexOf(e)&&(e.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation()})),this._shadowRootControllerEventTarget.push(e))),this.controllerArray.push(e)):(this.currentControllerTarget=e,this.currentFileComponentInfo=this.getFileComponent(e)):this.controllerArray.push(e):this.currentControllerName=e);this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,"function"==typeof d.showController&&d.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(t){this._lineBreaker.style.display="none";const i=this.controllerArray.length;if(t&&t.target&&i>0)for(let e=0;e<i;e++)if("function"==typeof this.controllerArray[e].contains&&this.controllerArray[e].contains(t.target))return;if((!this._fileManager.pluginRegExp.test(this.currentControllerName)||!t||"keydown"!==t.type||27===t.keyCode)&&(e.element.lineBreaker_t.style.display=e.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,i>0){for(let e=0;e<i;e++)"function"==typeof this.controllerArray[e]?this.controllerArray[e]():this.controllerArray[e].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(t,i,n,o){s.rtl&&(o.left*=-1);const l=a.getOffset(i,e.element.wysiwygFrame);t.style.visibility="hidden",t.style.display="block";const r="top"===n?-(t.offsetHeight+2):i.offsetHeight+12;t.style.top=l.top+r+o.top+"px";const c=l.left-e.element.wysiwygFrame.scrollLeft+o.left,h=t.offsetWidth,u=i.offsetWidth,d=a.hasClass(t.firstElementChild,"se-arrow")?t.firstElementChild:null;if(s.rtl){const i=h>u?h-u:0,n=i>0?0:u-h;t.style.left=c-i+n+"px",i>0&&d&&(d.style.left=(h-14<10+i?h-14:10+i)+"px");const s=e.element.wysiwygFrame.offsetLeft-t.offsetLeft;s>0&&(t.style.left="0px",d&&(d.style.left=s+"px"))}else{t.style.left=c+"px";const i=e.element.wysiwygFrame.offsetWidth-(t.offsetLeft+h);i<0?(t.style.left=t.offsetLeft+i+"px",d&&(d.style.left=20-i+"px")):d&&(d.style.left="20px")}t.style.visibility=""},execCommand:function(e,t,i){this._wd.execCommand(e,t,"formatBlock"===e?"<"+i+">":i),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){const t=a.getParentElement(this.getSelectionNode(),"figcaption");t?t.focus():e.element.wysiwyg.focus()},focus:function(){if("none"!==e.element.wysiwygFrame.style.display){if(s.iframe)this.nativeFocus();else try{const t=this.getRange();if(t.startContainer===t.endContainer&&a.isWysiwygDiv(t.startContainer)){const i=t.commonAncestorContainer.children[t.startOffset];if(!a.isFormatElement(i)&&!a.isComponent(i)){const t=a.createElement(s.defaultTag),n=a.createElement("BR");return t.appendChild(n),e.element.wysiwyg.insertBefore(t,i),void this.setRange(n,0,n,0)}}this.setRange(t.startContainer,t.startOffset,t.endContainer,t.endOffset)}catch(e){this.nativeFocus()}u._applyTagEffects(),this._isBalloon&&u._toggleToolbarBalloon()}},focusEdge:function(t){t||(t=e.element.wysiwyg.lastElementChild);const i=this.getFileComponent(t);i?this.selectComponent(i.target,i.pluginName):t?(t=a.getChildElement(t,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0))?this.setRange(t,t.textContent.length,t,t.textContent.length):this.nativeFocus():this.focus()},blur:function(){s.iframe?e.element.wysiwygFrame.blur():e.element.wysiwyg.blur()},setRange:function(e,t,i,n){if(!e||!i)return;t>e.textContent.length&&(t=e.textContent.length),n>i.textContent.length&&(n=i.textContent.length),a.isFormatElement(e)&&(e=e.childNodes[t]||e,t=0),a.isFormatElement(i)&&(i=i.childNodes[n]||i,n=t>1?t:0);const o=this._wd.createRange();try{o.setStart(e,t),o.setEnd(i,n)}catch(e){return console.warn("[SUNEDITOR.core.focus.error] "+e),void this.nativeFocus()}const l=this.getSelection();return l.removeAllRanges&&l.removeAllRanges(),l.addRange(o),this._rangeInfo(o,this.getSelection()),s.iframe&&this.__focus(),o},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){const t=this._variable._range||this._createDefaultRange(),i=this.getSelection();if(t.collapsed===i.isCollapsed||!e.element.wysiwyg.contains(i.focusNode))return t;if(i.rangeCount>0)return this._variable._range=i.getRangeAt(0),this._variable._range;{const e=i.anchorNode,t=i.focusNode,n=i.anchorOffset,s=i.focusOffset,o=a.compareElements(e,t),l=o.ancestor&&(0===o.result?n<=s:o.result>1);return this.setRange(l?e:t,l?n:s,l?t:e,l?s:n)}},getRange_addLine:function(t,i){if(this._selectionVoid(t)){const n=e.element.wysiwyg,o=a.createElement(s.defaultTag);o.innerHTML="<br>",n.insertBefore(o,i&&i!==n?i.nextElementSibling:n.firstElementChild),this.setRange(o.firstElementChild,0,o.firstElementChild,1),t=this._variable._range}return t},getSelection:function(){return this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection()},getSelectionNode:function(){if(e.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){const t=a.getChildElement(e.element.wysiwyg.firstChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1);if(t)return this._variable._selectionNode=t,t;this._editorRange()}return this._variable._selectionNode},_editorRange:function(){const e=this.getSelection();if(!e)return null;let t=null;t=e.rangeCount>0?e.getRangeAt(0):this._createDefaultRange(),a.isFormatElement(t.endContainer)&&0===t.endOffset&&(t=this.setRange(t.startContainer,t.startOffset,t.startContainer,t.startContainer.length)),this._rangeInfo(t,e)},_rangeInfo:function(e,t){let i=null;this._variable._range=e,i=e.collapsed?a.isWysiwygDiv(e.commonAncestorContainer)&&e.commonAncestorContainer.children[e.startOffset]||e.commonAncestorContainer:t.extentNode||t.anchorNode,this._variable._selectionNode=i},_createDefaultRange:function(){const t=e.element.wysiwyg;t.focus();const i=this._wd.createRange();let n=t.firstElementChild;return n||(n=a.createElement(s.defaultTag),n.innerHTML="<br>",t.appendChild(n)),i.setStart(n,0),i.setEnd(n,0),i},_selectionVoid:function(e){const t=e.commonAncestorContainer;return a.isWysiwygDiv(e.startContainer)&&a.isWysiwygDiv(e.endContainer)||/FIGURE/i.test(t.nodeName)||this._fileManager.regExp.test(t.nodeName)||a.isMediaComponent(t)},_resetRangeToTextNode:function(){const t=this.getRange();if(this._selectionVoid(t))return!1;let i,n,o,l=t.startContainer,r=t.startOffset,c=t.endContainer,h=t.endOffset;if(a.isFormatElement(l))for(l.childNodes[r]?(l=l.childNodes[r]||l,r=0):(l=l.lastChild||l,r=l.textContent.length);l&&1===l.nodeType&&l.firstChild;)l=l.firstChild||l,r=0;if(a.isFormatElement(c)){for(c=c.childNodes[h]||c.lastChild||c;c&&1===c.nodeType&&c.lastChild;)c=c.lastChild;h=c.textContent.length}if(i=a.isWysiwygDiv(l)?e.element.wysiwyg.firstChild:l,n=r,a.isBreak(i)||1===i.nodeType&&i.childNodes.length>0){const e=a.isBreak(i);if(!e){for(;i&&!a.isBreak(i)&&1===i.nodeType;)i=i.childNodes[n]||i.nextElementSibling||i.nextSibling,n=0;let e=a.getFormatElement(i,null);e===a.getRangeFormatElement(e,null)&&(e=a.createElement(a.getParentElement(i,a.isCell)?"DIV":s.defaultTag),i.parentNode.insertBefore(e,i),e.appendChild(i))}if(a.isBreak(i)){const t=a.createTextNode(a.zeroWidthSpace);i.parentNode.insertBefore(t,i),i=t,e&&l===c&&(c=i,h=1)}}if(l=i,r=n,i=a.isWysiwygDiv(c)?e.element.wysiwyg.lastChild:c,n=h,a.isBreak(i)||1===i.nodeType&&i.childNodes.length>0){const e=a.isBreak(i);if(!e){for(;i&&!a.isBreak(i)&&1===i.nodeType&&(o=i.childNodes,0!==o.length);)i=o[n>0?n-1:n]||!/FIGURE/i.test(o[0].nodeName)?o[0]:i.previousElementSibling||i.previousSibling||l,n=n>0?i.textContent.length:n;let e=a.getFormatElement(i,null);e===a.getRangeFormatElement(e,null)&&(e=a.createElement(a.isCell(e)?"DIV":s.defaultTag),i.parentNode.insertBefore(e,i),e.appendChild(i))}if(a.isBreak(i)){const t=a.createTextNode(a.zeroWidthSpace);i.parentNode.insertBefore(t,i),i=t,n=1,e&&!i.previousSibling&&a.removeItem(c)}}return c=i,h=n,this.setRange(l,r,c,h),!0},getSelectedElements:function(t){if(!this._resetRangeToTextNode())return[];let i=this.getRange();if(a.isWysiwygDiv(i.startContainer)){const t=e.element.wysiwyg.children;if(0===t.length)return[];this.setRange(t[0],0,t[t.length-1],t[t.length-1].textContent.trim().length),i=this.getRange()}const n=i.startContainer,s=i.endContainer,o=i.commonAncestorContainer,l=a.getListChildren(o,(function(e){return t?t(e):a.isFormatElement(e)}));if(a.isWysiwygDiv(o)||a.isRangeFormatElement(o)||l.unshift(a.getFormatElement(o,null)),n===s||1===l.length)return l;let r=a.getFormatElement(n,null),c=a.getFormatElement(s,null),h=null,u=null;const d=function(e){return!a.isTable(e)||/^TABLE$/i.test(e.nodeName)};let p=a.getRangeFormatElement(r,d),g=a.getRangeFormatElement(c,d);a.isTable(p)&&a.isListCell(p.parentNode)&&(p=p.parentNode),a.isTable(g)&&a.isListCell(g.parentNode)&&(g=g.parentNode);const f=p===g;for(let e,t=0,i=l.length;t<i;t++)if(e=l[t],r===e||!f&&e===p)h=t;else if(c===e||!f&&e===g){u=t;break}return null===h&&(h=0),null===u&&(u=l.length-1),l.slice(h,u+1)},getSelectedElementsAndComponents:function(e){const t=this.getRange().commonAncestorContainer,i=a.getParentElement(t,a.isComponent),n=a.isTable(t)?this.getSelectedElements(null):this.getSelectedElements(function(e){const t=this.getParentElement(e,this.isComponent);return this.isFormatElement(e)&&(!t||t===i)||this.isComponent(e)&&!this.getFormatElement(e)}.bind(a));if(e)for(let e=0,t=n.length;e<t;e++)for(let i=e-1;i>=0;i--)if(n[i].contains(n[e])){n.splice(e,1),e--,t--;break}return n},isEdgePoint:function(e,t,i){return"end"!==i&&0===t||(!i||"front"!==i)&&!e.nodeValue&&1===t||(!i||"end"===i)&&!!e.nodeValue&&t===e.nodeValue.length},_isEdgeFormat:function(e,t,i){if(!this.isEdgePoint(e,t,i))return!1;const n=[];for(i="front"===i?"previousSibling":"nextSibling";e&&!a.isFormatElement(e)&&!a.isWysiwygDiv(e);){if(e[i]&&(!a.isBreak(e[i])||e[i][i]))return null;1===e.nodeType&&n.push(e.cloneNode(!1)),e=e.parentNode}return n},showLoading:function(){e.element.loading.style.display="block"},closeLoading:function(){e.element.loading.style.display="none"},appendFormatTag:function(e,t){if(!e||!e.parentNode)return null;const i=a.getFormatElement(this.getSelectionNode(),null);let n=null;if(a.isFreeFormatElement(i||e.parentNode))n=a.createElement("BR");else{const e=t?"string"==typeof t?t:t.nodeName:!a.isFormatElement(i)||a.isRangeFormatElement(i)||a.isFreeFormatElement(i)?s.defaultTag:i.nodeName;n=a.createElement(e),n.innerHTML="<br>",(t&&"string"!=typeof t||!t&&a.isFormatElement(i))&&a.copyTagAttributes(n,t||i)}return a.isCell(e)?e.insertBefore(n,e.nextElementSibling):e.parentNode.insertBefore(n,e.nextElementSibling),n},insertComponent:function(e,t,i,n){if(this.isReadOnly||i&&!this.checkCharCount(e,null))return null;const s=this.removeNode();this.getRange_addLine(this.getRange(),s.container);let o=null,l=this.getSelectionNode(),r=a.getFormatElement(l,null);if(a.isListCell(r))this.insertNode(e,l===r?null:s.container.nextSibling,!1),e.nextSibling||e.parentNode.appendChild(a.createElement("BR"));else{if(this.getRange().collapsed&&(3===s.container.nodeType||a.isBreak(s.container))){const e=a.getParentElement(s.container,function(e){return this.isRangeFormatElement(e)}.bind(a));o=a.splitElement(s.container,s.offset,e?a.getElementDepth(e)+1:0),o&&(r=o.previousSibling)}this.insertNode(e,a.isRangeFormatElement(r)?null:r,!1),r&&a.onlyZeroWidthSpace(r)&&a.removeItem(r)}if(!n){this.setRange(e,0,e,0);const t=this.getFileComponent(e);t?this.selectComponent(t.target,t.pluginName):o&&(o=a.getEdgeChildNodes(o,null).sc||o,this.setRange(o,0,o,0))}return t||this.history.push(1),o||e},getFileComponent:function(e){if(!this._fileManager.queryString||!e)return null;let t,i;return(/^FIGURE$/i.test(e.nodeName)||/se-component/.test(e.className))&&(t=e.querySelector(this._fileManager.queryString)),!t&&e.nodeName&&this._fileManager.regExp.test(e.nodeName)&&(t=e),t&&(i=this._fileManager.pluginMap[t.nodeName.toLowerCase()],i)?{target:t,component:a.getParentElement(t,a.isComponent),pluginName:i}:null},selectComponent:function(e,t){if(a.isUneditableComponent(a.getParentElement(e,a.isComponent))||a.isUneditableComponent(e))return!1;this.hasFocus||this.focus();const i=this.plugins[t];i&&r.setTimeout(function(){"function"==typeof i.select&&this.callPlugin(t,i.select.bind(this,e),null),this._setComponentLineBreaker(e)}.bind(this))},_setComponentLineBreaker:function(t){this._lineBreaker.style.display="none";const i=a.getParentElement(t,a.isComponent),n=e.element.lineBreaker_t.style,s=e.element.lineBreaker_b.style,o="block"===this.context.resizing.resizeContainer.style.display?this.context.resizing.resizeContainer:t,l=a.isListCell(i.parentNode);let r,c,h;(l?i.previousSibling:a.isFormatElement(i.previousElementSibling))?n.display="none":(this._variable._lineBreakComp=i,c=e.element.wysiwyg.scrollTop,r=a.getOffset(t,e.element.wysiwygFrame).top+c,h=o.offsetWidth/2/2,n.top=r-c-12+"px",n.left=a.getOffset(o).left+h+"px",n.display="block"),(l?i.nextSibling:a.isFormatElement(i.nextElementSibling))?s.display="none":(r||(this._variable._lineBreakComp=i,c=e.element.wysiwyg.scrollTop,r=a.getOffset(t,e.element.wysiwygFrame).top+c,h=o.offsetWidth/2/2),s.top=r+o.offsetHeight-c-12+"px",s.left=a.getOffset(o).left+o.offsetWidth-h-24+"px",s.display="block")},insertNode:function(t,i,n){if(this.isReadOnly||n&&!this.checkCharCount(t,null))return null;const o=a.getFreeFormatElement(this.getSelectionNode(),null),l=!o&&(a.isFormatElement(t)||a.isRangeFormatElement(t))||a.isComponent(t);if(!i&&(l||a.isComponent(t)||a.isMedia(t))){const e=this.removeNode();if(3===e.container.nodeType||a.isBreak(e.container)){const t=a.getParentElement(e.container,function(e){return this.isRangeFormatElement(e)||this.isListCell(e)}.bind(a));(i=a.splitElement(e.container,e.offset,t?a.getElementDepth(t)+1:0))&&(i=i.previousSibling)}}const r=i||l?this.getRange():this.getRange_addLine(this.getRange(),null),c=r.commonAncestorContainer,h=r.startOffset,u=r.endOffset,d=r.startContainer===c&&a.isFormatElement(c),p=d&&(c.childNodes[h]||c.childNodes[0])||r.startContainer,g=d&&(c.childNodes[u]||c.childNodes[c.childNodes.length-1])||r.endContainer;let f,m=null;if(i)f=i.parentNode,i=i.nextSibling,m=!0;else if(f=p,3===p.nodeType&&(f=p.parentNode),r.collapsed)if(3===c.nodeType)i=c.textContent.length>u?c.splitText(u):c.nextSibling;else if(a.isBreak(f))i=f,f=f.parentNode;else{let e=f.childNodes[h];const n=e&&3===e.nodeType&&a.onlyZeroWidthSpace(e)&&a.isBreak(e.nextSibling)?e.nextSibling:e;n?n.nextSibling?i=a.isBreak(n)&&!a.isBreak(t)?n:n.nextSibling:(f.removeChild(n),i=null):i=null}else if(p===g){i=this.isEdgePoint(g,u)?g.nextSibling:g.splitText(u);let e=p;this.isEdgePoint(p,h)||(e=p.splitText(h)),f.removeChild(e),0===f.childNodes.length&&l&&(f.innerHTML="<br>")}else{const e=this.removeNode(),t=e.container,n=e.prevContainer;if(t&&0===t.childNodes.length&&l&&(a.isFormatElement(t)?t.innerHTML="<br>":a.isRangeFormatElement(t)&&(t.innerHTML="<"+s.defaultTag+"><br></"+s.defaultTag+">")),!l&&n)if(f=3===n.nodeType?n.parentNode:n,f.contains(t)){let e=!0;for(i=t;i.parentNode!==f;)i=i.parentNode,e=!1;e&&t===n&&(i=i.nextSibling)}else i=null;else f=(i=l?g:t===n?t.nextSibling:t)&&i.parentNode?i.parentNode:c;for(;i&&!a.isFormatElement(i)&&i.parentNode!==c;)i=i.parentNode}try{if((a.isWysiwygDiv(i)||f===e.element.wysiwyg.parentNode)&&(f=e.element.wysiwyg,i=null),a.isFormatElement(t)||a.isRangeFormatElement(t)||!a.isListCell(f)&&a.isComponent(t)){const e=f;if(a.isList(i))f=i,i=null;else if(a.isListCell(i))f=i.previousElementSibling||i;else if(!m&&!i){const e=this.removeNode(),t=3===e.container.nodeType?a.isListCell(a.getFormatElement(e.container,null))?e.container:a.getFormatElement(e.container,null)||e.container.parentNode:e.container,n=a.isWysiwygDiv(t)||a.isRangeFormatElement(t);f=n?t:t.parentNode,i=n?null:t.nextSibling}0===e.childNodes.length&&f!==e&&a.removeItem(e)}if(!l||o||a.isRangeFormatElement(f)||a.isListCell(f)||a.isWysiwygDiv(f)||(i=f.nextElementSibling,f=f.parentNode),a.isWysiwygDiv(f)&&(3===t.nodeType||a.isBreak(t))){const e=a.createElement(s.defaultTag);e.appendChild(t),t=e}f.insertBefore(t,f===i?f.lastChild:i)}catch(e){f.appendChild(t)}finally{if((a.isFormatElement(t)||a.isComponent(t))&&p===g){const e=a.getFormatElement(c,null);e&&1===e.nodeType&&a.isEmptyLine(e)&&a.removeItem(e)}if(o&&(a.isFormatElement(t)||a.isRangeFormatElement(t))&&(t=this._setIntoFreeFormat(t)),!a.isComponent(t)){let e=1;if(3===t.nodeType){const e=t.previousSibling,i=t.nextSibling,n=!e||1===e.nodeType||a.onlyZeroWidthSpace(e)?"":e.textContent,s=!i||1===i.nodeType||a.onlyZeroWidthSpace(i)?"":i.textContent;e&&n.length>0&&(t.textContent=n+t.textContent,a.removeItem(e)),i&&i.length>0&&(t.textContent+=s,a.removeItem(i));const o={container:t,startOffset:n.length,endOffset:t.textContent.length-s.length};return this.setRange(t,o.startOffset,t,o.endOffset),o}if(!a.isBreak(t)&&a.isFormatElement(f)){let i=null;t.previousSibling&&!a.isBreak(t.previousSibling)||(i=a.createTextNode(a.zeroWidthSpace),t.parentNode.insertBefore(i,t)),t.nextSibling&&!a.isBreak(t.nextSibling)||(i=a.createTextNode(a.zeroWidthSpace),t.parentNode.insertBefore(i,t.nextSibling)),a._isIgnoreNodeChange(t)&&(t=t.nextSibling,e=0)}this.setRange(t,e,t,e)}return this.history.push(!0),t}},_setIntoFreeFormat:function(e){const t=e.parentNode;let i,n;for(;a.isFormatElement(e)||a.isRangeFormatElement(e);){for(i=e.childNodes,n=null;i[0];)if(n=i[0],a.isFormatElement(n)||a.isRangeFormatElement(n)){if(this._setIntoFreeFormat(n),!e.parentNode)break;i=e.childNodes}else t.insertBefore(n,e);0===e.childNodes.length&&a.removeItem(e),e=a.createElement("BR"),t.insertBefore(e,n.nextSibling)}return e},removeNode:function(){this._resetRangeToTextNode();const t=this.getRange();let i,n=0,s=t.startContainer,o=t.endContainer,l=t.startOffset,r=t.endOffset;const c=3===t.commonAncestorContainer.nodeType&&t.commonAncestorContainer.parentNode===s.parentNode?s.parentNode:t.commonAncestorContainer;c===s&&c===o&&(s=c.children[l],o=c.children[r],l=r=0);let h=null,u=null;const d=a.getListChildNodes(c,null);let p=a.getArrayIndex(d,s),g=a.getArrayIndex(d,o);if(d.length>0&&p>-1&&g>-1){for(let e=p+1,t=s;e>=0;e--)d[e]===t.parentNode&&d[e].firstChild===t&&0===l&&(p=e,t=t.parentNode);for(let e=g-1,t=o;e>p;e--)d[e]===t.parentNode&&1===d[e].nodeType&&(d.splice(e,1),t=t.parentNode,--g)}else{if(0===d.length){if(a.isFormatElement(c)||a.isRangeFormatElement(c)||a.isWysiwygDiv(c)||a.isBreak(c)||a.isMedia(c))return{container:c,offset:0};if(3===c.nodeType)return{container:c,offset:r};d.push(c),s=o=c}else if(s=o=d[0],a.isBreak(s)||a.onlyZeroWidthSpace(s))return{container:a.isMedia(c)?c:s,offset:0};p=g=0}function f(e){const t=a.getFormatElement(e,null);if(a.removeItem(e),a.isListCell(t)){const e=a.getArrayItem(t.children,a.isList,!1);if(e){const i=e.firstElementChild,n=i.childNodes;for(;n[0];)t.insertBefore(n[0],e);a.removeItemAllParents(i,null,null)}}}for(let e=p;e<=g;e++){const t=d[e];if(0===t.length||3===t.nodeType&&void 0===t.data)f(t);else if(t!==s)if(t!==o)f(t);else{if(1===o.nodeType){if(a.isComponent(o))continue;u=a.createTextNode(o.textContent)}else u=a.createTextNode(o.substringData(r,o.length-r));u.length>0?o.data=u.data:f(o)}else{if(1===s.nodeType){if(a.isComponent(s))continue;h=a.createTextNode(s.textContent)}else t===o?(h=a.createTextNode(s.substringData(0,l)+o.substringData(r,o.length-r)),n=l):h=a.createTextNode(s.substringData(0,l));if(h.length>0?s.data=h.data:f(s),t===o)break}}if(i=o&&o.parentNode?o:s&&s.parentNode?s:t.endContainer||t.startContainer,!a.isWysiwygDiv(i)&&0===i.childNodes.length){const t=a.removeItemAllParents(i,function(e){if(this.isComponent(e))return!1;const t=e.textContent;return 0===t.length||/^(\n|\u200B)+$/.test(t)}.bind(a),null);t&&(i=t.sc||t.ec||e.element.wysiwyg)}return this.setRange(i,n,i,n),this.history.push(!0),{container:i,offset:n,prevContainer:s&&s.parentNode?s:null}},applyRangeFormatElement:function(e){this.getRange_addLine(this.getRange(),null);const t=this.getSelectedElementsAndComponents(!1);if(!t||0===t.length)return;e:for(let e,i,n,s,o,l,r=0,c=t.length;r<c;r++)if(e=t[r],a.isListCell(e)&&(i=e.lastElementChild,i&&a.isListCell(e.nextElementSibling)&&t.indexOf(e.nextElementSibling)>-1&&(s=i.lastElementChild,t.indexOf(s)>-1))){let e=null;for(;e=s.lastElementChild;)if(a.isList(e)){if(!(t.indexOf(e.lastElementChild)>-1))continue e;s=e.lastElementChild}n=i.firstElementChild,o=t.indexOf(n),l=t.indexOf(s),t.splice(o,l-o+1),c=t.length}let i,n,s,o=t[t.length-1];i=a.isRangeFormatElement(o)||a.isFormatElement(o)?o:a.getRangeFormatElement(o,null)||a.getFormatElement(o,null),a.isCell(i)?(n=null,s=i):(n=i.nextSibling,s=i.parentNode);let l=a.getElementDepth(i),r=null;const c=[],h=function(e,t,i){let n=null;if(e!==t&&!a.isTable(t)){if(t&&a.getElementDepth(e)===a.getElementDepth(t))return i;n=a.removeItemAllParents(t,null,e)}return n?n.ec:i};for(let i,o,u,d,p,g,f,m=0,_=t.length;m<_;m++)if(i=t[m],o=i.parentNode,o&&!e.contains(o))if(u=a.getElementDepth(i),a.isList(o)){if(null===r&&(g?(r=g,f=!0,g=null):r=o.cloneNode(!1)),c.push(i),p=t[m+1],m===_-1||p&&p.parentNode!==o){p&&i.contains(p.parentNode)&&(g=p.parentNode.cloneNode(!1));let t,m=o.parentNode;for(;a.isList(m);)t=a.createElement(m.nodeName),t.appendChild(r),r=t,m=m.parentNode;const _=this.detachRangeFormatElement(o,c,null,!0,!0);l>=u?(l=u,s=_.cc,n=h(s,o,_.ec),n&&(s=n.parentNode)):s===_.cc&&(n=_.ec),s!==_.cc&&(d=h(s,_.cc,d),n=void 0!==d?d:_.cc);for(let e=0,t=_.removeArray.length;e<t;e++)r.appendChild(_.removeArray[e]);f||e.appendChild(r),g&&_.removeArray[_.removeArray.length-1].appendChild(g),r=null,f=!1}}else l>=u&&(l=u,s=o,n=i.nextSibling),e.appendChild(i),s!==o&&(d=h(s,o),void 0!==d&&(n=d));if(this.effectNode=null,a.mergeSameTags(e,null,!1),a.mergeNestedTags(e,function(e){return this.isList(e)}.bind(a)),n&&a.getElementDepth(n)>0&&(a.isList(n.parentNode)||a.isList(n.parentNode.parentNode))){const t=a.getParentElement(n,function(e){return this.isRangeFormatElement(e)&&!this.isList(e)}.bind(a)),i=a.splitElement(n,null,t?a.getElementDepth(t)+1:0);i.parentNode.insertBefore(e,i)}else s.insertBefore(e,n),h(e,n);const u=a.getEdgeChildNodes(e.firstElementChild,e.lastElementChild);t.length>1?this.setRange(u.sc,0,u.ec,u.ec.textContent.length):this.setRange(u.ec,u.ec.textContent.length,u.ec,u.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(e,t,i,n,o){const l=this.getRange(),r=l.startOffset,c=l.endOffset;let h=a.getListChildNodes(e,(function(t){return t.parentNode===e})),u=e.parentNode,d=null,p=null,g=e.cloneNode(!1);const f=[],m=a.isList(i);let _=!1,v=!1,y=!1;function b(t,i,n,s){if(a.onlyZeroWidthSpace(i)&&(i.innerHTML=a.zeroWidthSpace),3===i.nodeType)return t.insertBefore(i,n),i;const o=(y?i:s).childNodes;let l=i.cloneNode(!1),r=null,c=null;for(;o[0];)c=o[0],!a._notTextNode(c)||a.isBreak(c)||a.isListCell(l)?l.appendChild(c):(l.childNodes.length>0&&(r||(r=l),t.insertBefore(l,n),l=i.cloneNode(!1)),t.insertBefore(c,n),r||(r=c));if(l.childNodes.length>0){if(a.isListCell(t)&&a.isListCell(l)&&a.isList(n))if(m){for(r=n;n;)l.appendChild(n),n=n.nextSibling;t.parentNode.insertBefore(l,t.nextElementSibling)}else{const t=s.nextElementSibling,i=a.detachNestedList(s,!1);if(e!==i||t!==s.nextElementSibling){const t=l.childNodes;for(;t[0];)s.appendChild(t[0]);e=i,v=!0}}else t.insertBefore(l,n);r||(r=l)}return r}for(let o,l,r,c=0,w=h.length;c<w;c++)if(o=h[c],3!==o.nodeType||!a.isList(g))if(y=!1,n&&0===c&&(d=t&&t.length!==w&&t[0]!==o?g:e.previousSibling),t&&(l=t.indexOf(o)),t&&-1===l)g||(g=e.cloneNode(!1)),g.appendChild(o);else{if(t&&(r=t[l+1]),g&&g.children.length>0&&(u.insertBefore(g,e),g=null),!m&&a.isListCell(o))if(r&&a.getElementDepth(o)!==a.getElementDepth(r)&&(a.isListCell(u)||a.getArrayItem(o.children,a.isList,!1))){const t=o.nextElementSibling,i=a.detachNestedList(o,!1);e===i&&t===o.nextElementSibling||(e=i,v=!0)}else{const t=o;o=a.createElement(n?t.nodeName:a.isList(e.parentNode)||a.isListCell(e.parentNode)?"LI":a.isCell(e.parentNode)?"DIV":s.defaultTag);const i=a.isListCell(o),l=t.childNodes;for(;l[0]&&(!a.isList(l[0])||i);)o.appendChild(l[0]);a.copyFormatAttributes(o,t),y=!0}else o=o.cloneNode(!1);if(!v&&(n?(f.push(o),a.removeItem(h[c])):(i?(_||(u.insertBefore(i,e),_=!0),o=b(i,o,null,h[c])):o=b(u,o,e,h[c]),v||(t?(p=o,d||(d=o)):d||(d=p=o))),v)){v=y=!1,h=a.getListChildNodes(e,(function(t){return t.parentNode===e})),g=e.cloneNode(!1),u=e.parentNode,c=-1,w=h.length;continue}}const w=e.parentNode;let x=e.nextSibling;g&&g.children.length>0&&w.insertBefore(g,x),i?d=i.previousSibling:d||(d=e.previousSibling),x=e.nextSibling!==g?e.nextSibling:g?g.nextSibling:null,0===e.children.length||0===e.textContent.length?a.removeItem(e):a.removeEmptyNode(e,null);let C=null;if(n)C={cc:w,sc:d,ec:x,removeArray:f};else{d||(d=p),p||(p=d);const e=a.getEdgeChildNodes(d,p.parentNode?d:p);C={cc:(e.sc||e.ec).parentNode,sc:e.sc,ec:e.ec}}if(this.effectNode=null,o)return C;!n&&C&&(t?this.setRange(C.sc,r,C.ec,c):this.setRange(C.sc,0,C.sc,0)),this.history.push(!1)},detachList:function(e,t){let i={},n=!1,s=!1,o=null,l=null;const r=function(e){return!this.isComponent(e)}.bind(a);for(let c,h,u,d,p=0,g=e.length;p<g;p++){if(u=p===g-1,h=a.getRangeFormatElement(e[p],r),d=a.isList(h),!c&&d)c=h,i={r:c,f:[a.getParentElement(e[p],"LI")]},0===p&&(n=!0);else if(c&&d)if(c!==h){const r=this.detachRangeFormatElement(i.f[0].parentNode,i.f,null,t,!0);h=e[p].parentNode,n&&(o=r.sc,n=!1),u&&(l=r.ec),d?(c=h,i={r:c,f:[a.getParentElement(e[p],"LI")]},u&&(s=!0)):c=null}else i.f.push(a.getParentElement(e[p],"LI")),u&&(s=!0);if(u&&a.isList(c)){const e=this.detachRangeFormatElement(i.f[0].parentNode,i.f,null,t,!0);(s||1===g)&&(l=e.ec),n&&(o=e.sc||l)}}return{sc:o,ec:l}},nodeChange:function(e,t,i,n){this._resetRangeToTextNode();let s=this.getRange_addLine(this.getRange(),null);t=!!(t&&t.length>0)&&t,i=!!(i&&i.length>0)&&i;const o=!e,l=o&&!i&&!t;let c=s.startContainer,h=s.startOffset,u=s.endContainer,d=s.endOffset;if(l&&s.collapsed&&a.isFormatElement(c.parentNode)&&a.isFormatElement(u.parentNode)||c===u&&1===c.nodeType&&a.isNonEditable(c))return;if(s.collapsed&&!l&&1===c.nodeType&&!a.isBreak(c)&&!a.isComponent(c)){let e=null;const t=c.childNodes[h];t&&(e=t.nextSibling?a.isBreak(t)?t:t.nextSibling:null);const i=a.createTextNode(a.zeroWidthSpace);c.insertBefore(i,e),this.setRange(i,1,i,1),s=this.getRange(),c=s.startContainer,h=s.startOffset,u=s.endContainer,d=s.endOffset}a.isFormatElement(c)&&(c=c.childNodes[h]||c.firstChild,h=0),a.isFormatElement(u)&&(u=u.childNodes[d]||u.lastChild,d=u.textContent.length),o&&(e=a.createElement("DIV"));const p=r.RegExp,g=e.nodeName;if(!l&&c===u&&!i&&e){let t=c,i=0;const n=[],s=e.style;for(let e=0,t=s.length;e<t;e++)n.push(s[e]);const l=e.classList;for(let e=0,t=l.length;e<t;e++)n.push("."+l[e]);if(n.length>0){for(;!a.isFormatElement(t)&&!a.isWysiwygDiv(t);){for(let s=0;s<n.length;s++)if(1===t.nodeType){const l=n[s],r=!!/^\./.test(l)&&new p("\\s*"+l.replace(/^\./,"")+"(\\s+|$)","ig"),a=o?!!t.style[l]:!!t.style[l]&&!!e.style[l]&&t.style[l]===e.style[l],c=!1!==r&&(o?!!t.className.match(r):!!t.className.match(r)&&!!e.className.match(r));(a||c)&&i++}t=t.parentNode}if(i>=n.length)return}}let f,m={},_={},v="",y="",b="";if(t){for(let e,i=0,n=t.length;i<n;i++)e=t[i],/^\./.test(e)?y+=(y?"|":"\\s*(?:")+e.replace(/^\./,""):v+=(v?"|":"(?:;|^|\\s)(?:")+e;v&&(v+=")\\s*:[^;]*\\s*(?:;|$)",v=new p(v,"ig")),y&&(y+=")(?=\\s+|$)",y=new p(y,"ig"))}if(i){b="^(?:"+i[0];for(let e=1;e<i.length;e++)b+="|"+i[e];b+=")$",b=new p(b,"i")}const w=r.Boolean,x={v:!1},C=function(e){const t=e.cloneNode(!1);if(3===t.nodeType||a.isBreak(t))return t;if(l)return null;const i=!b&&o||b&&b.test(t.nodeName);if(i&&!n)return x.v=!0,null;const s=t.style.cssText;let r="";v&&s.length>0&&(r=s.replace(v,"").trim(),r!==s&&(x.v=!0));const c=t.className;let h="";return y&&c.length>0&&(h=c.replace(y,"").trim(),h!==c&&(x.v=!0)),(!o||!y&&c||!v&&s||r||h||!i)&&(r||h||t.nodeName!==g||w(v)!==w(s)||w(y)!==w(c))?(v&&s.length>0&&(t.style.cssText=r),t.style.cssText||t.removeAttribute("style"),y&&c.length>0&&(t.className=h.trim()),t.className.trim()||t.removeAttribute("class"),t.style.cssText||t.className||t.nodeName!==g&&!i?t:(x.v=!0,null)):(x.v=!0,null)},T=this.getSelectedElements(null);s=this.getRange(),c=s.startContainer,h=s.startOffset,u=s.endContainer,d=s.endOffset,a.getFormatElement(c,null)||(c=a.getChildElement(T[0],(function(e){return 3===e.nodeType}),!1),h=0),a.getFormatElement(u,null)||(u=a.getChildElement(T[T.length-1],(function(e){return 3===e.nodeType}),!1),d=u.textContent.length);const S=a.getFormatElement(c,null)===a.getFormatElement(u,null),E=T.length-(S?0:1);f=e.cloneNode(!1);const k=l||o&&function(e){for(let t=0,i=e.length;t<i;t++)if(a._isMaintainedNode(e[t])||a._isSizeNode(e[t]))return!0;return!1}(i),N=o||a._isSizeNode(f),L=this._util_getMaintainedNode.bind(a,k,N),A=this._util_isMaintainedNode.bind(a,k,N);if(S){const e=this._nodeChange_oneLine(T[0],f,C,c,h,u,d,l,o,s.collapsed,x,L,A);m.container=e.startContainer,m.offset=e.startOffset,_.container=e.endContainer,_.offset=e.endOffset,m.container===_.container&&a.onlyZeroWidthSpace(m.container)&&(m.offset=_.offset=1),this._setCommonListStyle(e.ancestor,null)}else{E>0&&(f=e.cloneNode(!1),_=this._nodeChange_endLine(T[E],f,C,u,d,l,o,x,L,A));for(let t,i=E-1;i>0;i--)f=e.cloneNode(!1),t=this._nodeChange_middleLine(T[i],f,C,l,o,x,_.container),t.endContainer&&t.ancestor.contains(t.endContainer)&&(_.ancestor=null,_.container=t.endContainer),this._setCommonListStyle(t.ancestor,null);f=e.cloneNode(!1),m=this._nodeChange_startLine(T[0],f,C,c,h,l,o,x,L,A,_.container),m.endContainer&&(_.ancestor=null,_.container=m.endContainer),E<=0?_=m:_.container||(_.ancestor=null,_.container=m.container,_.offset=m.container.textContent.length),this._setCommonListStyle(m.ancestor,null),this._setCommonListStyle(_.ancestor||a.getFormatElement(_.container),null)}this.controllersOff(),this.setRange(m.container,m.offset,_.container,_.offset),this.history.push(!1)},_setCommonListStyle:function(e,t){if(!a.isListCell(e))return;t||e.removeAttribute("style");const i=a.getArrayItem((t||e).childNodes,(function(e){return!a.isBreak(e)}),!0);if(i[0]&&1===i.length){if(!(t=i[0])||1!==t.nodeType)return;const n=t.style,o=e.style;s._textTagsMap[t.nodeName.toLowerCase()]===this._defaultCommand.bold.toLowerCase()?o.fontWeight="bold":n.fontWeight&&(o.fontWeight=n.fontWeight),s._textTagsMap[t.nodeName.toLowerCase()]===this._defaultCommand.italic.toLowerCase()?o.fontStyle="italic":n.fontStyle&&(o.fontStyle=n.fontStyle),n.color&&(o.color=n.color),n.fontSize&&(o.fontSize=n.fontSize),this._setCommonListStyle(e,t)}},_stripRemoveNode:function(e){const t=e.parentNode;if(!e||3===e.nodeType||!t)return;const i=e.childNodes;for(;i[0];)t.insertBefore(i[0],e);t.removeChild(e)},_util_getMaintainedNode:function(e,t,i){return!i||e?null:this.getParentElement(i,this._isMaintainedNode.bind(this))||(t?null:this.getParentElement(i,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(e,t,i){if(!i||e||1!==i.nodeType)return!1;const n=this._isMaintainedNode(i);return this.getParentElement(i,this._isMaintainedNode.bind(this))?n:n||!t&&this._isSizeNode(i)},_nodeChange_oneLine:function(e,t,i,n,s,o,l,c,h,u,d,p,g){let f=n.parentNode;for(;!(f.nextSibling||f.previousSibling||a.isFormatElement(f.parentNode)||a.isWysiwygDiv(f.parentNode))&&f.nodeName!==t.nodeName;)f=f.parentNode;if(!h&&f===o.parentNode&&f.nodeName===t.nodeName&&a.onlyZeroWidthSpace(n.textContent.slice(0,s))&&a.onlyZeroWidthSpace(o.textContent.slice(l))){const e=f.childNodes;let i=!0;for(let t,s,l,r,c=0,h=e.length;c<h;c++)if(t=e[c],r=!a.onlyZeroWidthSpace(t),t!==n)if(t!==o){if(!s&&r||s&&l&&r){i=!1;break}}else l=!0;else s=!0;if(i)return a.copyTagAttributes(f,t),{startContainer:n,startOffset:s,endContainer:o,endOffset:l}}d.v=!1;const m=e,_=[t],v=e.cloneNode(!1),y=n===o;let b,w,x,C,T,S=n,E=s,k=o,N=l,L=!1,A=!1;const z=r.RegExp;function M(e){const t=new z("(?:;|^|\\s)(?:"+C+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let i="";return t&&e.style.cssText.length>0&&(i=t.test(e.style.cssText)),!i}if(function e(n,s){const o=n.childNodes;for(let n,l=0,r=o.length;l<r;l++){let r=o[l];if(!r)continue;let h,d=s;if(!L&&r===S){let e=v;T=p(r);const o=a.createTextNode(1===S.nodeType?"":S.substringData(0,E)),l=a.createTextNode(1===S.nodeType?"":S.substringData(E,y&&N>=E?N-E:S.data.length-E));if(T){const t=p(s);if(t&&t.parentNode!==e){let i=t,n=null;for(;i.parentNode!==e;){for(s=n=i.parentNode.cloneNode(!1);i.childNodes[0];)n.appendChild(i.childNodes[0]);i.appendChild(n),i=i.parentNode}i.parentNode.appendChild(t)}T=T.cloneNode(!1)}a.onlyZeroWidthSpace(o)||s.appendChild(o);const c=p(s);for(c&&(T=c),T&&(e=T),w=r,b=[],C="";w!==e&&w!==m&&null!==w;)n=g(w)?null:i(w),n&&1===w.nodeType&&M(w)&&(b.push(n),C+=w.style.cssText.substr(0,w.style.cssText.indexOf(":"))+"|"),w=w.parentNode;const h=b.pop()||l;for(x=w=h;b.length>0;)w=b.pop(),x.appendChild(w),x=w;if(t.appendChild(h),e.appendChild(t),T&&!p(k)&&(t=t.cloneNode(!1),v.appendChild(t),_.push(t)),S=l,E=0,L=!0,w!==l&&w.appendChild(S),!y)continue}if(A||r!==k){if(L){if(1===r.nodeType&&!a.isBreak(r)){a._isIgnoreNodeChange(r)?(v.appendChild(r.cloneNode(!0)),u||(t=t.cloneNode(!1),v.appendChild(t),_.push(t))):e(r,r);continue}w=r,b=[],C="";const o=[];for(;null!==w.parentNode&&w!==m&&w!==t;)n=A?w.cloneNode(!1):i(w),1===w.nodeType&&!a.isBreak(r)&&n&&M(w)&&(g(w)?T||o.push(n):b.push(n),C+=w.style.cssText.substr(0,w.style.cssText.indexOf(":"))+"|"),w=w.parentNode;b=b.concat(o);const l=b.pop()||r;for(x=w=l;b.length>0;)w=b.pop(),x.appendChild(w),x=w;if(!g(t.parentNode)||g(l)||a.onlyZeroWidthSpace(t)||(t=t.cloneNode(!1),v.appendChild(t),_.push(t)),A||T||!g(l))l===r?s=A?v:t:A?(v.appendChild(l),s=w):(t.appendChild(l),s=w);else{t=t.cloneNode(!1);const e=l.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);l.appendChild(t),v.appendChild(l),_.push(t),s=t.children.length>0?w:t}if(T&&3===r.nodeType)if(p(r)){const e=a.getParentElement(s,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===v}.bind(a));T.appendChild(e),t=e.cloneNode(!1),_.push(t),v.appendChild(t)}else T=null}h=r.cloneNode(!1),s.appendChild(h),1!==r.nodeType||a.isBreak(r)||(d=h),e(r,d)}else{T=p(r);const e=a.createTextNode(1===k.nodeType?"":k.substringData(N,k.length-N)),s=a.createTextNode(y||1===k.nodeType?"":k.substringData(0,N));if(T?T=T.cloneNode(!1):g(t.parentNode)&&!T&&(t=t.cloneNode(!1),v.appendChild(t),_.push(t)),!a.onlyZeroWidthSpace(e)){w=r,C="",b=[];const t=[];for(;w!==v&&w!==m&&null!==w;)1===w.nodeType&&M(w)&&(g(w)?t.push(w.cloneNode(!1)):b.push(w.cloneNode(!1)),C+=w.style.cssText.substr(0,w.style.cssText.indexOf(":"))+"|"),w=w.parentNode;for(b=b.concat(t),h=x=w=b.pop()||e;b.length>0;)w=b.pop(),x.appendChild(w),x=w;v.appendChild(h),w.textContent=e.data}if(T&&h){const e=p(h);e&&(T=e)}for(w=r,b=[],C="";w!==v&&w!==m&&null!==w;)n=g(w)?null:i(w),n&&1===w.nodeType&&M(w)&&(b.push(n),C+=w.style.cssText.substr(0,w.style.cssText.indexOf(":"))+"|"),w=w.parentNode;const o=b.pop()||s;for(x=w=o;b.length>0;)w=b.pop(),x.appendChild(w),x=w;T?((t=t.cloneNode(!1)).appendChild(o),T.insertBefore(t,T.firstChild),v.appendChild(T),_.push(t),T=null):t.appendChild(o),k=s,N=s.data.length,A=!0,!c&&u&&(t=s,s.textContent=a.zeroWidthSpace),w!==s&&w.appendChild(k)}}}(e,v),h&&!c&&!d.v)return{ancestor:e,startContainer:n,startOffset:s,endContainer:o,endOffset:l};if(c=c&&h)for(let e=0;e<_.length;e++){let t,i,n,s=_[e];if(u)t=a.createTextNode(a.zeroWidthSpace),v.replaceChild(t,s);else{const e=s.childNodes;for(i=e[0];e[0];)n=e[0],v.insertBefore(n,s);a.removeItem(s)}0===e&&(u?S=k=t:(S=i,k=n))}else{if(h)for(let e=0;e<_.length;e++)this._stripRemoveNode(_[e]);u&&(S=k=t)}a.removeEmptyNode(v,t),u&&(E=S.textContent.length,N=k.textContent.length);const B=c||0===k.textContent.length;a.isBreak(k)||0!==k.textContent.length||(a.removeItem(k),k=S),N=B?k.textContent.length:N;const O={s:0,e:0},R=a.getNodePath(S,v,O),I=!k.parentNode;I&&(k=S);const D={s:0,e:0},P=a.getNodePath(k,v,I||B?null:D);E+=O.s,N=u?E:I?S.textContent.length:B?N+O.s:N+D.s;const H=a.mergeSameTags(v,[R,P],!0);return e.parentNode.replaceChild(v,e),S=a.getNodeFromPath(R,v),k=a.getNodeFromPath(P,v),{ancestor:v,startContainer:S,startOffset:E+H[0],endContainer:k,endOffset:N+H[1]}},_nodeChange_startLine:function(e,t,i,n,s,o,l,r,c,h,u){let d=n.parentNode;for(;!(d.nextSibling||d.previousSibling||a.isFormatElement(d.parentNode)||a.isWysiwygDiv(d.parentNode))&&d.nodeName!==t.nodeName;)d=d.parentNode;if(!l&&d.nodeName===t.nodeName&&!a.isFormatElement(d)&&!d.nextSibling&&a.onlyZeroWidthSpace(n.textContent.slice(0,s))){let i=!0,o=n.previousSibling;for(;o;){if(!a.onlyZeroWidthSpace(o)){i=!1;break}o=o.previousSibling}if(i)return a.copyTagAttributes(d,t),{ancestor:e,container:n,offset:s}}r.v=!1;const p=e,g=[t],f=e.cloneNode(!1);let m,_,v,y,b=n,w=s,x=!1;if(function e(n,s){const o=n.childNodes;for(let n,l,r=0,d=o.length;r<d;r++){const d=o[r];if(!d)continue;let C=s;if(x&&!a.isBreak(d)){if(1===d.nodeType){if(a._isIgnoreNodeChange(d)){if(t=t.cloneNode(!1),l=d.cloneNode(!0),f.appendChild(l),f.appendChild(t),g.push(t),u&&d.contains(u)){const e=a.getNodePath(u,d);u=a.getNodeFromPath(e,l)}}else e(d,d);continue}_=d,m=[];const o=[];for(;null!==_.parentNode&&_!==p&&_!==t;)n=i(_),1===_.nodeType&&n&&(h(_)?y||o.push(n):m.push(n)),_=_.parentNode;m=m.concat(o);const r=m.length>0,b=m.pop()||d;for(v=_=b;m.length>0;)_=m.pop(),v.appendChild(_),v=_;if(h(t.parentNode)&&!h(b)&&(t=t.cloneNode(!1),f.appendChild(t),g.push(t)),!y&&h(b)){t=t.cloneNode(!1);const e=b.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);b.appendChild(t),f.appendChild(b),s=h(_)?t:_,g.push(t)}else r?(t.appendChild(b),s=_):s=t;if(y&&3===d.nodeType)if(c(d)){const e=a.getParentElement(s,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===f}.bind(a));y.appendChild(e),t=e.cloneNode(!1),g.push(t),f.appendChild(t)}else y=null}if(x||d!==b)n=x?i(d):d.cloneNode(!1),n&&(s.appendChild(n),1!==d.nodeType||a.isBreak(d)||(C=n)),e(d,C);else{let e=f;y=c(d);const o=a.createTextNode(1===b.nodeType?"":b.substringData(0,w)),l=a.createTextNode(1===b.nodeType?"":b.substringData(w,b.length-w));if(y){const t=c(s);if(t&&t.parentNode!==e){let i=t,n=null;for(;i.parentNode!==e;){for(s=n=i.parentNode.cloneNode(!1);i.childNodes[0];)n.appendChild(i.childNodes[0]);i.appendChild(n),i=i.parentNode}i.parentNode.appendChild(t)}y=y.cloneNode(!1)}a.onlyZeroWidthSpace(o)||s.appendChild(o);const r=c(s);for(r&&(y=r),y&&(e=y),_=s,m=[];_!==e&&null!==_;)n=i(_),1===_.nodeType&&n&&m.push(n),_=_.parentNode;const h=m.pop()||s;for(v=_=h;m.length>0;)_=m.pop(),v.appendChild(_),v=_;h!==s?(t.appendChild(h),s=_):s=t,a.isBreak(d)&&t.appendChild(d.cloneNode(!1)),e.appendChild(t),b=l,w=0,x=!0,s.appendChild(b)}}}(e,f),l&&!o&&!r.v)return{ancestor:e,container:n,offset:s,endContainer:u};if(o=o&&l)for(let e=0;e<g.length;e++){let t=g[e];const i=t.childNodes,n=i[0];for(;i[0];)f.insertBefore(i[0],t);a.removeItem(t),0===e&&(b=n)}else if(l){t=t.firstChild;for(let e=0;e<g.length;e++)this._stripRemoveNode(g[e])}if(o||0!==f.childNodes.length){a.removeEmptyNode(f,t),a.onlyZeroWidthSpace(f.textContent)&&(b=f.firstChild,w=0);const i={s:0,e:0},n=a.getNodePath(b,f,i);w+=i.s;const s=a.mergeSameTags(f,[n],!0);e.parentNode.replaceChild(f,e),b=a.getNodeFromPath(n,f),w+=s[0]}else e.childNodes?b=e.childNodes[0]:(b=a.createTextNode(a.zeroWidthSpace),e.appendChild(b));return{ancestor:f,container:b,offset:w,endContainer:u}},_nodeChange_middleLine:function(e,t,i,n,s,o,l){if(!s){let i=null;l&&e.contains(l)&&(i=a.getNodePath(l,e));const n=e.cloneNode(!0),s=t.nodeName,o=t.style.cssText,r=t.className;let c,h=n.childNodes,u=0,d=h.length;for(;u<d&&(c=h[u],3!==c.nodeType);u++){if(c.nodeName!==s){if(!a.isBreak(c)&&a._isIgnoreNodeChange(c))continue;if(1===d){h=c.childNodes,d=h.length,u=-1;continue}break}c.style.cssText+=o,a.addClass(c,r)}if(d>0&&u===d)return e.innerHTML=n.innerHTML,{ancestor:e,endContainer:i?a.getNodeFromPath(i,e):null}}o.v=!1;const r=e.cloneNode(!1),c=[t];let h=!0;if(function e(n,s){const o=n.childNodes;for(let n,u,d=0,p=o.length;d<p;d++){let p=o[d];if(!p)continue;let g=s;if(a.isBreak(p)||!a._isIgnoreNodeChange(p))n=i(p),n&&(h=!1,s.appendChild(n),1===p.nodeType&&(g=n)),a.isBreak(p)||e(p,g);else if(t.childNodes.length>0&&(r.appendChild(t),t=t.cloneNode(!1)),u=p.cloneNode(!0),r.appendChild(u),r.appendChild(t),c.push(t),s=t,l&&p.contains(l)){const e=a.getNodePath(l,p);l=a.getNodeFromPath(e,u)}}}(e,t),h||s&&!n&&!o.v)return{ancestor:e,endContainer:l};if(r.appendChild(t),n&&s)for(let e=0;e<c.length;e++){let t=c[e];const i=t.childNodes;for(;i[0];)r.insertBefore(i[0],t);a.removeItem(t)}else if(s){t=t.firstChild;for(let e=0;e<c.length;e++)this._stripRemoveNode(c[e])}return a.removeEmptyNode(r,t),a.mergeSameTags(r,null,!0),e.parentNode.replaceChild(r,e),{ancestor:r,endContainer:l}},_nodeChange_endLine:function(e,t,i,n,s,o,l,r,c,h){let u=n.parentNode;for(;!(u.nextSibling||u.previousSibling||a.isFormatElement(u.parentNode)||a.isWysiwygDiv(u.parentNode))&&u.nodeName!==t.nodeName;)u=u.parentNode;if(!l&&u.nodeName===t.nodeName&&!a.isFormatElement(u)&&!u.previousSibling&&a.onlyZeroWidthSpace(n.textContent.slice(s))){let i=!0,o=n.nextSibling;for(;o;){if(!a.onlyZeroWidthSpace(o)){i=!1;break}o=o.nextSibling}if(i)return a.copyTagAttributes(u,t),{ancestor:e,container:n,offset:s}}r.v=!1;const d=e,p=[t],g=e.cloneNode(!1);let f,m,_,v,y=n,b=s,w=!1;if(function e(n,s){const o=n.childNodes;for(let n,l=o.length-1;0<=l;l--){const r=o[l];if(!r)continue;let u=s;if(w&&!a.isBreak(r)){if(1===r.nodeType){if(a._isIgnoreNodeChange(r)){t=t.cloneNode(!1);const e=r.cloneNode(!0);g.insertBefore(e,s),g.insertBefore(t,e),p.push(t)}else e(r,r);continue}m=r,f=[];const o=[];for(;null!==m.parentNode&&m!==d&&m!==t;)n=i(m),n&&1===m.nodeType&&(h(m)?v||o.push(n):f.push(n)),m=m.parentNode;f=f.concat(o);const l=f.length>0,u=f.pop()||r;for(_=m=u;f.length>0;)m=f.pop(),_.appendChild(m),_=m;if(h(t.parentNode)&&!h(u)&&(t=t.cloneNode(!1),g.insertBefore(t,g.firstChild),p.push(t)),!v&&h(u)){t=t.cloneNode(!1);const e=u.childNodes;for(let i=0,n=e.length;i<n;i++)t.appendChild(e[i]);u.appendChild(t),g.insertBefore(u,g.firstChild),p.push(t),s=t.children.length>0?m:t}else l?(t.insertBefore(u,t.firstChild),s=m):s=t;if(v&&3===r.nodeType)if(c(r)){const e=a.getParentElement(s,function(e){return this._isMaintainedNode(e.parentNode)||e.parentNode===g}.bind(a));v.appendChild(e),t=e.cloneNode(!1),p.push(t),g.insertBefore(t,g.firstChild)}else v=null}if(w||r!==y)n=w?i(r):r.cloneNode(!1),n&&(s.insertBefore(n,s.firstChild),1!==r.nodeType||a.isBreak(r)||(u=n)),e(r,u);else{v=c(r);const e=a.createTextNode(1===y.nodeType?"":y.substringData(b,y.length-b)),o=a.createTextNode(1===y.nodeType?"":y.substringData(0,b));if(v){v=v.cloneNode(!1);const e=c(s);if(e&&e.parentNode!==g){let t=e,i=null;for(;t.parentNode!==g;){for(s=i=t.parentNode.cloneNode(!1);t.childNodes[0];)i.appendChild(t.childNodes[0]);t.appendChild(i),t=t.parentNode}t.parentNode.insertBefore(e,t.parentNode.firstChild)}v=v.cloneNode(!1)}else h(t.parentNode)&&!v&&(t=t.cloneNode(!1),g.appendChild(t),p.push(t));for(a.onlyZeroWidthSpace(e)||s.insertBefore(e,s.firstChild),m=s,f=[];m!==g&&null!==m;)n=h(m)?null:i(m),n&&1===m.nodeType&&f.push(n),m=m.parentNode;const l=f.pop()||s;for(_=m=l;f.length>0;)m=f.pop(),_.appendChild(m),_=m;l!==s?(t.insertBefore(l,t.firstChild),s=m):s=t,a.isBreak(r)&&t.appendChild(r.cloneNode(!1)),v?(v.insertBefore(t,v.firstChild),g.insertBefore(v,g.firstChild),v=null):g.insertBefore(t,g.firstChild),y=o,b=o.data.length,w=!0,s.insertBefore(y,s.firstChild)}}}(e,g),l&&!o&&!r.v)return{ancestor:e,container:n,offset:s};if(o=o&&l)for(let e=0;e<p.length;e++){let t=p[e];const i=t.childNodes;let n=null;for(;i[0];)n=i[0],g.insertBefore(n,t);a.removeItem(t),e===p.length-1&&(y=n,b=n.textContent.length)}else if(l){t=t.firstChild;for(let e=0;e<p.length;e++)this._stripRemoveNode(p[e])}if(o||0!==g.childNodes.length){if(!l&&0===t.textContent.length)return a.removeEmptyNode(g,null),{ancestor:null,container:null,offset:0};a.removeEmptyNode(g,t),a.onlyZeroWidthSpace(g.textContent)?(y=g.firstChild,b=y.textContent.length):a.onlyZeroWidthSpace(y)&&(y=t,b=1);const i={s:0,e:0},n=a.getNodePath(y,g,i);b+=i.s;const s=a.mergeSameTags(g,[n],!0);e.parentNode.replaceChild(g,e),y=a.getNodeFromPath(n,g),b+=s[0]}else e.childNodes?y=e.childNodes[0]:(y=a.createTextNode(a.zeroWidthSpace),e.appendChild(y));return{ancestor:g,container:y,offset:1===y.nodeType&&1===b?y.childNodes.length:b}},actionCall:function(t,i,n){if(i){if(/more/i.test(i)){if(n!==this._moreLayerActiveButton){const i=e.element.toolbar.querySelector("."+t);i&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=n,i.style.display="block",u._showToolbarBalloon(),u._showToolbarInline()),a.addClass(n,"on")}else e.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),u._showToolbarBalloon(),u._showToolbarInline());return}if(/container/.test(i)&&(null===this._menuTray[t]||n!==this.containerActiveButton))return void this.callPlugin(t,this.containerOn.bind(this,n),n);if(this.isReadOnly&&a.arrayIncludes(this.resizingDisabledButtons,n))return;if(/submenu/.test(i)&&(null===this._menuTray[t]||n!==this.submenuActiveButton))return void this.callPlugin(t,this.submenuOn.bind(this,n),n);if(/dialog/.test(i))return void this.callPlugin(t,this.plugins[t].open.bind(this),n);/command/.test(i)?this.callPlugin(t,this.plugins[t].action.bind(this),n):/fileBrowser/.test(i)&&this.callPlugin(t,this.plugins[t].open.bind(this,null),n)}else t&&this.commandHandler(n,t);/submenu/.test(i)?this.submenuOff():/command/.test(i)||(this.submenuOff(),this.containerOff())},commandHandler:function(t,i){if(!h.isReadOnly||/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(i))switch(i){case"copy":case"cut":this.execCommand(i);break;case"paste":break;case"selectAll":this.containerOff();const n=e.element.wysiwyg;let o=a.getChildElement(n.firstChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!1)||n.firstChild,l=a.getChildElement(n.lastChild,(function(e){return 0===e.childNodes.length||3===e.nodeType}),!0)||n.lastChild;if(!o||!l)return;if(a.isMedia(o)){const e=this.getFileComponent(o),t=a.createElement("BR"),i=a.createElement(s.defaultTag);i.appendChild(t),o=e?e.component:o,o.parentNode.insertBefore(i,o),o=t}if(a.isMedia(l)){const e=a.createElement("BR"),t=a.createElement(s.defaultTag);t.appendChild(e),n.appendChild(t),l=e}this.setRange(o,0,l,l.textContent.length);break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(t);break;case"indent":case"outdent":this.indent(i);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(s.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if("function"==typeof s.callBackSave)s.callBackSave(this.getContents(!1),this._variable.isChanged);else{if(!this._variable.isChanged||"function"!=typeof d.save)throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");d.save()}this._variable.isChanged=!1,e.tool.save&&e.tool.save.setAttribute("disabled",!0);break;default:i=this._defaultCommand[i.toLowerCase()]||i,this.commandMap[i]||(this.commandMap[i]=t);const r=this._variable.currentNodesMap,c=r.indexOf(i)>-1?null:a.createElement(i);let h=i;/^SUB$/i.test(i)&&r.indexOf("SUP")>-1?h="SUP":/^SUP$/i.test(i)&&r.indexOf("SUB")>-1&&(h="SUB"),this.nodeChange(c,this._commandMapStyles[i]||null,[h],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(e){const t=this.getRange(),i=this.getSelectedElements(null),n=[],o="indent"!==e,l=s.rtl?"marginRight":"marginLeft";let r=t.startContainer,c=t.endContainer,h=t.startOffset,u=t.endOffset;for(let e,t,s=0,r=i.length;s<r;s++)e=i[s],a.isListCell(e)&&this.plugins.list?(o||e.previousElementSibling)&&n.push(e):(t=/\d+/.test(e.style[l])?a.getNumber(e.style[l],0):0,o?t-=25:t+=25,a.setStyle(e,l,t<=0?"":t+"px"));n.length>0&&this.plugins.list.editInsideList.call(this,o,n),this.effectNode=null,this.setRange(r,h,c,u),this.history.push(!1)},toggleDisplayBlocks:function(){const t=e.element.wysiwyg;a.toggleClass(t,"se-show-block"),a.hasClass(t,"se-show-block")?a.addClass(this._styleCommandMap.showBlocks,"active"):a.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const t=this._variable.isCodeView;this.controllersOff(),a.setDisabledButtons(!t,this.codeViewDisabledButtons),t?(a.isNonEditable(e.element.wysiwygFrame)||this._setCodeDataToEditor(),e.element.wysiwygFrame.scrollTop=0,e.element.code.style.display="none",e.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),"auto"!==s.height||s.codeMirrorEditor||(e.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(s.mode)&&(e.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,u._hideToolbar())),this.nativeFocus(),a.removeClass(this._styleCommandMap.codeView,"active"),a.isNonEditable(e.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?e.element.code.style.height="100%":"auto"!==s.height||s.codeMirrorEditor||(e.element.code.style.height=e.element.code.scrollHeight>0?e.element.code.scrollHeight+"px":"auto"),s.codeMirrorEditor&&s.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(e.element._arrow.style.display="none",e.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,u._showToolbarInline())),this._variable._range=null,e.element.code.focus(),a.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&a.setDisabledButtons(!0,this.resizingDisabledButtons),"function"==typeof d.toggleCodeView&&d.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const t=this._getCodeView();if(s.fullPage){const e=this._parser.parseFromString(t,"text/html"),i=e.head.children;for(let t=0,n=i.length;t<n;t++)/^script$/i.test(i[t].tagName)&&(e.head.removeChild(i[t]),t--,n--);let n=e.head.innerHTML;e.head.querySelector('link[rel="stylesheet"]')&&("auto"!==this.options.height||e.head.querySelector("style"))||(n+=a._setIframeCssTags(this.options)),this._wd.head.innerHTML=n,this._wd.body.innerHTML=this.convertContentsForEditor(e.body.innerHTML);const o=e.body.attributes;for(let e=0,t=o.length;e<t;e++)"contenteditable"!==o[e].name&&this._wd.body.setAttribute(o[e].name,o[e].value);if(!a.hasClass(this._wd.body,"sun-editor-editable")){const e=s._editableClass.split(" ");for(let t=0;t<e.length;t++)a.addClass(this._wd.body,s._editableClass[t])}}else e.element.wysiwyg.innerHTML=t.length>0?this.convertContentsForEditor(t):"<"+s.defaultTag+"><br></"+s.defaultTag+">"},_setEditorDataToCodeView:function(){const t=this.convertHTMLForCodeView(e.element.wysiwyg,!1);let i="";if(s.fullPage){const e=a.getAttributesToString(this._wd.body,null);i="<!DOCTYPE html>\n<html>\n"+this._wd.head.outerHTML.replace(/>(?!\n)/g,">\n")+"<body "+e+">\n"+t+"</body>\n</html>"}else i=t;e.element.code.style.display="block",e.element.wysiwygFrame.style.display="none",this._setCodeView(i)},toggleFullScreen:function(t){const i=e.element.topArea,n=e.element.toolbar,o=e.element.editorArea,h=e.element.wysiwygFrame,p=e.element.code,g=this._variable;this.controllersOff();const f="none"===n.style.display||this._isInline&&!this._inlineToolbarAttr.isShow;g.isFullScreen?(g.isFullScreen=!1,h.style.cssText=g._wysiwygOriginCssText,p.style.cssText=g._codeOriginCssText,n.style.cssText="",o.style.cssText=g._editorAreaOriginCssText,i.style.cssText=g._originCssText,l.body.style.overflow=g._bodyOverflow,"auto"!==s.height||s.codeMirrorEditor||u._codeViewAutoHeight(),s.toolbarContainer&&s.toolbarContainer.appendChild(n),s.stickyToolbar>-1&&a.removeClass(n,"se-toolbar-sticky"),g._fullScreenAttrs.sticky&&!s.toolbarContainer&&(g._fullScreenAttrs.sticky=!1,e.element._stickyDummy.style.display="block",a.addClass(n,"se-toolbar-sticky")),this._isInline=g._fullScreenAttrs.inline,this._isBalloon=g._fullScreenAttrs.balloon,this._isInline&&u._showToolbarInline(),s.toolbarContainer&&a.removeClass(n,"se-toolbar-balloon"),u.onScroll_window(),t&&a.changeElement(t.firstElementChild,c.expansion),e.element.topArea.style.marginTop="",a.removeClass(this._styleCommandMap.fullScreen,"active")):(g.isFullScreen=!0,g._fullScreenAttrs.inline=this._isInline,g._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),s.toolbarContainer&&e.element.relative.insertBefore(n,o),i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.maxWidth="100%",i.style.height="100%",i.style.zIndex="2147483647",""!==e.element._stickyDummy.style.display&&(g._fullScreenAttrs.sticky=!0,e.element._stickyDummy.style.display="none",a.removeClass(n,"se-toolbar-sticky")),g._bodyOverflow=l.body.style.overflow,l.body.style.overflow="hidden",g._editorAreaOriginCssText=o.style.cssText,g._wysiwygOriginCssText=h.style.cssText,g._codeOriginCssText=p.style.cssText,o.style.cssText=n.style.cssText="",h.style.cssText=(h.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],p.style.cssText=(p.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],n.style.width=h.style.height=p.style.height="100%",n.style.position="relative",n.style.display="block",g.innerHeight_fullScreen=r.innerHeight-n.offsetHeight,o.style.height=g.innerHeight_fullScreen-s.fullScreenOffset+"px",t&&a.changeElement(t.firstElementChild,c.reduction),s.iframe&&"auto"===s.height&&(o.style.overflow="auto",this._iframeAutoHeight()),e.element.topArea.style.marginTop=s.fullScreenOffset+"px",a.addClass(this._styleCommandMap.fullScreen,"active")),f&&d.toolbar.hide(),"function"==typeof d.toggleFullScreen&&d.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const e=a.createElement("IFRAME");e.style.display="none",l.body.appendChild(e);const t=s.printTemplate?s.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),i=a.getIframeDocument(e),n=this._wd;if(s.iframe){const e=null!==s._printClass?'class="'+s._printClass+'"':s.fullPage?a.getAttributesToString(n.body,["contenteditable"]):'class="'+s._editableClass+'"';i.write("<!DOCTYPE html><html><head>"+n.head.innerHTML+"</head><body "+e+">"+t+"</body></html>")}else{const e=l.head.getElementsByTagName("link"),n=l.head.getElementsByTagName("style");let o="";for(let t=0,i=e.length;t<i;t++)o+=e[t].outerHTML;for(let e=0,t=n.length;e<t;e++)o+=n[e].outerHTML;i.write("<!DOCTYPE html><html><head>"+o+'</head><body class="'+(null!==s._printClass?s._printClass:s._editableClass)+'">'+t+"</body></html>")}this.showLoading(),r.setTimeout((function(){try{if(e.focus(),a.isIE_Edge||l.documentMode||r.StyleMedia)try{e.contentWindow.document.execCommand("print",!1,null)}catch(t){e.contentWindow.print()}else e.contentWindow.print()}catch(e){throw Error("[SUNEDITOR.core.print.fail] error: "+e)}finally{h.closeLoading(),a.removeItem(e)}}),1e3)},preview:function(){h.submenuOff(),h.containerOff(),h.controllersOff();const e=s.previewTemplate?s.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),t=r.open("","_blank");t.mimeType="text/html";const i=this._wd;if(s.iframe){const n=null!==s._printClass?'class="'+s._printClass+'"':s.fullPage?a.getAttributesToString(i.body,["contenteditable"]):'class="'+s._editableClass+'"';t.document.write("<!DOCTYPE html><html><head>"+i.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+n+">"+e+"</body></html>")}else{const i=l.head.getElementsByTagName("link"),o=l.head.getElementsByTagName("style");let r="";for(let e=0,t=i.length;e<t;e++)r+=i[e].outerHTML;for(let e=0,t=o.length;e<t;e++)r+=o[e].outerHTML;t.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1"><title>'+n.toolbar.preview+"</title>"+r+'</head><body class="'+(null!==s._printClass?s._printClass:s._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+e+"</body></html>")}},setDir:function(t){const i="rtl"===t,o=this._prevRtl!==i;this._prevRtl=s.rtl=i,o&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),e.tool.indent&&a.changeElement(e.tool.indent.firstElementChild,c.indent),e.tool.outdent&&a.changeElement(e.tool.outdent.firstElementChild,c.outdent));const l=e.element;i?(a.addClass(l.topArea,"se-rtl"),a.addClass(l.wysiwygFrame,"se-rtl")):(a.removeClass(l.topArea,"se-rtl"),a.removeClass(l.wysiwygFrame,"se-rtl"));const r=a.getListChildren(l.wysiwyg,(function(e){return a.isFormatElement(e)&&(e.style.marginRight||e.style.marginLeft||e.style.textAlign)}));for(let e,t,i,n=0,s=r.length;n<s;n++)e=r[n],i=e.style.marginRight,t=e.style.marginLeft,(i||t)&&(e.style.marginRight=t,e.style.marginLeft=i),i=e.style.textAlign,"left"===i?e.style.textAlign="right":"right"===i&&(e.style.textAlign="left");const h=e.tool;h.dir&&(a.changeTxt(h.dir.querySelector(".se-tooltip-text"),n.toolbar[s.rtl?"dir_ltr":"dir_rtl"]),a.changeElement(h.dir.firstElementChild,c[s.rtl?"dir_ltr":"dir_rtl"])),h.dir_ltr&&(i?a.removeClass(h.dir_ltr,"active"):a.addClass(h.dir_ltr,"active")),h.dir_rtl&&(i?a.addClass(h.dir_rtl,"active"):a.removeClass(h.dir_rtl,"active"))},setContents:function(t){this.removeRange();const i=null==t?"":this.convertContentsForEditor(t);if(this._resetComponents(),this._variable.isCodeView){const e=this.convertHTMLForCodeView(i,!1);this._setCodeView(e)}else e.element.wysiwyg.innerHTML=i,this.history.push(!1)},setIframeContents:function(e){if(!s.iframe)return!1;e.head&&(this._wd.head.innerHTML=e.head.replace(/<script[\s\S]*>[\s\S]*<\/script>/gi,"")),e.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(e.body))},getContents:function(t){const i=this.convertHTMLForCodeView(e.element.wysiwyg,!0),n=a.createElement("DIV");n.innerHTML=i;const o=a.getListChildren(n,(function(e){return/FIGCAPTION/i.test(e.nodeName)}));for(let e=0,t=o.length;e<t;e++)o[e].removeAttribute("contenteditable");if(s.fullPage&&!t){const e=a.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+e+">"+n.innerHTML+"</body></html>"}return n.innerHTML},_makeLine:function(e,t){const i=s.defaultTag;if(1===e.nodeType)return a._disallowedTags(e)?"":!t||a.isFormatElement(e)||a.isRangeFormatElement(e)||a.isComponent(e)||a.isMedia(e)||a.isAnchor(e)&&a.isMedia(e.firstElementChild)?e.outerHTML:"<"+i+">"+e.outerHTML+"</"+i+">";if(3===e.nodeType){if(!t)return a._HTMLConvertor(e.textContent);const n=e.textContent.split(/\n/g);let s="";for(let e,t=0,o=n.length;t<o;t++)e=n[t].trim(),e.length>0&&(s+="<"+i+">"+a._HTMLConvertor(e)+"</"+i+">");return s}return 8===e.nodeType&&this._allowHTMLComments?"\x3c!--"+e.textContent.trim()+"--\x3e":""},_tagConvertor:function(e){if(!this._disallowedTextTagsRegExp)return e;const t=s._textTagsMap;return e.replace(this._disallowedTextTagsRegExp,(function(e,i,n,s){return i+("string"==typeof t[n]?t[n]:n)+(s?" "+s:"")}))},_deleteDisallowedTags:function(e){return e.replace(/\n/g,"").replace(/<(script|style)[\s\S]*>[\s\S]*<\/(script|style)>/gi,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,"").replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_cleanTags:function(e,t,i){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(t))return t;let n=null;const s=i.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),o=this._attributesTagsBlacklist[s];t=o?t.replace(o,""):t.replace(this._attributesBlacklistRegExp,"");const l=this._attributesTagsWhitelist[s];if(n=l?t.match(l):t.match(this._attributesWhitelistRegExp),!e||/<a\b/i.test(i)){const e=t.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);e&&(n||(n=[]),n.push(e[0]))}if((!e||/<span/i.test(i))&&(!n||!/style=/i.test(n.toString()))){const e=t.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);e&&(n||(n=[]),n.push(e[0]))}if(/<img/i.test(i)){let e="",i="";const s=t.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);if(n||(n=[]),s&&(e=s[0].match(/width:(.+);/),e=a.getNumber(e?e[1]:"",-1)||"",i=s[0].match(/height:(.+);/),i=a.getNumber(i?i[1]:"",-1)||""),!e||!i){const n=t.match(/width\s*=\s*((?:"|')[^"']*(?:"|'))/),s=t.match(/height\s*=\s*((?:"|')[^"']*(?:"|'))/);(n||s)&&(e=e||a.getNumber(n?n[1]:"")||"",i=i||a.getNumber(s?s[1]:"")||"")}n.push('data-origin="'+e+","+i+'"')}if(n)for(let t=0,s=n.length;t<s;t++)e&&/^class="(?!(__se__|se-|katex))/.test(n[t])||(i+=" "+(/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(n[t])?"":n[t]));return i},cleanHTML:function(e,t,i){e=this._deleteDisallowedTags(this._parser.parseFromString(e,"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));const n=l.createRange().createContextualFragment(e);try{a._consistencyCheckOfHTML(n,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,!0)}catch(e){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+e)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const e=n.querySelectorAll(this.managedTagsInfo.query);for(let t,i,n=0,s=e.length;n<s;n++){i=[].slice.call(e[n].classList);for(let s=0,o=i.length;s<o;s++)if(t=this.managedTagsInfo.map[i[s]],t){t(e[n]);break}}}const s=n.childNodes;let o="",r=!1;for(let e,t=0,i=s.length;t<i;t++)if(e=s[t],1===e.nodeType&&!a.isTextStyleElement(e)&&!a.isBreak(e)&&!a._disallowedTags(e)){r=!0;break}for(let e=0,t=s.length;e<t;e++)o+=this._makeLine(s[e],r);return o=a.htmlRemoveWhiteSpace(o),o?(t&&(o=o.replace("string"==typeof t?a.createTagsWhitelist(t):t,"")),i&&(o=o.replace("string"==typeof i?a.createTagsBlacklist(i):i,""))):o=e,this._tagConvertor(o)},convertContentsForEditor:function(e){e=this._deleteDisallowedTags(this._parser.parseFromString(e,"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!1));const t=l.createRange().createContextualFragment(e);try{a._consistencyCheckOfHTML(t,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,!1)}catch(e){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+e)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const e=t.querySelectorAll(this.managedTagsInfo.query);for(let t,i,n=0,s=e.length;n<s;n++){i=[].slice.call(e[n].classList);for(let s=0,o=i.length;s<o;s++)if(t=this.managedTagsInfo.map[i[s]],t){t(e[n]);break}}}const i=t.childNodes;let n="";for(let e,t,o=0;o<i.length;o++){if(e=i[o],!a.isFormatElement(e)&&!a.isComponent(e)&&!a.isMedia(e)){if(t||(t=a.createElement(s.defaultTag)),t.appendChild(e),o--,i[o+1]&&!a.isFormatElement(i[o+1]))continue;e=t,t=null}n+=this._makeLine(e,!0)}return 0===n.length?"<"+s.defaultTag+"><br></"+s.defaultTag+">":(n=a.htmlRemoveWhiteSpace(n),this._tagConvertor(n))},convertHTMLForCodeView:function(e,t){let i="";const n=r.RegExp,s=new n("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),o="string"==typeof e?l.createRange().createContextualFragment(e):e,c=function(e){return this.isFormatElement(e)||this.isComponent(e)}.bind(a),h=t?"":"\n";let u=t?0:1*this._variable.codeIndent;return u=u>0?new r.Array(u+1).join(" "):"",function e(t,o){const l=t.childNodes,d=s.test(t.nodeName),p=d?o:"";for(let g,f,m,_,v,y,b=0,w=l.length;b<w;b++)g=l[b],_=s.test(g.nodeName),f=_?h:"",m=!c(g)||d||/^(TH|TD)$/i.test(t.nodeName)?"":h,8!==g.nodeType?3!==g.nodeType?0!==g.childNodes.length?g.outerHTML?(v=g.nodeName.toLowerCase(),y=p||_?o:"",i+=(m||(d?"":f))+y+g.outerHTML.match(n("<"+v+"[^>]*>","i"))[0]+f,e(g,o+u),i+=(/\n$/.test(i)?y:"")+"</"+v+">"+(m||f||d||/^(TH|TD)$/i.test(g.nodeName)?h:"")):i+=(new r.XMLSerializer).serializeToString(g):i+=(/^HR$/i.test(g.nodeName)?h:"")+(/^PRE$/i.test(g.parentElement.nodeName)&&/^BR$/i.test(g.nodeName)?"":p)+g.outerHTML+f:a.isList(g.parentElement)||(i+=a._HTMLConvertor(/^\n+$/.test(g.data)?"":g.data)):i+="\n\x3c!-- "+g.textContent.trim()+" --\x3e"+f}(o,""),i.trim()+h},addDocEvent:function(e,t,i){l.addEventListener(e,t,i),s.iframe&&this._wd.addEventListener(e,t)},removeDocEvent:function(e,t){l.removeEventListener(e,t),s.iframe&&this._wd.removeEventListener(e,t)},_charCount:function(e){const t=s.maxCharCount,i=s.charCounterType;let n=0;if(e&&(n=this.getCharLength(e,i)),this._setCharCount(),t>0){let e=!1;const s=d.getCharCount(i);if(s>t){if(e=!0,n>0){this._editorRange();const e=this.getRange(),i=e.endOffset-1,n=this.getSelectionNode().textContent,o=e.endOffset-(s-t);this.getSelectionNode().textContent=n.slice(0,o<0?0:o)+n.slice(e.endOffset,n.length),this.setRange(e.endContainer,i,e.endContainer,i)}}else s+n>t&&(e=!0);if(e&&(this._callCounterBlink(),n>0))return!1}return!0},checkCharCount:function(e,t){if(s.maxCharCount){const i=t||s.charCounterType,n=this.getCharLength("string"==typeof e?e:this._charTypeHTML&&1===e.nodeType?e.outerHTML:e.textContent,i);if(n>0&&n+d.getCharCount(i)>s.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(e,t){return/byte/.test(t)?a.getByteLength(e):e.length},_setCharCount:function(){e.element.charCounter&&r.setTimeout((function(){e.element.charCounter.textContent=d.getCharCount(s.charCounterType)}))},_callCounterBlink:function(){const t=e.element.charWrapper;t&&!a.hasClass(t,"se-blink")&&(a.addClass(t,"se-blink"),r.setTimeout((function(){a.removeClass(t,"se-blink")}),600))},_checkComponents:function(){for(let e=0,t=this._fileInfoPluginsCheck.length;e<t;e++)this._fileInfoPluginsCheck[e]()},_resetComponents:function(){for(let e=0,t=this._fileInfoPluginsReset.length;e<t;e++)this._fileInfoPluginsReset[e]()},_setCodeView:function(t){s.codeMirrorEditor?s.codeMirrorEditor.getDoc().setValue(t):e.element.code.value=t},_getCodeView:function(){return s.codeMirrorEditor?s.codeMirrorEditor.getDoc().getValue():e.element.code.value},_setKeyEffect:function(e){const t=this.commandMap,n=this.activePlugins;for(let s in t)e.indexOf(s)>-1||!a.hasOwn(t,s)||(n.indexOf(s)>-1?i[s].active.call(this,null):t.OUTDENT&&/^OUTDENT$/i.test(s)?a.isImportantDisabled(t.OUTDENT)||t.OUTDENT.setAttribute("disabled",!0):t.INDENT&&/^INDENT$/i.test(s)?a.isImportantDisabled(t.INDENT)||t.INDENT.removeAttribute("disabled"):a.removeClass(t[s],"active"))},_init:function(n,o){const c=r.RegExp;if(this._ww=s.iframe?e.element.wysiwygFrame.contentWindow:r,this._wd=l,this._charTypeHTML="byte-html"===s.charCounterType,this.wwComputedStyle=r.getComputedStyle(e.element.wysiwyg),!s.iframe&&"function"==typeof r.ShadowRoot){let t=e.element.wysiwygFrame;for(;t;){if(t.shadowRoot){this._shadowRoot=t.shadowRoot;break}if(t instanceof r.ShadowRoot){this._shadowRoot=t;break}t=t.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}const h=r.Object.keys(s._textTagsMap),u=s.addTagsWhitelist?s.addTagsWhitelist.split("|").filter((function(e){return/b|i|ins|s|strike/i.test(e)})):[];for(let e=0;e<u.length;e++)h.splice(h.indexOf(u[e].toLowerCase()),1);this._disallowedTextTagsRegExp=0===h.length?null:new c("(<\\/?)("+h.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");const d=function(e,t){return e?"*"===e?"[a-z-]+":t?e+"|"+t:e:"^"},p="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size";this._allowHTMLComments=s._editorTagsWhitelist.indexOf("//")>-1||"*"===s._editorTagsWhitelist,this._htmlCheckWhitelistRegExp=new c("^("+d(s._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new c("^("+(s.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=a.createTagsWhitelist(d(s._editorTagsWhitelist.replace("|//","|\x3c!--|--\x3e"),"")),this.editorTagsBlacklistRegExp=a.createTagsBlacklist(s.tagsBlacklist.replace("|//","|\x3c!--|--\x3e")),this.pasteTagsWhitelistRegExp=a.createTagsWhitelist(d(s.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=a.createTagsBlacklist(s.pasteTagsBlacklist);const g='\\s*=\\s*(")[^"]*\\1',f=s.attributesWhitelist;let m={},_="";if(f)for(let e in f)a.hasOwn(f,e)&&!/^on[a-z]+$/i.test(f[e])&&("all"===e?_=d(f[e],p):m[e]=new c("\\s(?:"+d(f[e],"")+")"+g,"ig"));this._attributesWhitelistRegExp=new c("\\s(?:"+(_||p)+")"+g,"ig"),this._attributesTagsWhitelist=m;const v=s.attributesBlacklist;if(m={},_="",v)for(let e in v)a.hasOwn(v,e)&&("all"===e?_=d(v[e],""):m[e]=new c("\\s(?:"+d(v[e],"")+")"+g,"ig"));this._attributesBlacklistRegExp=new c("\\s(?:"+(_||"^")+")"+g,"ig"),this._attributesTagsBlacklist=m,this._isInline=/inline/i.test(s.mode),this._isBalloon=/balloon|balloon-always/i.test(s.mode),this._isBalloonAlways=/balloon-always/i.test(s.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const y=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let b,w,x=[];for(let e in i)if(a.hasOwn(i,e)){if(b=i[e],w=t[e],b.active&&w&&this.callPlugin(e,null,w),"function"==typeof b.checkFileInfo&&"function"==typeof b.resetFileInfo&&(this.callPlugin(e,null,w),this._fileInfoPluginsCheck.push(b.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(b.resetFileInfo.bind(this))),r.Array.isArray(b.fileTags)){const t=b.fileTags;this.callPlugin(e,null,w),this._fileManager.tags=this._fileManager.tags.concat(t),x.push(e);for(let i=0,n=t.length;i<n;i++)this._fileManager.pluginMap[t[i].toLowerCase()]=e}if(b.managedTags){const e=b.managedTags();y.push("."+e.className),this.managedTagsInfo.map[e.className]=e.method.bind(this)}}this.managedTagsInfo.query=y.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new c("^("+this._fileManager.tags.join("|")+")$","i"),this._fileManager.pluginRegExp=new c("^("+(0===x.length?"undefined":x.join("|"))+")$","i"),this._variable._originCssText=e.element.topArea.style.cssText,this._placeholder=e.element.placeholder,this._lineBreaker=e.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=function(e,t){const i=e._w,n=e.util,s=e.options.historyStackDelayTime;let o=e.context.element,l=e.context.tool.undo,r=e.context.tool.redo,a=null,c=0,h=[];function u(){const i=h[c];o.wysiwyg.innerHTML=i.contents,e.setRange(n.getNodeFromPath(i.s.path,o.wysiwyg),i.s.offset,n.getNodeFromPath(i.e.path,o.wysiwyg),i.e.offset),e.focus(),h.length<=1?(l&&l.setAttribute("disabled",!0),r&&r.setAttribute("disabled",!0)):0===c?(l&&l.setAttribute("disabled",!0),r&&r.removeAttribute("disabled")):c===h.length-1?(l&&l.removeAttribute("disabled"),r&&r.setAttribute("disabled",!0)):(l&&l.removeAttribute("disabled"),r&&r.removeAttribute("disabled")),e.controllersOff(),e._checkComponents(),e._setCharCount(),e._resourcesStateChange(),t()}function d(){e._checkComponents();const i=e.getContents(!0);if(!i||h[c]&&i===h[c].contents)return;c++;const s=e._variable._range;h.length>c&&(h=h.slice(0,c),r&&r.setAttribute("disabled",!0)),h[c]=s?{contents:i,s:{path:n.getNodePath(s.startContainer,null,null),offset:s.startOffset},e:{path:n.getNodePath(s.endContainer,null,null),offset:s.endOffset}}:{contents:i,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},1===c&&l&&l.removeAttribute("disabled"),e._setCharCount(),t()}return{stack:h,push:function(t){i.setTimeout(e._resourcesStateChange.bind(e));const n="number"==typeof t?t>0?t:0:t?s:0;n&&!a||(i.clearTimeout(a),n)?a=i.setTimeout((function(){i.clearTimeout(a),a=null,d()}),n):d()},undo:function(){c>0&&(c--,u())},redo:function(){h.length-1>c&&(c++,u())},go:function(e){c=e<0?h.length-1:e,u()},getCurrentIndex:function(){return c},reset:function(i){l&&l.setAttribute("disabled",!0),r&&r.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0),h.splice(0),c=0,h[c]={contents:e.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},i||t()},_resetCachingButton:function(){o=e.context.element,l=e.context.tool.undo,r=e.context.tool.redo,0===c?(l&&l.setAttribute("disabled",!0),r&&c===h.length-1&&r.setAttribute("disabled",!0),e._variable.isChanged=!1,e.context.tool.save&&e.context.tool.save.setAttribute("disabled",!0)):c===h.length-1&&r&&r.setAttribute("disabled",!0)},_destroy:function(){a&&i.clearTimeout(a),h=null}}}(this,this._onChange_historyStack.bind(this)),this.addModule([M]),s.iframe&&(this._wd=e.element.wysiwygFrame.contentDocument,e.element.wysiwyg=this._wd.body,s._editorStyles.editor&&(e.element.wysiwyg.style.cssText=s._editorStyles.editor),"auto"===s.height&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(n,o),this.setDir(s.rtl?"rtl":"ltr")},_cachingButtons:function(){this.codeViewDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=e.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])'),this.saveButtonStates();const t=e.tool;this.commandMap={SUB:t.subscript,SUP:t.superscript,OUTDENT:t.outdent,INDENT:t.indent},this.commandMap[s.textTags.bold.toUpperCase()]=t.bold,this.commandMap[s.textTags.underline.toUpperCase()]=t.underline,this.commandMap[s.textTags.italic.toUpperCase()]=t.italic,this.commandMap[s.textTags.strike.toUpperCase()]=t.strike,this._styleCommandMap={fullScreen:t.fullScreen,showBlocks:t.showBlocks,codeView:t.codeView}},_initWysiwygArea:function(t,i){e.element.wysiwyg.innerHTML=t?i:this.convertContentsForEditor("string"==typeof i?i:e.element.originElement.value)},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&u._applyTagEffects(),this._variable.isChanged=!0,e.tool.save&&e.tool.save.removeAttribute("disabled"),d.onChange&&d.onChange(this.getContents(!0),this),"block"===e.element.toolbar.style.display&&u._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto&&r.setTimeout((function(){e.element.wysiwygFrame.style.height=h._iframeAuto.offsetHeight+"px"}))},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView)return void(this._placeholder.style.display="none");const t=e.element.wysiwyg;!a.onlyZeroWidthSpace(t.textContent)||t.querySelector(a._allowedEmptyNodeList)||(t.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(e){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const t=this.getRange(),i=t.commonAncestorContainer,n=t.startContainer,o=a.getRangeFormatElement(i,null);let l,r,c;const h=a.getParentElement(i,a.isComponent);if(!h||a.isTable(h)){if(1===i.nodeType&&"true"===i.getAttribute("data-se-embed")){let e=i.nextElementSibling;return a.isFormatElement(e)||(e=this.appendFormatTag(i,s.defaultTag)),void this.setRange(e.firstChild,0,e.firstChild,0)}if(!a.isRangeFormatElement(n)&&!a.isWysiwygDiv(n)||!a.isComponent(n.children[t.startOffset])&&!a.isComponent(n.children[t.startOffset-1])){if(a.getParentElement(i,a.isNotCheckingNode))return null;if(o)return c=a.createElement(e||s.defaultTag),c.innerHTML=o.innerHTML,0===c.childNodes.length&&(c.innerHTML=a.zeroWidthSpace),o.innerHTML=c.outerHTML,c=o.firstChild,l=a.getEdgeChildNodes(c,null).sc,l||(l=a.createTextNode(a.zeroWidthSpace),c.insertBefore(l,c.firstChild)),r=l.textContent.length,void this.setRange(l,r,l,r);if(a.isRangeFormatElement(i)&&i.childNodes.length<=1){let e=null;return 1===i.childNodes.length&&a.isBreak(i.firstChild)?e=i.firstChild:(e=a.createTextNode(a.zeroWidthSpace),i.appendChild(e)),void this.setRange(e,1,e,1)}if(this.execCommand("formatBlock",!1,e||s.defaultTag),l=a.getEdgeChildNodes(i,i),l=l?l.ec:i,c=a.getFormatElement(l,null),!c)return this.removeRange(),void this._editorRange();if(a.isBreak(c.nextSibling)&&a.removeItem(c.nextSibling),a.isBreak(c.previousSibling)&&a.removeItem(c.previousSibling),a.isBreak(l)){const e=a.createTextNode(a.zeroWidthSpace);l.parentNode.insertBefore(e,l),l=e}this.effectNode=null,this.nativeFocus()}}},_setOptionsInit:function(t,i){this.context=e=z(t.originElement,this._getConstructed(t),s),this._componentsInfoReset=!0,this._editorInit(!0,i)},_editorInit:function(t,i){this._init(t,i),u._addEvent(),this._setCharCount(),u._offStickyToolbar(),u.onResize_window(),e.element.toolbar.style.visibility="",this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),this._resourcesStateChange(),r.setTimeout((function(){"function"==typeof d.onload&&d.onload(h,t)}))},_getConstructed:function(e){return{_top:e.topArea,_relative:e.relative,_toolBar:e.toolbar,_menuTray:e._menuTray,_editorArea:e.editorArea,_wysiwygArea:e.wysiwygFrame,_codeArea:e.code,_placeholder:e.placeholder,_resizingBar:e.resizingBar,_navigation:e.navigation,_charCounter:e.charCounter,_charWrapper:e.charWrapper,_loading:e.loading,_lineBreaker:e.lineBreaker,_lineBreaker_t:e.lineBreaker_t,_lineBreaker_b:e.lineBreaker_b,_resizeBack:e.resizeBackground,_stickyDummy:e._stickyDummy,_arrow:e._arrow}}},u={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_directionKeyCode:new r.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new r.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new r.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new r.RegExp("^("+r.Object.keys(s._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new r.RegExp(a.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(e,t){let i=null;switch(u._keyCodeShortcut[e]){case"A":i="selectAll";break;case"B":-1===s.shortcutsDisable.indexOf("bold")&&(i="bold");break;case"S":t&&-1===s.shortcutsDisable.indexOf("strike")?i="strike":t||-1!==s.shortcutsDisable.indexOf("save")||(i="save");break;case"U":-1===s.shortcutsDisable.indexOf("underline")&&(i="underline");break;case"I":-1===s.shortcutsDisable.indexOf("italic")&&(i="italic");break;case"Z":-1===s.shortcutsDisable.indexOf("undo")&&(i=t?"redo":"undo");break;case"Y":-1===s.shortcutsDisable.indexOf("undo")&&(i="redo");break;case"[":-1===s.shortcutsDisable.indexOf("indent")&&(i=s.rtl?"indent":"outdent");break;case"]":-1===s.shortcutsDisable.indexOf("indent")&&(i=s.rtl?"outdent":"indent")}return!!i&&(h.commandHandler(h.commandMap[i],i),!0)},_applyTagEffects:function(){let t=h.getSelectionNode();if(t===h.effectNode)return;h.effectNode=t;const n=s.rtl?"marginRight":"marginLeft",o=h.commandMap,l=this._onButtonsCheck,r=[],c=[],u=h.activePlugins,d=u.length;let p="";for(;t.firstChild;)t=t.firstChild;for(let e=t;!a.isWysiwygDiv(e)&&e;e=e.parentNode)if(1===e.nodeType&&!a.isBreak(e)){if(p=e.nodeName.toUpperCase(),c.push(p),!h.isReadOnly)for(let t,n=0;n<d;n++)t=u[n],-1===r.indexOf(t)&&i[t].active.call(h,e)&&r.push(t);a.isFormatElement(e)?(-1===r.indexOf("OUTDENT")&&o.OUTDENT&&!a.isImportantDisabled(o.OUTDENT)&&(a.isListCell(e)||e.style[n]&&a.getNumber(e.style[n],0)>0)&&(r.push("OUTDENT"),o.OUTDENT.removeAttribute("disabled")),-1===r.indexOf("INDENT")&&o.INDENT&&!a.isImportantDisabled(o.INDENT)&&(r.push("INDENT"),a.isListCell(e)&&!e.previousElementSibling?o.INDENT.setAttribute("disabled",!0):o.INDENT.removeAttribute("disabled"))):l.test(p)&&(r.push(p),a.addClass(o[p],"active"))}h._setKeyEffect(r),h._variable.currentNodes=c.reverse(),h._variable.currentNodesMap=r,s.showPathLabel&&(e.element.navigation.textContent=h._variable.currentNodes.join(" > "))},_cancelCaptionEdit:function(){this.setAttribute("contenteditable",!1),this.removeEventListener("blur",u._cancelCaptionEdit)},_buttonsEventHandler:function(e){let t=e.target;if(h._bindControllersOff&&e.stopPropagation(),/^(input|textarea|select|option)$/i.test(t.nodeName)?h._antiBlur=!1:e.preventDefault(),a.getParentElement(t,".se-submenu"))e.stopPropagation(),h._notHideToolbar=!0;else{let i=t.getAttribute("data-command"),n=t.className;for(;!i&&!/se-menu-list/.test(n)&&!/sun-editor-common/.test(n);)t=t.parentNode,i=t.getAttribute("data-command"),n=t.className;i!==h._submenuName&&i!==h._containerName||e.stopPropagation()}},onClick_toolbar:function(e){let t=e.target,i=t.getAttribute("data-display"),n=t.getAttribute("data-command"),s=t.className;for(h.controllersOff();t.parentNode&&!n&&!/se-menu-list/.test(s)&&!/se-toolbar/.test(s);)t=t.parentNode,n=t.getAttribute("data-command"),i=t.getAttribute("data-display"),s=t.className;(n||i)&&(t.disabled||(h.isReadOnly||h.hasFocus||h.nativeFocus(),h.isReadOnly||h._variable.isCodeView||h._editorRange(),h.actionCall(n,i,t)))},onMouseDown_wysiwyg:function(t){if(h.isReadOnly||a.isNonEditable(e.element.wysiwyg))return;if(h._editorRange(),"function"==typeof d.onMouseDown&&!1===d.onMouseDown(t,h))return;const i=a.getParentElement(t.target,a.isCell);if(i){const e=h.plugins.table;e&&i!==e._fixedCell&&!e._shift&&h.callPlugin("table",(function(){e.onTableCellMultiSelect.call(h,i,!1)}),null)}h._isBalloon&&u._hideToolbar(),/FIGURE/i.test(t.target.nodeName)&&t.preventDefault()},onClick_wysiwyg:function(t){const i=t.target;if(h.isReadOnly)return t.preventDefault(),a.isAnchor(i)&&r.open(i.href,i.target),!1;if(a.isNonEditable(e.element.wysiwyg))return;if("function"==typeof d.onClick&&!1===d.onClick(t,h))return;const n=h.getFileComponent(i);if(n)return t.preventDefault(),void h.selectComponent(n.target,n.pluginName);const o=a.getParentElement(i,"FIGCAPTION");if(a.isNonEditable(o)&&(t.preventDefault(),o.setAttribute("contenteditable",!0),o.focus(),h._isInline&&!h._inlineToolbarAttr.isShow)){u._showToolbarInline();const e=function(){u._hideToolbar(),o.removeEventListener("blur",e)};o.addEventListener("blur",e)}r.setTimeout(h._editorRange.bind(h)),h._editorRange();const l=h.getSelectionNode(),c=a.getFormatElement(l,null),p=a.getRangeFormatElement(l,null);if(c||a.isNonEditable(i)||a.isList(p))u._applyTagEffects();else{const e=h.getRange();if(a.getFormatElement(e.startContainer)===a.getFormatElement(e.endContainer))if(a.isList(p)){t.preventDefault();const e=a.createElement("LI"),i=l.nextElementSibling;e.appendChild(l),p.insertBefore(e,i),h.focus()}else a.isWysiwygDiv(l)||a.isComponent(l)||a.isTable(l)&&!a.isCell(l)||null===h._setDefaultFormat(a.isRangeFormatElement(p)?"DIV":s.defaultTag)?u._applyTagEffects():(t.preventDefault(),h.focus())}h._isBalloon&&r.setTimeout(u._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){u._balloonDelay&&r.clearTimeout(u._balloonDelay),u._balloonDelay=r.setTimeout(function(){r.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}.bind(u),350)},_toggleToolbarBalloon:function(){h._editorRange();const e=h.getRange();h._bindControllersOff||!h._isBalloonAlways&&e.collapsed?u._hideToolbar():u._showToolbarBalloon(e)},_showToolbarBalloon:function(t){if(!h._isBalloon)return;const i=t||h.getRange(),n=e.element.toolbar,o=e.element.topArea,l=h.getSelection();let c;if(h._isBalloonAlways&&i.collapsed)c=!0;else if(l.focusNode===l.anchorNode)c=l.focusOffset<l.anchorOffset;else{const e=a.getListChildNodes(i.commonAncestorContainer,null);c=a.getArrayIndex(e,l.focusNode)<a.getArrayIndex(e,l.anchorNode)}let d=i.getClientRects();d=d[c?0:d.length-1];const p=h.getGlobalScrollOffset();let g=p.left,f=p.top;const m=o.offsetWidth,_=u._getEditorOffsets(null),v=_.top,y=_.left;if(n.style.top="-10000px",n.style.visibility="hidden",n.style.display="block",!d){const t=h.getSelectionNode();if(a.isFormatElement(t)){const e=a.createTextNode(a.zeroWidthSpace);h.insertNode(e,null,!1),h.setRange(e,1,e,1),h._editorRange(),d=h.getRange().getClientRects(),d=d[c?0:d.length-1]}if(!d){const i=a.getOffset(t,e.element.wysiwygFrame);d={left:i.left,top:i.top,right:i.left,bottom:i.top+t.offsetHeight,noText:!0},g=0,f=0}c=!0}const b=r.Math.round(e.element._arrow.offsetWidth/2),w=n.offsetWidth,x=n.offsetHeight,C=/iframe/i.test(e.element.wysiwygFrame.nodeName)?e.element.wysiwygFrame.getClientRects()[0]:null;if(C&&(d={left:d.left+C.left,top:d.top+C.top,right:d.right+C.right-C.width,bottom:d.bottom+C.bottom-C.height}),u._setToolbarOffset(c,d,n,y,m,g,f,v,b),w===n.offsetWidth&&x===n.offsetHeight||u._setToolbarOffset(c,d,n,y,m,g,f,v,b),s.toolbarContainer){const e=o.parentElement;let t=s.toolbarContainer,i=t.offsetLeft,l=t.offsetTop;for(;!t.parentElement.contains(e)||!/^(BODY|HTML)$/i.test(t.parentElement.nodeName);)t=t.offsetParent,i+=t.offsetLeft,l+=t.offsetTop;n.style.left=n.offsetLeft-i+o.offsetLeft+"px",n.style.top=n.offsetTop-l+o.offsetTop+"px"}n.style.visibility=""},_setToolbarOffset:function(t,i,n,s,o,c,h,d,p){const g=n.offsetWidth,f=i.noText&&!t?0:n.offsetHeight,m=(t?i.left:i.right)-s-g/2+c,_=m+g-o;let v=(t?i.top-f-p:i.bottom+p)-(i.noText?0:d)+h,y=m<0?1:_<0?m:m-_-1-1,b=!1;const w=v+(t?u._getEditorOffsets(null).top:n.offsetHeight-e.element.wysiwyg.offsetHeight);!t&&w>0&&u._getPageBottomSpace()<w?(t=!0,b=!0):t&&l.documentElement.offsetTop>w&&(t=!1,b=!0),b&&(v=(t?i.top-f-p:i.bottom+p)-(i.noText?0:d)+h),n.style.left=r.Math.floor(y)+"px",n.style.top=r.Math.floor(v)+"px",t?(a.removeClass(e.element._arrow,"se-arrow-up"),a.addClass(e.element._arrow,"se-arrow-down"),e.element._arrow.style.top=f+"px"):(a.removeClass(e.element._arrow,"se-arrow-down"),a.addClass(e.element._arrow,"se-arrow-up"),e.element._arrow.style.top=-p+"px");const x=r.Math.floor(g/2+(m-y));e.element._arrow.style.left=(x+p>n.offsetWidth?n.offsetWidth-p:x<p?p:x)+"px"},_showToolbarInline:function(){if(!h._isInline)return;const t=e.element.toolbar;s.toolbarContainer?t.style.position="relative":t.style.position="absolute",t.style.visibility="hidden",t.style.display="block",h._inlineToolbarAttr.width=t.style.width=s.toolbarWidth,h._inlineToolbarAttr.top=t.style.top=(s.toolbarContainer?0:-1-t.offsetHeight)+"px","function"==typeof d.showInline&&d.showInline(t,e,h),u.onScroll_window(),h._inlineToolbarAttr.isShow=!0,t.style.visibility=""},_hideToolbar:function(){h._notHideToolbar||h._variable.isFullScreen||(e.element.toolbar.style.display="none",h._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(e){if(h.isReadOnly||h.isDisabled)return e.preventDefault(),e.stopPropagation(),h.history.go(h.history.getCurrentIndex()),!1;if(h._editorRange(),"function"==typeof d.onInput&&!1===d.onInput(e,h))return;const t=(null===e.data?"":void 0===e.data?" ":e.data)||"";if(!h._charCount(t))return e.preventDefault(),e.stopPropagation(),!1;h.history.push(!0)},_isUneditableNode:function(e,t){const i=t?e.startContainer:e.endContainer,n=t?e.startOffset:e.endOffset,s=t?"previousSibling":"nextSibling";let o;return 1===i.nodeType?(o=u._isUneditableNode_getSibling(i.childNodes[n],s,i),o&&1===o.nodeType&&"false"===o.getAttribute("contenteditable")):(o=u._isUneditableNode_getSibling(i,s,i),h.isEdgePoint(i,n,t?"front":"end")&&o&&1===o.nodeType&&"false"===o.getAttribute("contenteditable"))},_isUneditableNode_getSibling:function(e,t,i){if(!e)return null;let n=e[t];if(!n){if(n=a.getFormatElement(i),n=n?n[t]:null,!n||a.isComponent(n))return null;n="previousSibling"===t?n.firstElementChild:n.lastElementChild}return n},_onShortcutKey:!1,onKeyDown_wysiwyg:function(t){const i=t.keyCode,n=t.shiftKey,o=t.ctrlKey||t.metaKey||91===i||92===i||224===i,l=t.altKey;if(u._IEisComposing=229===i,!o&&h.isReadOnly&&!u._directionKeyCode.test(i))return t.preventDefault(),!1;if(h.submenuOff(),h._isBalloon&&u._hideToolbar(),"function"==typeof d.onKeyDown&&!1===d.onKeyDown(t,h))return;if(o&&u._shortcutCommand(i,n))return u._onShortcutKey=!0,t.preventDefault(),t.stopPropagation(),!1;u._onShortcutKey&&(u._onShortcutKey=!1);let c=h.getSelectionNode();const p=h.getRange(),g=!p.collapsed||p.startContainer!==p.endContainer,f=h._fileManager.pluginRegExp.test(h.currentControllerName)?h.currentControllerName:"";let m=a.getFormatElement(c,null)||c,_=a.getRangeFormatElement(m,null);switch(i){case 8:if(!g&&f){t.preventDefault(),t.stopPropagation(),h.plugins[f].destroy.call(h);break}if(g&&u._hardDelete()){t.preventDefault(),t.stopPropagation();break}if(!a.isFormatElement(m)&&!e.element.wysiwyg.firstElementChild&&!a.isComponent(c)&&null!==h._setDefaultFormat(s.defaultTag))return t.preventDefault(),t.stopPropagation(),!1;if(!g&&!m.previousElementSibling&&0===p.startOffset&&!c.previousSibling&&!a.isListCell(m)&&a.isFormatElement(m)&&(!a.isFreeFormatElement(m)||a.isClosureFreeFormatElement(m))){if(a.isClosureRangeFormatElement(m.parentNode))return t.preventDefault(),t.stopPropagation(),!1;if(a.isWysiwygDiv(m.parentNode)&&m.childNodes.length<=1&&(!m.firstChild||a.onlyZeroWidthSpace(m.textContent))){if(t.preventDefault(),t.stopPropagation(),m.nodeName.toUpperCase()===s.defaultTag.toUpperCase()){m.innerHTML="<br>";const e=m.attributes;for(;e[0];)m.removeAttribute(e[0].name)}else{const e=a.createElement(s.defaultTag);e.innerHTML="<br>",m.parentElement.replaceChild(e,m)}return h.nativeFocus(),!1}}if(m&&p.startContainer===p.endContainer&&3===c.nodeType&&!a.isFormatElement(c.parentNode)&&(p.collapsed?1===c.textContent.length:p.endOffset-p.startOffset===c.textContent.length)){t.preventDefault();let e=null,i=c.parentNode.previousSibling;const n=c.parentNode.nextSibling;i||(n?(i=n,e=0):(i=a.createElement("BR"),m.appendChild(i))),c.textContent="",a.removeItemAllParents(c,null,m),e="number"==typeof e?e:3===i.nodeType?i.textContent.length:1,h.setRange(i,e,i,e);break}if(u._isUneditableNode(p,!0)){t.preventDefault(),t.stopPropagation();break}const i=p.commonAncestorContainer;if(m=a.getFormatElement(p.startContainer,null),_=a.getRangeFormatElement(m,null),_&&m&&!a.isCell(_)&&!/^FIGCAPTION$/i.test(_.nodeName)){if(a.isListCell(m)&&a.isList(_)&&(a.isListCell(_.parentNode)||m.previousElementSibling)&&(c===m||3===c.nodeType&&(!c.previousSibling||a.isList(c.previousSibling)))&&(a.getFormatElement(p.startContainer,null)!==a.getFormatElement(p.endContainer,null)?_.contains(p.startContainer):0===p.startOffset&&p.collapsed)){if(p.startContainer!==p.endContainer)t.preventDefault(),h.removeNode(),3===p.startContainer.nodeType&&h.setRange(p.startContainer,p.startContainer.textContent.length,p.startContainer,p.startContainer.textContent.length),h.history.push(!0);else{let e=m.previousElementSibling||_.parentNode;if(a.isListCell(e)){t.preventDefault();let i=e;if(!e.contains(m)&&a.isListCell(i)&&a.isList(i.lastElementChild)){for(i=i.lastElementChild.lastElementChild;a.isListCell(i)&&a.isList(i.lastElementChild);)i=i.lastElementChild&&i.lastElementChild.lastElementChild;e=i}let n=e===_.parentNode?_.previousSibling:e.lastChild;n||(n=a.createTextNode(a.zeroWidthSpace),_.parentNode.insertBefore(n,_.parentNode.firstChild));const s=3===n.nodeType?n.textContent.length:1,o=m.childNodes;let l=n,r=o[0];for(;r=o[0];)e.insertBefore(r,l.nextSibling),l=r;a.removeItem(m),0===_.children.length&&a.removeItem(_),h.setRange(n,s,n,s),h.history.push(!0)}}break}if(!g&&0===p.startOffset){let e=!0,n=i;for(;n&&n!==_&&!a.isWysiwygDiv(n);){if(n.previousSibling&&(1===n.previousSibling.nodeType||!a.onlyZeroWidthSpace(n.previousSibling.textContent.trim()))){e=!1;break}n=n.parentNode}if(e&&_.parentNode){t.preventDefault(),h.detachRangeFormatElement(_,a.isListCell(m)?[m]:null,null,!1,!1),h.history.push(!0);break}}}if(!g&&m&&(0===p.startOffset||c===m&&m.childNodes[p.startOffset])){const e=c===m?m.childNodes[p.startOffset]:c,n=m.previousSibling,s=(3===i.nodeType||a.isBreak(i))&&!i.previousSibling&&0===p.startOffset;if(!e.previousSibling&&(a.isComponent(i.previousSibling)||s&&a.isComponent(n))){const e=h.getFileComponent(n);e?(t.preventDefault(),t.stopPropagation(),0===m.textContent.length&&a.removeItem(m),!1===h.selectComponent(e.target,e.pluginName)&&h.blur()):a.isComponent(n)&&(t.preventDefault(),t.stopPropagation(),a.removeItem(n));break}if(a.isNonEditable(e.previousSibling)){t.preventDefault(),t.stopPropagation(),a.removeItem(e.previousSibling);break}}break;case 46:if(f){t.preventDefault(),t.stopPropagation(),h.plugins[f].destroy.call(h);break}if(g&&u._hardDelete()){t.preventDefault(),t.stopPropagation();break}if(u._isUneditableNode(p,!1)){t.preventDefault(),t.stopPropagation();break}if((a.isFormatElement(c)||null===c.nextSibling||a.onlyZeroWidthSpace(c.nextSibling)&&null===c.nextSibling.nextSibling)&&p.startOffset===c.textContent.length){const e=m.nextElementSibling;if(!e)break;if(a.isComponent(e)){if(t.preventDefault(),a.onlyZeroWidthSpace(m)&&(a.removeItem(m),a.isTable(e))){let t=a.getChildElement(e,a.isCell,!1);t=t.firstElementChild||t,h.setRange(t,0,t,0);break}const i=h.getFileComponent(e);i?(t.stopPropagation(),!1===h.selectComponent(i.target,i.pluginName)&&h.blur()):a.isComponent(e)&&(t.stopPropagation(),a.removeItem(e));break}}if(!g&&(h.isEdgePoint(p.endContainer,p.endOffset)||c===m&&m.childNodes[p.startOffset])){const e=c===m&&m.childNodes[p.startOffset]||c;if(e&&a.isNonEditable(e.nextSibling)){t.preventDefault(),t.stopPropagation(),a.removeItem(e.nextSibling);break}if(a.isComponent(e)){t.preventDefault(),t.stopPropagation(),a.removeItem(e);break}}if(m=a.getFormatElement(p.startContainer,null),_=a.getRangeFormatElement(m,null),a.isListCell(m)&&a.isList(_)&&(c===m||3===c.nodeType&&(!c.nextSibling||a.isList(c.nextSibling))&&(a.getFormatElement(p.startContainer,null)!==a.getFormatElement(p.endContainer,null)?_.contains(p.endContainer):p.endOffset===c.textContent.length&&p.collapsed))){p.startContainer!==p.endContainer&&h.removeNode();let e=a.getArrayItem(m.children,a.isList,!1);if(e=e||m.nextElementSibling||_.parentNode.nextElementSibling,e&&(a.isList(e)||a.getArrayItem(e.children,a.isList,!1))){let i,n;if(t.preventDefault(),a.isList(e)){const t=e.firstElementChild;for(n=t.childNodes,i=n[0];n[0];)m.insertBefore(n[0],e);a.removeItem(t)}else{for(i=e.firstChild,n=e.childNodes;n[0];)m.appendChild(n[0]);a.removeItem(e)}h.setRange(i,0,i,0),h.history.push(!0)}break}break;case 9:if(f||s.tabDisable)break;if(t.preventDefault(),o||l||a.isWysiwygDiv(c))break;const v=!p.collapsed||h.isEdgePoint(p.startContainer,p.startOffset),y=h.getSelectedElements(null);c=h.getSelectionNode();const b=[];let w=[],x=a.isListCell(y[0]),C=a.isListCell(y[y.length-1]),T={sc:p.startContainer,so:p.startOffset,ec:p.endContainer,eo:p.endOffset};for(let e,t=0,i=y.length;t<i;t++)if(e=y[t],a.isListCell(e)){if(!e.previousElementSibling&&!n)continue;b.push(e)}else w.push(e);if(b.length>0&&v&&h.plugins.list)T=h.plugins.list.editInsideList.call(h,n,b);else{const e=a.getParentElement(c,a.isCell);if(e&&v){const t=a.getParentElement(e,"table"),i=a.getListChildren(t,a.isCell);let s=n?a.prevIdx(i,e):a.nextIdx(i,e);s!==i.length||n||(s=0),-1===s&&n&&(s=i.length-1);let o=i[s];if(!o)break;o=o.firstElementChild||o,h.setRange(o,0,o,0);break}w=w.concat(b),x=C=null}if(w.length>0)if(n){const e=w.length-1;for(let t,i=0;i<=e;i++){t=w[i].childNodes;for(let e,i=0,n=t.length;i<n&&(e=t[i],e);i++)if(!a.onlyZeroWidthSpace(e)){/^\s{1,4}$/.test(e.textContent)?a.removeItem(e):/^\s{1,4}/.test(e.textContent)&&(e.textContent=e.textContent.replace(/^\s{1,4}/,""));break}}const t=a.getChildElement(w[0],"text",!1),i=a.getChildElement(w[e],"text",!0);!x&&t&&(T.sc=t,T.so=0),!C&&i&&(T.ec=i,T.eo=i.textContent.length)}else{const e=a.createTextNode(new r.Array(h._variable.tabSize+1).join(""));if(1===w.length){const t=h.insertNode(e,null,!0);if(!t)return!1;x||(T.sc=e,T.so=t.endOffset),C||(T.ec=e,T.eo=t.endOffset)}else{const t=w.length-1;for(let i,n=0;n<=t;n++)i=w[n].firstChild,i&&(a.isBreak(i)?w[n].insertBefore(e.cloneNode(!1),i):i.textContent=e.textContent+i.textContent);const i=a.getChildElement(w[0],"text",!1),n=a.getChildElement(w[t],"text",!0);!x&&i&&(T.sc=i,T.so=0),!C&&n&&(T.ec=n,T.eo=n.textContent.length)}}h.setRange(T.sc,T.so,T.ec,T.eo),h.history.push(!1);break;case 13:const S=a.getFreeFormatElement(c,null);if(h._charTypeHTML){let e="";if(e=!n&&S||n?"<br>":"<"+m.nodeName+"><br></"+m.nodeName+">",!h.checkCharCount(e,"byte-html"))return t.preventDefault(),!1}if(!n){const e=h._isEdgeFormat(p.endContainer,p.endOffset,"end");if(e&&/^H[1-6]$/i.test(m.nodeName)||/^HR$/i.test(m.nodeName)){t.preventDefault();let i=null;const n=h.appendFormatTag(m,s.defaultTag);if(e&&e.length>0){i=e.pop();const t=i;for(;e.length>0;)i=i.appendChild(e.pop());n.appendChild(t)}i=i?i.appendChild(n.firstChild):n.firstChild,h.setRange(i,0,i,0);break}if(s.lineAttrReset&&m){let e;if(t.preventDefault(),t.stopPropagation(),p.collapsed)e=a.splitElement(p.endContainer,p.endOffset,0);else{const t=a.getFormatElement(p.startContainer,null)!==a.getFormatElement(p.endContainer,null),i=h.removeNode();if(t)if(e=a.getFormatElement(i.container,null),i.prevContainer)e!==m&&e.nextElementSibling===m&&(e=m);else{const t=m.cloneNode(!1);t.innerHTML="<br>",e.parentNode.insertBefore(t,e)}else e=a.splitElement(i.container,i.offset,0)}const i="*"===s.lineAttrReset?null:s.lineAttrReset,n=e.attributes;let o=0;for(;n[o];)i&&i.test(n[o].name)?o++:e.removeAttribute(n[o].name);h.setRange(e.firstChild,0,e.firstChild,0);break}if(S){t.preventDefault();const e=c===S,i=h.getSelection(),n=c.childNodes,s=i.focusOffset,o=c.previousElementSibling,l=c.nextSibling;if(!a.isClosureFreeFormatElement(S)&&n&&(e&&p.collapsed&&n.length-1<=s+1&&a.isBreak(n[s])&&(!n[s+1]||(!n[s+2]||a.onlyZeroWidthSpace(n[s+2].textContent))&&3===n[s+1].nodeType&&a.onlyZeroWidthSpace(n[s+1].textContent))&&s>0&&a.isBreak(n[s-1])||!e&&a.onlyZeroWidthSpace(c.textContent)&&a.isBreak(o)&&(a.isBreak(o.previousSibling)||!a.onlyZeroWidthSpace(o.previousSibling.textContent))&&(!l||!a.isBreak(l)&&a.onlyZeroWidthSpace(l.textContent)))){e?a.removeItem(n[s-1]):a.removeItem(c);const t=h.appendFormatTag(S,a.isFormatElement(S.nextElementSibling)&&!a.isRangeFormatElement(S.nextElementSibling)?S.nextElementSibling:null);a.copyFormatAttributes(t,S),h.setRange(t,1,t,1);break}if(e){d.insertHTML(p.collapsed&&a.isBreak(p.startContainer.childNodes[p.startOffset-1])?"<br>":"<br><br>",!0,!1);let e=i.focusNode;const t=i.focusOffset;S===e&&(e=e.childNodes[t-s>1?t-1:t]),h.setRange(e,1,e,1)}else{const e=i.focusNode.nextSibling,t=a.createElement("BR");h.insertNode(t,null,!1);const n=t.previousSibling,s=t.nextSibling;a.isBreak(e)||a.isBreak(n)||s&&!a.onlyZeroWidthSpace(s)?h.setRange(s,0,s,0):(t.parentNode.insertBefore(t.cloneNode(!1),t),h.setRange(t,1,t,1))}u._onShortcutKey=!0;break}}if(g)break;if(_&&m&&!a.isCell(_)&&!/^FIGCAPTION$/i.test(_.nodeName)){const e=h.getRange();if(h.isEdgePoint(e.endContainer,e.endOffset)&&a.isList(c.nextSibling)){t.preventDefault();const e=a.createElement("LI"),i=a.createElement("BR");e.appendChild(i),m.parentNode.insertBefore(e,m.nextElementSibling),e.appendChild(c.nextSibling),h.setRange(i,1,i,1);break}if((3!==e.commonAncestorContainer.nodeType||!e.commonAncestorContainer.nextElementSibling)&&a.onlyZeroWidthSpace(m.innerText.trim())){t.preventDefault();let e=null;if(a.isListCell(_.parentNode)){if(_=m.parentNode.parentNode.parentNode,e=a.splitElement(m,null,a.getElementDepth(m)-2),!e){const t=a.createElement("LI");t.innerHTML="<br>",_.insertBefore(t,e),e=t}}else{const t=a.isCell(_.parentNode)?"DIV":a.isList(_.parentNode)?"LI":a.isFormatElement(_.nextElementSibling)&&!a.isRangeFormatElement(_.nextElementSibling)?_.nextElementSibling.nodeName:a.isFormatElement(_.previousElementSibling)&&!a.isRangeFormatElement(_.previousElementSibling)?_.previousElementSibling.nodeName:s.defaultTag;e=a.createElement(t);const i=h.detachRangeFormatElement(_,[m],null,!0,!0);i.cc.insertBefore(e,i.ec)}e.innerHTML="<br>",a.removeItemAllParents(m,null,null),h.setRange(e,1,e,1);break}}if(_&&a.getParentElement(_,"FIGCAPTION")&&a.getParentElement(_,a.isList)&&(t.preventDefault(),m=h.appendFormatTag(m,null),h.setRange(m,0,m,0)),f){t.preventDefault(),t.stopPropagation();const i=e[f],n=i._container,o=n.previousElementSibling||n.nextElementSibling;let l=null;a.isListCell(n.parentNode)?l=a.createElement("BR"):(l=a.createElement(a.isFormatElement(o)&&!a.isRangeFormatElement(o)?o.nodeName:s.defaultTag),l.innerHTML="<br>"),n.parentNode.insertBefore(l,n),h.callPlugin(f,(function(){!1===h.selectComponent(i._element,f)&&h.blur()}),null)}break;case 27:if(f)return t.preventDefault(),t.stopPropagation(),h.controllersOff(),!1}if(n&&16===i){t.preventDefault(),t.stopPropagation();const e=h.plugins.table;if(e&&!e._shift&&!e._ref){const t=a.getParentElement(m,a.isCell);if(t)return void e.onTableCellMultiSelect.call(h,t,!0)}}else if(n&&(a.isOSX_IOS?l:o)&&32===i){t.preventDefault(),t.stopPropagation();const e=h.insertNode(a.createTextNode(""));if(e&&e.container)return void h.setRange(e.container,e.endOffset,e.container,e.endOffset)}if(!(o||l||g||u._nonTextKeyCode.test(i))&&p.collapsed&&p.startContainer===p.endContainer&&a.isBreak(p.commonAncestorContainer)){const e=a.createTextNode(a.zeroWidthSpace);h.insertNode(e,null,!1),h.setRange(e,1,e,1)}},onKeyUp_wysiwyg:function(e){if(u._onShortcutKey)return;h._editorRange();const t=e.keyCode,i=e.ctrlKey||e.metaKey||91===t||92===t||224===t,n=e.altKey;if(h.isReadOnly)return void(!i&&u._directionKeyCode.test(t)&&u._applyTagEffects());const o=h.getRange();let l=h.getSelectionNode();if(h._isBalloon&&(h._isBalloonAlways&&27!==t||!o.collapsed)){if(!h._isBalloonAlways)return void u._showToolbarBalloon();27!==t&&u._showToolbarBalloonDelay()}if(8===t&&a.isWysiwygDiv(l)&&""===l.textContent&&0===l.children.length){e.preventDefault(),e.stopPropagation(),l.innerHTML="";const t=a.createElement(a.isFormatElement(h._variable.currentNodes[0])?h._variable.currentNodes[0]:s.defaultTag);return t.innerHTML="<br>",l.appendChild(t),h.setRange(t,0,t,0),u._applyTagEffects(),void h.history.push(!1)}const r=a.getFormatElement(l,null),c=a.getRangeFormatElement(l,null);if(r||!o.collapsed||a.isComponent(l)||a.isList(l)||null===h._setDefaultFormat(a.isRangeFormatElement(c)?"DIV":s.defaultTag)||(l=h.getSelectionNode()),u._directionKeyCode.test(t)&&u._applyTagEffects(),!i&&!n&&!u._nonTextKeyCode.test(t)&&3===l.nodeType&&a.zeroWidthRegExp.test(l.textContent)&&!(void 0!==e.isComposing?e.isComposing:u._IEisComposing)){let e=o.startOffset,t=o.endOffset;const i=(l.textContent.substring(0,t).match(u._frontZeroWidthReg)||"").length;e=o.startOffset-i,t=o.endOffset-i,l.textContent=l.textContent.replace(a.zeroWidthRegExp,""),h.setRange(l,e<0?0:e,l,t<0?0:t)}h._charCount(""),"function"==typeof d.onKeyUp&&!1===d.onKeyUp(e,h)||i||n||u._historyIgnoreKeyCode.test(t)||h.history.push(!0)},onScroll_wysiwyg:function(e){h.controllersOff(),h._isBalloon&&u._hideToolbar(),"function"==typeof d.onScroll&&d.onScroll(e,h)},onFocus_wysiwyg:function(e){h._antiBlur||(h.hasFocus=!0,u._applyTagEffects(),h._isInline&&u._showToolbarInline(),"function"==typeof d.onFocus&&d.onFocus(e,h))},onBlur_wysiwyg:function(t){h._antiBlur||h._variable.isCodeView||(h.hasFocus=!1,h.controllersOff(),(h._isInline||h._isBalloon)&&u._hideToolbar(),h._setKeyEffect([]),h._variable.currentNodes=[],h._variable.currentNodesMap=[],s.showPathLabel&&(e.element.navigation.textContent=""),"function"==typeof d.onBlur&&d.onBlur(t,h))},onMouseDown_resizingBar:function(t){t.stopPropagation(),h.submenuOff(),h.controllersOff();const i=a.getNumber(e.element.wysiwygFrame.style.height,0);h._variable.resizeClientY=t.clientY,e.element.resizeBackground.style.display="block",l.addEventListener("mousemove",u._resize_editor),l.addEventListener("mouseup",(function t(){e.element.resizeBackground.style.display="none",l.removeEventListener("mousemove",u._resize_editor),l.removeEventListener("mouseup",t),"function"==typeof d.onResizeEditor&&d.onResizeEditor(a.getNumber(e.element.wysiwygFrame.style.height,0),i,h)}))},_resize_editor:function(t){const i=e.element.editorArea.offsetHeight+(t.clientY-h._variable.resizeClientY);e.element.wysiwygFrame.style.height=e.element.code.style.height=(i<h._variable.minResizingSize?h._variable.minResizingSize:i)+"px",h._variable.resizeClientY=t.clientY},onResize_window:function(){h.controllersOff();const t=u._responsiveButtonSize;if(t){let i=0;i=(h._isBalloon||h._isInline)&&"auto"===s.toolbarWidth?e.element.topArea.offsetWidth:e.element.toolbar.offsetWidth;let n="default";for(let e=1,s=t.length;e<s;e++)if(i<t[e]){n=t[e]+"";break}u._responsiveCurrentSize!==n&&(u._responsiveCurrentSize=n,d.setToolbarButtons(u._responsiveButtons[n]))}if(0!==e.element.toolbar.offsetWidth){if(e.fileBrowser&&"block"===e.fileBrowser.area.style.display&&(e.fileBrowser.body.style.maxHeight=r.innerHeight-e.fileBrowser.header.offsetHeight-50+"px"),h.submenuActiveButton&&h.submenu&&h._setMenuPosition(h.submenuActiveButton,h.submenu),h._variable.isFullScreen)return h._variable.innerHeight_fullScreen+=r.innerHeight-e.element.toolbar.offsetHeight-h._variable.innerHeight_fullScreen,void(e.element.editorArea.style.height=h._variable.innerHeight_fullScreen+"px");h._variable.isCodeView&&h._isInline?u._showToolbarInline():(h._iframeAutoHeight(),h._sticky&&(e.element.toolbar.style.width=e.element.topArea.offsetWidth-2+"px",u.onScroll_window()))}},onScroll_window:function(){if(h._variable.isFullScreen||0===e.element.toolbar.offsetWidth||s.stickyToolbar<0)return;const t=e.element,i=t.editorArea.offsetHeight,n=(this.scrollY||l.documentElement.scrollTop)+s.stickyToolbar,o=u._getEditorOffsets(s.toolbarContainer).top-(h._isInline?t.toolbar.offsetHeight:0),r=h._isInline&&n-o>0?n-o-e.element.toolbar.offsetHeight:0;n<o?u._offStickyToolbar():n+h._variable.minResizingSize>=i+o?(h._sticky||u._onStickyToolbar(r),t.toolbar.style.top=r+i+o+s.stickyToolbar-n-h._variable.minResizingSize+"px"):n>=o&&u._onStickyToolbar(r)},_getEditorOffsets:function(t){let i=t||e.element.topArea,n=0,s=0,o=0;for(;i;)n+=i.offsetTop,s+=i.offsetLeft,o+=i.scrollTop,i=i.offsetParent;return{top:n,left:s,scroll:o}},_getPageBottomSpace:function(){return l.documentElement.scrollHeight-(u._getEditorOffsets(null).top+e.element.topArea.offsetHeight)},_onStickyToolbar:function(t){const i=e.element;h._isInline||s.toolbarContainer||(i._stickyDummy.style.height=i.toolbar.offsetHeight+"px",i._stickyDummy.style.display="block"),i.toolbar.style.top=s.stickyToolbar+t+"px",i.toolbar.style.width=h._isInline?h._inlineToolbarAttr.width:i.toolbar.offsetWidth+"px",a.addClass(i.toolbar,"se-toolbar-sticky"),h._sticky=!0},_offStickyToolbar:function(){const t=e.element;t._stickyDummy.style.display="none",t.toolbar.style.top=h._isInline?h._inlineToolbarAttr.top:"",t.toolbar.style.width=h._isInline?h._inlineToolbarAttr.width:"",t.editorArea.style.marginTop="",a.removeClass(t.toolbar,"se-toolbar-sticky"),h._sticky=!1},_codeViewAutoHeight:function(){h._variable.isFullScreen||(e.element.code.style.height=e.element.code.scrollHeight+"px")},_hardDelete:function(){const e=h.getRange(),t=e.startContainer,i=e.endContainer,n=a.getRangeFormatElement(t),s=a.getRangeFormatElement(i),o=a.isCell(n),l=a.isCell(s),r=e.commonAncestorContainer;if((o&&!n.previousElementSibling&&!n.parentElement.previousElementSibling||l&&!s.nextElementSibling&&!s.parentElement.nextElementSibling)&&n!==s)if(o){if(l)return a.removeItem(a.getParentElement(n,(function(e){return r===e.parentNode}))),h.nativeFocus(),!0;a.removeItem(a.getParentElement(n,(function(e){return r===e.parentNode})))}else a.removeItem(a.getParentElement(s,(function(e){return r===e.parentNode})));const c=1===t.nodeType?a.getParentElement(t,".se-component"):null,u=1===i.nodeType?a.getParentElement(i,".se-component"):null;return c&&a.removeItem(c),u&&a.removeItem(u),!1},onPaste_wysiwyg:function(e){const t=a.isIE?r.clipboardData:e.clipboardData;return!t||u._dataTransferAction("paste",e,t)},_setClipboardComponent:function(e,t,i){e.preventDefault(),e.stopPropagation(),i.setData("text/html",t.component.outerHTML)},onCopy_wysiwyg:function(e){const t=a.isIE?r.clipboardData:e.clipboardData;if("function"==typeof d.onCopy&&!d.onCopy(e,t,h))return e.preventDefault(),e.stopPropagation(),!1;const i=h.currentFileComponentInfo;i&&!a.isIE&&(u._setClipboardComponent(e,i,t),a.addClass(i.component,"se-component-copy"),r.setTimeout((function(){a.removeClass(i.component,"se-component-copy")}),150))},onSave_wysiwyg:function(e){"function"!=typeof d.onSave||d.onSave(e,h)},onCut_wysiwyg:function(e){const t=a.isIE?r.clipboardData:e.clipboardData;if("function"==typeof d.onCut&&!d.onCut(e,t,h))return e.preventDefault(),e.stopPropagation(),!1;const i=h.currentFileComponentInfo;i&&!a.isIE&&(u._setClipboardComponent(e,i,t),a.removeItem(i.component),h.controllersOff()),r.setTimeout((function(){h.history.push(!1)}))},onDrop_wysiwyg:function(e){if(h.isReadOnly||a.isIE)return e.preventDefault(),e.stopPropagation(),!1;const t=e.dataTransfer;return!t||(h.removeNode(),u._setDropLocationSelection(e),u._dataTransferAction("drop",e,t))},_setDropLocationSelection:function(e){if(e.rangeParent)h.setRange(e.rangeParent,e.rangeOffset,e.rangeParent,e.rangeOffset);else if(h._wd.caretRangeFromPoint){const t=h._wd.caretRangeFromPoint(e.clientX,e.clientY);h.setRange(t.startContainer,t.startOffset,t.endContainer,t.endOffset)}else{const e=h.getRange();h.setRange(e.startContainer,e.startOffset,e.endContainer,e.endOffset)}},_dataTransferAction:function(t,i,n){let s,o;if(a.isIE){s=n.getData("Text");const l=h.getRange(),c=a.createElement("DIV"),d={sc:l.startContainer,so:l.startOffset,ec:l.endContainer,eo:l.endOffset};return c.setAttribute("contenteditable",!0),c.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",e.element.relative.appendChild(c),c.focus(),r.setTimeout((function(){o=c.innerHTML,a.removeItem(c),h.setRange(d.sc,d.so,d.ec,d.eo),u._setClipboardData(t,i,s,o,n)})),!0}if(s=n.getData("text/plain"),o=n.getData("text/html"),!1===u._setClipboardData(t,i,s,o,n))return i.preventDefault(),i.stopPropagation(),!1},_setClipboardData:function(e,t,i,n,s){const o=/class=["']*Mso(Normal|List)/i.test(n)||/content=["']*Word.Document/i.test(n)||/content=["']*OneNote.File/i.test(n)||/content=["']*Excel.Sheet/i.test(n);n?(o?(n=n.replace(/\n/g," "),i=i.replace(/\n/g," ")):n=(i===n?i:n).replace(/\n/g,"<br>"),n=h.cleanHTML(n,h.pasteTagsWhitelistRegExp,h.pasteTagsBlacklistRegExp)):n=a._HTMLConvertor(i).replace(/\n/g,"<br>");const l=h._charCount(h._charTypeHTML?n:i);if("paste"===e&&"function"==typeof d.onPaste){const e=d.onPaste(t,n,l,h);if(!e)return!1;"string"==typeof e&&(n=e)}if("drop"===e&&"function"==typeof d.onDrop){const e=d.onDrop(t,n,l,h);if(!e)return!1;"string"==typeof e&&(n=e)}const r=s.files;return r.length>0&&!o?(/^image/.test(r[0].type)&&h.plugins.image&&d.insertImage(r),!1):!!l&&(n?(d.insertHTML(n,!0,!1),!1):void 0)},onMouseMove_wysiwyg:function(t){if(h.isDisabled||h.isReadOnly)return!1;const i=a.getParentElement(t.target,a.isComponent),n=h._lineBreaker.style;if(i&&!h.currentControllerName){const o=e.element;let l=0,r=o.wysiwyg;do{l+=r.scrollTop,r=r.parentElement}while(r&&!/^(BODY|HTML)$/i.test(r.nodeName));const c=o.wysiwyg.scrollTop,d=u._getEditorOffsets(null),p=a.getOffset(i,o.wysiwygFrame).top+c,g=t.pageY+l+(s.iframe&&!s.toolbarContainer?o.toolbar.offsetHeight:0),f=p+(s.iframe?l:d.top),m=a.isListCell(i.parentNode);let _="",v="";if((m?!i.previousSibling:!a.isFormatElement(i.previousElementSibling))&&g<f+20)v=p,_="t";else{if((m?i.nextSibling:a.isFormatElement(i.nextElementSibling))||!(g>f+i.offsetHeight-20))return void(n.display="none");v=p+i.offsetHeight,_="b"}h._variable._lineBreakComp=i,h._variable._lineBreakDir=_,n.top=v-c+"px",h._lineBreakerButton.style.left=a.getOffset(i).left+i.offsetWidth/2-15+"px",n.display="block"}else"none"!==n.display&&(n.display="none")},_onMouseDown_lineBreak:function(e){e.preventDefault()},_onLineBreak:function(e){e.preventDefault();const t=h._variable._lineBreakComp,i=this?this:h._variable._lineBreakDir,n=a.isListCell(t.parentNode),o=a.createElement(n?"BR":a.isCell(t.parentNode)?"DIV":s.defaultTag);if(n||(o.innerHTML="<br>"),h._charTypeHTML&&!h.checkCharCount(o.outerHTML,"byte-html"))return;t.parentNode.insertBefore(o,"t"===i?t:t.nextSibling),h._lineBreaker.style.display="none",h._variable._lineBreakComp=null;const l=n?o:o.firstChild;h.setRange(l,1,l,1),h.history.push(!1)},_addEvent:function(){const t=s.iframe?h._ww:e.element.wysiwyg;e.element.toolbar.addEventListener("mousedown",u._buttonsEventHandler,!1),e.element._menuTray.addEventListener("mousedown",u._buttonsEventHandler,!1),e.element.toolbar.addEventListener("click",u.onClick_toolbar,!1),t.addEventListener("mousedown",u.onMouseDown_wysiwyg,!1),t.addEventListener("click",u.onClick_wysiwyg,!1),t.addEventListener(a.isIE?"textinput":"input",u.onInput_wysiwyg,!1),t.addEventListener("keydown",u.onKeyDown_wysiwyg,!1),t.addEventListener("keyup",u.onKeyUp_wysiwyg,!1),t.addEventListener("paste",u.onPaste_wysiwyg,!1),t.addEventListener("copy",u.onCopy_wysiwyg,!1),t.addEventListener("cut",u.onCut_wysiwyg,!1),t.addEventListener("drop",u.onDrop_wysiwyg,!1),t.addEventListener("scroll",u.onScroll_wysiwyg,!1),t.addEventListener("focus",u.onFocus_wysiwyg,!1),t.addEventListener("blur",u.onBlur_wysiwyg,!1),u._lineBreakerBind={a:u._onLineBreak.bind(""),t:u._onLineBreak.bind("t"),b:u._onLineBreak.bind("b")},t.addEventListener("mousemove",u.onMouseMove_wysiwyg,!1),h._lineBreakerButton.addEventListener("mousedown",u._onMouseDown_lineBreak,!1),h._lineBreakerButton.addEventListener("click",u._lineBreakerBind.a,!1),e.element.lineBreaker_t.addEventListener("mousedown",u._lineBreakerBind.t,!1),e.element.lineBreaker_b.addEventListener("mousedown",u._lineBreakerBind.b,!1),h.plugins.table&&t.addEventListener("touchstart",u.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),"auto"!==s.height||s.codeMirrorEditor||(e.element.code.addEventListener("keydown",u._codeViewAutoHeight,!1),e.element.code.addEventListener("keyup",u._codeViewAutoHeight,!1),e.element.code.addEventListener("paste",u._codeViewAutoHeight,!1)),e.element.resizingBar&&(/\d+/.test(s.height)&&s.resizeEnable?e.element.resizingBar.addEventListener("mousedown",u.onMouseDown_resizingBar,!1):a.addClass(e.element.resizingBar,"se-resizing-none")),u._setResponsiveToolbar(),r.removeEventListener("resize",u.onResize_window),r.removeEventListener("scroll",u.onScroll_window),r.addEventListener("resize",u.onResize_window,!1),s.stickyToolbar>-1&&r.addEventListener("scroll",u.onScroll_window,!1)},_removeEvent:function(){const t=s.iframe?h._ww:e.element.wysiwyg;e.element.toolbar.removeEventListener("mousedown",u._buttonsEventHandler),e.element._menuTray.removeEventListener("mousedown",u._buttonsEventHandler),e.element.toolbar.removeEventListener("click",u.onClick_toolbar),t.removeEventListener("mousedown",u.onMouseDown_wysiwyg),t.removeEventListener("click",u.onClick_wysiwyg),t.removeEventListener(a.isIE?"textinput":"input",u.onInput_wysiwyg),t.removeEventListener("keydown",u.onKeyDown_wysiwyg),t.removeEventListener("keyup",u.onKeyUp_wysiwyg),t.removeEventListener("paste",u.onPaste_wysiwyg),t.removeEventListener("copy",u.onCopy_wysiwyg),t.removeEventListener("cut",u.onCut_wysiwyg),t.removeEventListener("drop",u.onDrop_wysiwyg),t.removeEventListener("scroll",u.onScroll_wysiwyg),t.removeEventListener("mousemove",u.onMouseMove_wysiwyg),h._lineBreakerButton.removeEventListener("mousedown",u._onMouseDown_lineBreak),h._lineBreakerButton.removeEventListener("click",u._lineBreakerBind.a),e.element.lineBreaker_t.removeEventListener("mousedown",u._lineBreakerBind.t),e.element.lineBreaker_b.removeEventListener("mousedown",u._lineBreakerBind.b),u._lineBreakerBind=null,t.removeEventListener("touchstart",u.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),t.removeEventListener("focus",u.onFocus_wysiwyg),t.removeEventListener("blur",u.onBlur_wysiwyg),e.element.code.removeEventListener("keydown",u._codeViewAutoHeight),e.element.code.removeEventListener("keyup",u._codeViewAutoHeight),e.element.code.removeEventListener("paste",u._codeViewAutoHeight),e.element.resizingBar&&e.element.resizingBar.removeEventListener("mousedown",u.onMouseDown_resizingBar),r.removeEventListener("resize",u.onResize_window),r.removeEventListener("scroll",u.onScroll_window)},_setResponsiveToolbar:function(){if(0===o.length)return void(o=null);u._responsiveCurrentSize="default";const e=u._responsiveButtonSize=[],t=u._responsiveButtons={default:o[0]};for(let i,n,s=1,l=o.length;s<l;s++)n=o[s],i=1*n[0],e.push(i),t[i]=n[1];e.sort((function(e,t){return e-t})).unshift("default")}},d={core:h,util:a,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(t){h.submenuOff(),h.containerOff(),h.moreLayerOff();const i=A._createToolBar(l,t,h.plugins,s);o=i.responsiveButtons,u._setResponsiveToolbar(),e.element.toolbar.replaceChild(i._buttonTray,e.element._buttonTray);const n=z(e.element.originElement,h._getConstructed(e.element),s);e.element=n.element,e.tool=n.tool,s.iframe&&(e.element.wysiwyg=h._wd.body),h.recoverButtonStates(),h._cachingButtons(),h.history._resetCachingButton(),h.hasFocus&&u._applyTagEffects(),h.isReadOnly&&a.setDisabledButtons(!0,h.resizingDisabledButtons),"function"==typeof d.onSetToolbarButtons&&d.onSetToolbarButtons(i._buttonTray.querySelectorAll("button"),h)},setOptions:function(l){u._removeEvent(),h._resetComponents(),a.removeClass(h._styleCommandMap.showBlocks,"active"),a.removeClass(h._styleCommandMap.codeView,"active"),h._variable.isCodeView=!1,h._iframeAuto=null,h.plugins=l.plugins||h.plugins;const c=[s,l].reduce((function(e,t){for(let i in t)if(a.hasOwn(t,i))if("plugins"===i&&t[i]&&e[i]){let n=e[i],s=t[i];n=n.length?n:r.Object.keys(n).map((function(e){return n[e]})),s=s.length?s:r.Object.keys(s).map((function(e){return s[e]})),e[i]=s.filter((function(e){return-1===n.indexOf(e)})).concat(n)}else e[i]=t[i];return e}),{}),d=e.element,p=d.wysiwyg.innerHTML,g=A._setOptions(c,e,s);g.callButtons&&(t=g.callButtons,h.initPlugins={}),g.plugins&&(h.plugins=i=g.plugins),0===d._menuTray.children.length&&(this._menuTray={}),o=g.toolbar.responsiveButtons,h.options=s=c,h.lang=n=s.lang,s.iframe&&d.wysiwygFrame.addEventListener("load",(function(){a._setIframeDocument(this,s),h._setOptionsInit(d,p)})),d.editorArea.appendChild(d.wysiwygFrame),s.iframe||h._setOptionsInit(d,p)},setDefaultStyle:function(t){const i=s._editorStyles=a._setDefaultOptionStyle(s,t),n=e.element;n.topArea.style.cssText=i.top,n.code.style.cssText=s._editorStyles.frame,n.code.style.display="none","auto"===s.height?n.code.style.overflow="hidden":n.code.style.overflow="",s.iframe?(n.wysiwygFrame.style.cssText=i.frame,n.wysiwyg.style.cssText=i.editor):n.wysiwygFrame.style.cssText=i.frame+i.editor},noticeOpen:function(e){h.notice.open.call(h,e)},noticeClose:function(){h.notice.close.call(h)},save:function(){const t=h.getContents(!1);e.element.originElement.value=t,u.onSave_wysiwyg(t,h)},getContext:function(){return e},getContents:function(e){return h.getContents(e)},getText:function(){return e.element.wysiwyg.textContent},getCharCount:function(t){return t="string"==typeof t?t:s.charCounterType,h.getCharLength(h._charTypeHTML?e.element.wysiwyg.innerHTML:e.element.wysiwyg.textContent,t)},getImagesInfo:function(){return e.image?e.image._infoList:[]},getFilesInfo:function(t){return e[t]?e[t]._infoList:[]},insertImage:function(e){h.plugins.image&&e&&(h.initPlugins.image?h.plugins.image.submitAction.call(h,e):h.callPlugin("image",h.plugins.image.submitAction.bind(h,e),null),h.focus())},insertHTML:function(e,t,i,n){if("string"==typeof e){t||(e=h.cleanHTML(e,null,null));try{const t=l.createRange().createContextualFragment(e).childNodes;if(i){const e=h._charTypeHTML?"outerHTML":"textContent";let i="";for(let n=0,s=t.length;n<s;n++)i+=t[n][e];if(!h.checkCharCount(i,null))return}let s,o,r,c,u;for(;s=t[0];)c&&3===c.nodeType&&o&&1===o.nodeType&&a.isBreak(s)?(c=s,a.removeItem(s)):(r=h.insertNode(s,o,!1),o=r.container||r,u||(u=r),c=s);3===c.nodeType&&1===o.nodeType&&(o=c);const d=3===o.nodeType?r.endOffset||o.textContent.length:o.childNodes.length;n?h.setRange(u.container||u,u.startOffset||0,o,d):h.setRange(o,d,o,d)}catch(t){if(h.isDisabled||h.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+t),h.execCommand("insertHTML",!1,e)}}else if(a.isComponent(e))h.insertComponent(e,!1,i,!1);else{let t=null;(a.isFormatElement(e)||a.isMedia(e))&&(t=a.getFormatElement(h.getSelectionNode(),null)),h.insertNode(e,t,i)}h.effectNode=null,h.focus(),h.history.push(!1)},setContents:function(e){h.setContents(e)},appendContents:function(t){const i=h.convertContentsForEditor(t);if(h._variable.isCodeView)h._setCodeView(h._getCodeView()+"\n"+h.convertHTMLForCodeView(i,!1));else{const t=a.createElement("DIV");t.innerHTML=i;const n=e.element.wysiwyg,s=t.children;for(let e=0,t=s.length;e<t;e++)n.appendChild(s[e])}h.history.push(!1)},readOnly:function(t){h.isReadOnly=t,a.setDisabledButtons(!!t,h.resizingDisabledButtons),t?(h.controllersOff(),h.submenuActiveButton&&h.submenuActiveButton.disabled&&h.submenuOff(),h._moreLayerActiveButton&&h._moreLayerActiveButton.disabled&&h.moreLayerOff(),h.containerActiveButton&&h.containerActiveButton.disabled&&h.containerOff(),h.modalForm&&h.plugins.dialog.close.call(h),e.element.code.setAttribute("readOnly","true")):e.element.code.removeAttribute("readOnly"),s.codeMirrorEditor&&s.codeMirrorEditor.setOption("readOnly",!!t)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){const t=e.element.topArea.style;"none"===t.display&&(t.display=s.display)},hide:function(){e.element.topArea.style.display="none"},destroy:function(){h.submenuOff(),h.containerOff(),h.controllersOff(),h.notice&&h.notice.close.call(h),h.modalForm&&h.plugins.dialog.close.call(h),h.history._destroy(),u._removeEvent(),a.removeItem(e.element.toolbar),a.removeItem(e.element.topArea);for(let e in h.functions)a.hasOwn(h,e)&&delete h.functions[e];for(let e in h)a.hasOwn(h,e)&&delete h[e];for(let e in u)a.hasOwn(u,e)&&delete u[e];for(let t in e)a.hasOwn(e,t)&&delete e[t];for(let e in t)a.hasOwn(t,e)&&delete t[e];for(let e in this)a.hasOwn(this,e)&&delete this[e]},toolbar:{disable:function(){h.submenuOff(),h.moreLayerOff(),h.containerOff(),e.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){e.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){h._isInline?u._showToolbarInline():(e.element.toolbar.style.display="",e.element._stickyDummy.style.display="")},hide:function(){h._isInline?u._hideToolbar():(e.element.toolbar.style.display="none",e.element._stickyDummy.style.display="none")}},wysiwyg:{disable:function(){h.controllersOff(),h.modalForm&&h.plugins.dialog.close.call(h),e.element.wysiwyg.setAttribute("contenteditable",!1),h.isDisabled=!0,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!0):e.element.code.setAttribute("disabled","disabled")},enable:function(){e.element.wysiwyg.setAttribute("contenteditable",!0),h.isDisabled=!1,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!1):e.element.code.removeAttribute("disabled")}}};h.functions=d,h.options=s;let p=e.element,g=p.originElement,f=p.topArea;return g.style.display="none",f.style.display="block",s.iframe&&p.wysiwygFrame.addEventListener("load",(function(){a._setIframeDocument(this,s),h._editorInit(!1,s.value),s.value=null})),"object"==typeof g.nextElementSibling?g.parentNode.insertBefore(f,g.nextElementSibling):g.parentNode.appendChild(f),p.editorArea.appendChild(p.wysiwygFrame),p=g=f=null,s.iframe||(h._editorInit(!1,s.value),s.value=null),d}(z(n,s.constructed,s.options),s.pluginCallButtons,s.plugins,s.options.lang,t,s._responsiveButtons)}};window.SUNEDITOR||Object.defineProperty(window,"SUNEDITOR",{enumerable:!0,writable:!1,configurable:!1,value:B.init({plugins:T})})},ZED3:function(e,t,i){"use strict";var n,s;n="undefined"!=typeof window?window:this,s=function(e,t){const i={name:"component",set_container:function(e,t){const i=this.util.createElement("DIV");return i.className="se-component "+t,i.setAttribute("contenteditable",!1),i.appendChild(e),i},set_cover:function(e){const t=this.util.createElement("FIGURE");return t.appendChild(e),t},create_caption:function(){const e=this.util.createElement("FIGCAPTION");return e.setAttribute("contenteditable",!0),e.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",e}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=n.document?s(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return s(e)}:s(n)},ee5k:function(e,t,i){"use strict";var n,s;n="undefined"!=typeof window?window:this,s=function(e,t){const i={name:"resizing",add:function(e){const t=e.icons,i=e.context;i.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:t.align_justify,left:t.align_left,right:t.align_right,center:t.align_center}};let n=this.setController_resize(e);i.resizing.resizeContainer=n,i.resizing.resizeDiv=n.querySelector(".se-modal-resize"),i.resizing.resizeDot=n.querySelector(".se-resize-dot"),i.resizing.resizeDisplay=n.querySelector(".se-resize-display");let s=this.setController_button(e);i.resizing.resizeButton=s;let o=i.resizing.resizeHandles=i.resizing.resizeDot.querySelectorAll("span");i.resizing.resizeButtonGroup=s.querySelector("._se_resizing_btn_group"),i.resizing.rotationButtons=s.querySelectorAll("._se_resizing_btn_group ._se_rotation"),i.resizing.percentageButtons=s.querySelectorAll("._se_resizing_btn_group ._se_percentage"),i.resizing.alignMenu=s.querySelector(".se-resizing-align-list"),i.resizing.alignMenuList=i.resizing.alignMenu.querySelectorAll("button"),i.resizing.alignButton=s.querySelector("._se_resizing_align_button"),i.resizing.autoSizeButton=s.querySelector("._se_resizing_btn_group ._se_auto_size"),i.resizing.captionButton=s.querySelector("._se_resizing_caption_button"),n.addEventListener("mousedown",(function(e){e.preventDefault()})),o[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),o[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(e)),s.addEventListener("click",this.onClick_resizeButton.bind(e)),i.element.relative.appendChild(n),i.element.relative.appendChild(s),n=null,s=null,o=null},setController_resize:function(e){const t=e.util.createElement("DIV");return t.className="se-controller se-resizing-container",t.style.display="none",t.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',t},setController_button:function(e){const t=e.lang,i=e.icons,n=e.util.createElement("DIV");return n.className="se-controller se-controller-resizing",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+i.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+i.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+i.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+i.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+i.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+i.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+i.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+i.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+i.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+i.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+i.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+i.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+i.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+t.controller.remove+"</span></span></button></div>",n},_module_getSizeX:function(e,t,i,n){return t||(t=e._element),i||(i=e._cover),n||(n=e._container),t?/%$/.test(t.style.width)?(n&&this.util.getNumber(n.style.width,2)||100)+"%":t.style.width:""},_module_getSizeY:function(e,t,i,n){return t||(t=e._element),i||(i=e._cover),n||(n=e._container),n&&i?this.util.getNumber(i.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?i.style.height:/%$/.test(t.style.height)&&/%$/.test(t.style.width)?(n&&this.util.getNumber(n.style.height,2)||100)+"%":t.style.height:t&&t.style.height||""},_module_setModifyInputSize:function(e,t){const i=e._onlyPercentage&&this.context.resizing._rotateVertical;e.proportion.checked=e._proportionChecked="false"!==e._element.getAttribute("data-proportion");let n=i?"":this.plugins.resizing._module_getSizeX.call(this,e);if(n===e._defaultSizeX&&(n=""),e._onlyPercentage&&(n=this.util.getNumber(n,2)),e.inputX.value=n,t.setInputSize.call(this,"x"),!e._onlyPercentage){let t=i?"":this.plugins.resizing._module_getSizeY.call(this,e);t===e._defaultSizeY&&(t=""),e._onlyPercentage&&(t=this.util.getNumber(t,2)),e.inputY.value=t}e.inputX.disabled=!!i,e.inputY.disabled=!!i,e.proportion.disabled=!!i,t.setRatio.call(this)},_module_setInputSize:function(e,t){if(e._onlyPercentage)"x"===t&&e.inputX.value>100&&(e.inputX.value=100);else if(e.proportion.checked&&e._ratio&&/\d/.test(e.inputX.value)&&/\d/.test(e.inputY.value)){const i=e.inputX.value.replace(/\d+|\./g,"")||e.sizeUnit,n=e.inputY.value.replace(/\d+|\./g,"")||e.sizeUnit;if(i!==n)return;const s="%"===i?2:0;"x"===t?e.inputY.value=this.util.getNumber(e._ratioY*this.util.getNumber(e.inputX.value,s),s)+n:e.inputX.value=this.util.getNumber(e._ratioX*this.util.getNumber(e.inputY.value,s),s)+i}},_module_setRatio:function(e){const t=e.inputX.value,i=e.inputY.value;if(e.proportion.checked&&/\d+/.test(t)&&/\d+/.test(i)){if((t.replace(/\d+|\./g,"")||e.sizeUnit)!==(i.replace(/\d+|\./g,"")||e.sizeUnit))e._ratio=!1;else if(!e._ratio){const n=this.util.getNumber(t,0),s=this.util.getNumber(i,0);e._ratio=!0,e._ratioX=n/s,e._ratioY=s/n}}else e._ratio=!1},_module_sizeRevert:function(e){e._onlyPercentage?e.inputX.value=e._origin_w>100?100:e._origin_w:(e.inputX.value=e._origin_w,e.inputY.value=e._origin_h)},_module_saveCurrentSize:function(e){const t=this.plugins.resizing._module_getSizeX.call(this,e),i=this.plugins.resizing._module_getSizeY.call(this,e);e._element.setAttribute("data-size",t+","+i),e._videoRatio&&(e._videoRatio=i)},call_controller_resize:function(e,t){const i=this.context.resizing,n=this.context[t];i._resize_plugin=t;const s=i.resizeContainer,o=i.resizeDiv,l=this.util.getOffset(e,this.context.element.wysiwygFrame),r=i._rotateVertical=/^(90|270)$/.test(Math.abs(e.getAttribute("data-rotate")).toString()),a=r?e.offsetHeight:e.offsetWidth,c=r?e.offsetWidth:e.offsetHeight,h=l.top,u=l.left-this.context.element.wysiwygFrame.scrollLeft;s.style.top=h+"px",s.style.left=u+"px",s.style.width=a+"px",s.style.height=c+"px",o.style.top="0px",o.style.left="0px",o.style.width=a+"px",o.style.height=c+"px";let d=e.getAttribute("data-align")||"basic";d="none"===d?"basic":d;const p=this.util.getParentElement(e,this.util.isComponent),g=this.util.getParentElement(e,"FIGURE"),f=this.plugins.resizing._module_getSizeX.call(this,n,e,g,p)||"auto",m=n._onlyPercentage&&"image"===t?"":", "+(this.plugins.resizing._module_getSizeY.call(this,n,e,g,p)||"auto");this.util.changeTxt(i.resizeDisplay,this.lang.dialogBox[d]+" ("+f+m+")"),i.resizeButtonGroup.style.display=n._resizing?"":"none";const _=!n._resizing||n._resizeDotHide||n._onlyPercentage?"none":"flex",v=i.resizeHandles;for(let e=0,t=v.length;e<t;e++)v[e].style.display=_;if(n._resizing){const e=i.rotationButtons;e[0].style.display=e[1].style.display=n._rotation?"":"none"}if(n._alignHide)i.alignButton.style.display="none";else{i.alignButton.style.display="";const e=i.alignMenuList;this.util.changeElement(i.alignButton.firstElementChild,i.alignIcons[d]);for(let t=0,i=e.length;t<i;t++)e[t].getAttribute("data-value")===d?this.util.addClass(e[t],"on"):this.util.removeClass(e[t],"on")}const y=i.percentageButtons,b=/%$/.test(e.style.width)&&/%$/.test(p.style.width)?this.util.getNumber(p.style.width,0)/100+"":"";for(let e=0,t=y.length;e<t;e++)y[e].getAttribute("data-value")===b?this.util.addClass(y[e],"active"):this.util.removeClass(y[e],"active");n._captionShow?(i.captionButton.style.display="",this.util.getChildElement(e.parentNode,"figcaption")?(this.util.addClass(i.captionButton,"active"),n._captionChecked=!0):(this.util.removeClass(i.captionButton,"active"),n._captionChecked=!1)):i.captionButton.style.display="none",s.style.display="block";const w={left:0,top:50};this.options.iframe&&(w.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,w.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(i.resizeButton,s,"bottom",w),this.controllersOn(s,i.resizeButton,this.util.setDisabledButtons.bind(this.util,!1,this.resizingDisabledButtons),e,t),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),i._resize_w=a,i._resize_h=c;const x=(e.getAttribute("origin-size")||"").split(",");return i._origin_w=x[0]||e.naturalWidth,i._origin_h=x[1]||e.naturalHeight,{w:a,h:c,t:h,l:u}},_closeAlignMenu:null,openAlignMenu:function(){const e=this.context.resizing.alignButton;this.util.addClass(e,"on"),this.context.resizing.alignMenu.style.top=e.offsetTop+e.offsetHeight+"px",this.context.resizing.alignMenu.style.left=e.offsetLeft-e.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}.bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(e){e.stopPropagation();const t=e.target,i=t.getAttribute("data-command")||t.parentNode.getAttribute("data-command");if(!i)return;const n=t.getAttribute("data-value")||t.parentNode.getAttribute("data-value"),s=this.context.resizing._resize_plugin,o=this.context[s],l=o._element,r=this.plugins[s];if(e.preventDefault(),"function"!=typeof this.plugins.resizing._closeAlignMenu||(this.plugins.resizing._closeAlignMenu(),"onalign"!==i)){switch(i){case"auto":this.plugins.resizing.resetTransform.call(this,l),r.setAutoSize.call(this),this.selectComponent(l,s);break;case"percent":let e=this.plugins.resizing._module_getSizeY.call(this,o);if(this.context.resizing._rotateVertical){const t=l.getAttribute("data-percentage");t&&(e=t.split(",")[1])}this.plugins.resizing.resetTransform.call(this,l),r.setPercentSize.call(this,100*n,null!==this.util.getNumber(e,0)&&/%$/.test(e)?e:""),this.selectComponent(l,s);break;case"mirror":const t=l.getAttribute("data-rotate")||"0";let i=l.getAttribute("data-rotateX")||"",a=l.getAttribute("data-rotateY")||"";"h"===n&&!this.context.resizing._rotateVertical||"v"===n&&this.context.resizing._rotateVertical?a=a?"":"180":i=i?"":"180",l.setAttribute("data-rotateX",i),l.setAttribute("data-rotateY",a),this.plugins.resizing._setTransForm(l,t,i,a);break;case"rotate":const c=this.context.resizing,h=1*l.getAttribute("data-rotate")+1*n,u=this._w.Math.abs(h)>=360?0:h;l.setAttribute("data-rotate",u),c._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(u).toString()),this.plugins.resizing.setTransformSize.call(this,l,null,null),this.selectComponent(l,s);break;case"onalign":return void this.plugins.resizing.openAlignMenu.call(this);case"align":const d="basic"===n?"none":n;r.setAlign.call(this,d,null,null,null),this.selectComponent(l,s);break;case"caption":const p=!o._captionChecked;if(r.openModify.call(this,!0),o._captionChecked=o.captionCheckEl.checked=p,r.update_image.call(this,!1,!1,!1),p){const e=this.util.getChildElement(o._caption,(function(e){return 3===e.nodeType}));e?this.setRange(e,0,e,e.textContent.length):o._caption.focus(),this.controllersOff()}else this.selectComponent(l,s),r.openModify.call(this,!0);break;case"revert":r.setOriginSize.call(this),this.selectComponent(l,s);break;case"update":r.openModify.call(this),this.controllersOff();break;case"delete":r.destroy.call(this)}this.history.push(!1)}},resetTransform:function(e){const t=(e.getAttribute("data-size")||e.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,e.style.maxWidth="",e.style.transform="",e.style.transformOrigin="",e.setAttribute("data-rotate",""),e.setAttribute("data-rotateX",""),e.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,t[0]?t[0]:"auto",t[1]?t[1]:"",!0)},setTransformSize:function(e,t,i){let n=e.getAttribute("data-percentage");const s=this.context.resizing._rotateVertical,o=1*e.getAttribute("data-rotate");let l="";if(n&&!s)n=n.split(","),"auto"===n[0]&&"auto"===n[1]?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,n[0],n[1]);else{const n=this.util.getParentElement(e,"FIGURE"),r=t||e.offsetWidth,a=i||e.offsetHeight,c=(s?a:r)+"px",h=(s?r:a)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,r+"px",a+"px",!0),n.style.width=c,n.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":h,s){let e=r/2+"px "+r/2+"px 0",t=a/2+"px "+a/2+"px 0";l=90===o||-270===o?t:e}}e.style.transformOrigin=l,this.plugins.resizing._setTransForm(e,o.toString(),e.getAttribute("data-rotateX")||"",e.getAttribute("data-rotateY")||""),e.style.maxWidth=s?"none":"",this.plugins.resizing.setCaptionPosition.call(this,e)},_setTransForm:function(e,t,i,n){let s=(e.offsetWidth-e.offsetHeight)*(/-/.test(t)?1:-1),o="";if(/[1-9]/.test(t)&&(i||n))switch(o=i?"Y":"X",t){case"90":o=i&&n?"X":n?o:"";break;case"270":s*=-1,o=i&&n?"Y":i?o:"";break;case"-90":o=i&&n?"Y":i?o:"";break;case"-270":s*=-1,o=i&&n?"X":n?o:"";break;default:o=""}t%180==0&&(e.style.maxWidth=""),e.style.transform="rotate("+t+"deg)"+(i?" rotateX("+i+"deg)":"")+(n?" rotateY("+n+"deg)":"")+(o?" translate"+o+"("+s+"px)":"")},setCaptionPosition:function(e){const t=this.util.getChildElement(this.util.getParentElement(e,"FIGURE"),"FIGCAPTION");t&&(t.style.marginTop=(this.context.resizing._rotateVertical?e.offsetWidth-e.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(e){e.stopPropagation(),e.preventDefault();const t=this.context.resizing,i=t._resize_direction=e.target.classList[0];t._resizeClientX=e.clientX,t._resizeClientY=e.clientY,this.context.element.resizeBackground.style.display="block",t.resizeButton.style.display="none",t.resizeDiv.style.float=/l/.test(i)?"right":/r/.test(i)?"left":"none";const n=function(e){if("keydown"===e.type&&27!==e.keyCode)return;const o=t._isChange;t._isChange=!1,this.removeDocEvent("mousemove",s),this.removeDocEvent("mouseup",n),this.removeDocEvent("keydown",n),"keydown"===e.type?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,i),o&&this.history.push(!1))}.bind(this),s=this.plugins.resizing.resizing_element.bind(this,t,i,this.context[t._resize_plugin]);this.addDocEvent("mousemove",s),this.addDocEvent("mouseup",n),this.addDocEvent("keydown",n)},resizing_element:function(e,t,i,n){const s=n.clientX,o=n.clientY;let l=i._element_w,r=i._element_h;const a=i._element_w+(/r/.test(t)?s-e._resizeClientX:e._resizeClientX-s),c=i._element_h+(/b/.test(t)?o-e._resizeClientY:e._resizeClientY-o),h=i._element_h/i._element_w*a;/t/.test(t)&&(e.resizeDiv.style.top=i._element_h-(/h/.test(t)?c:h)+"px"),/l/.test(t)&&(e.resizeDiv.style.left=i._element_w-a+"px"),/r|l/.test(t)&&(e.resizeDiv.style.width=a+"px",l=a),/^(t|b)[^h]$/.test(t)?(e.resizeDiv.style.height=h+"px",r=h):/^(t|b)h$/.test(t)&&(e.resizeDiv.style.height=c+"px",r=c),e._resize_w=l,e._resize_h=r,this.util.changeTxt(e.resizeDisplay,this._w.Math.round(l)+" x "+this._w.Math.round(r)),e._isChange=!0},cancel_controller_resize:function(e){const t=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let i=this._w.Math.round(t?this.context.resizing._resize_h:this.context.resizing._resize_w),n=this._w.Math.round(t?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!t&&!/%$/.test(i)){const e=16,t=this.context.element.wysiwygFrame.clientWidth-2*e-2;this.util.getNumber(i,0)>t&&(n=this._w.Math.round(n/i*t),i=t)}const s=this.context.resizing._resize_plugin;this.plugins[s].setSize.call(this,i,n,!1,e),t&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,i,n),this.selectComponent(this.context[s]._element,s)}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=n.document?s(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return s(e)}:s(n)},"gjS+":function(e,t,i){"use strict";var n,s;n="undefined"!=typeof window?window:this,s=function(e,t){const i={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(e){return!/IMG/i.test(e)||!/FIGURE/i.test(e.parentElement.nodeName)||!/FIGURE/i.test(e.parentElement.parentElement.nodeName)},upload:function(e,t,i,n,s){this.showLoading();const o=this.plugins.fileManager,l=o._xmlHttp=this.util.getXMLHttpRequest();if(l.onreadystatechange=o._callBackUpload.bind(this,l,n,s),l.open("post",e,!0),null!==t&&"object"==typeof t&&this._w.Object.keys(t).length>0)for(let e in t)l.setRequestHeader(e,t[e]);l.send(i)},_callBackUpload:function(e,t,i){if(4===e.readyState)if(200===e.status)try{t(e)}catch(e){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const t=e.responseText?JSON.parse(e.responseText):e;if("function"!=typeof i||i("",t,this)){const i="[SUNEDITOR.fileManager.upload.serverException] status: "+e.status+", response: "+(t.errorMessage||e.responseText);throw this.functions.noticeOpen(i),Error(i)}}},checkInfo:function(e,t,i,n,s){let o=[];for(let e=0,i=t.length;e<i;e++)o=o.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(t[e]+':not([data-se-embed="true"])')));const l=this.plugins.fileManager,r=this.context[e],a=r._infoList,c=l.setInfo.bind(this);if(o.length===a.length){if(this._componentsInfoReset){for(let t=0,n=o.length;t<n;t++)c(e,o[t],i,null,s);return}{let e=!1;for(let t,i=0,n=a.length;i<n;i++)if(t=a[i],0===o.filter((function(e){return t.src===e.src&&t.index.toString()===e.getAttribute("data-index")})).length){e=!0;break}if(!e)return}}const h=s?this.context.resizing._resize_plugin:"";s&&(this.context.resizing._resize_plugin=e);const u=[],d=[];for(let e=0,t=a.length;e<t;e++)d[e]=a[e].index;for(let t,a=0,h=o.length;a<h;a++)t=o[a],this.util.getParentElement(t,this.util.isMediaComponent)&&l._checkMediaComponent(t)?!t.getAttribute("data-index")||d.indexOf(1*t.getAttribute("data-index"))<0?(u.push(r._infoIndex),t.removeAttribute("data-index"),c(e,t,i,null,s)):u.push(1*t.getAttribute("data-index")):(u.push(r._infoIndex),n(t));for(let e,t=0;t<a.length;t++)e=a[t].index,u.indexOf(e)>-1||(a.splice(t,1),"function"==typeof i&&i(null,e,"delete",null,0,this),t--);s&&(this.context.resizing._resize_plugin=h)},setInfo:function(e,t,i,n,s){const o=s?this.context.resizing._resize_plugin:"";s&&(this.context.resizing._resize_plugin=e);const l=this.plugins[e],r=this.context[e],a=r._infoList;let c=t.getAttribute("data-index"),h=null,u="";if(n||(n={name:t.getAttribute("data-file-name")||("string"==typeof t.src?t.src.split("/").pop():""),size:t.getAttribute("data-file-size")||0}),!c||this._componentsInfoInit)u="create",c=r._infoIndex++,t.setAttribute("data-index",c),t.setAttribute("data-file-name",n.name),t.setAttribute("data-file-size",n.size),h={src:t.src,index:1*c,name:n.name,size:n.size},a.push(h);else{u="update",c*=1;for(let e=0,t=a.length;e<t;e++)if(c===a[e].index){h=a[e];break}h||(c=r._infoIndex++,h={index:c},a.push(h)),h.src=t.src,h.name=t.getAttribute("data-file-name"),h.size=1*t.getAttribute("data-file-size")}if(h.element=t,h.delete=l.destroy.bind(this,t),h.select=function(e){e.scrollIntoView(!0),this._w.setTimeout(l.select.bind(this,e))}.bind(this,t),s){if(!t.getAttribute("origin-size")&&t.naturalWidth&&t.setAttribute("origin-size",t.naturalWidth+","+t.naturalHeight),!t.getAttribute("data-origin")){const e=this.util.getParentElement(t,this.util.isMediaComponent),i=this.util.getParentElement(t,"FIGURE"),n=this.plugins.resizing._module_getSizeX.call(this,r,t,i,e),s=this.plugins.resizing._module_getSizeY.call(this,r,t,i,e);t.setAttribute("data-origin",n+","+s),t.setAttribute("data-size",n+","+s)}if(!t.style.width){const e=(t.getAttribute("data-size")||t.getAttribute("data-origin")||"").split(",");l.onModifyMode.call(this,t,null),l.applySize.call(this,e[0],e[1])}this.context.resizing._resize_plugin=o}"function"==typeof i&&i(t,c,u,h,--r._uploadFileLength<0?0:r._uploadFileLength,this)},deleteInfo:function(e,t,i){if(t>=0){const n=this.context[e]._infoList;for(let e=0,s=n.length;e<s;e++)if(t===n[e].index)return n.splice(e,1),void("function"==typeof i&&i(null,t,"delete",null,0,this))}},resetInfo:function(e,t){const i=this.context[e];if("function"==typeof t){const e=i._infoList;for(let i=0,n=e.length;i<n;i++)t(null,e[i].index,"delete",null,0,this)}i._infoList=[],i._infoIndex=0}};return void 0===t&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:i})),i},"object"==typeof e.exports?e.exports=n.document?s(n,!0):function(e){if(!e.document)throw new Error("SUNEDITOR_MODULES a window with a document");return s(e)}:s(n)}}),function(e,t,i,n){function s(t,i){this.settings=null,this.options=e.extend({},s.Defaults,i),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy((function(t,i){this._handlers[i]=e.proxy(this[i],this)}),this)),e.each(s.Plugins,e.proxy((function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)}),this)),e.each(s.Workers,e.proxy((function(t,i){this._pipe.push({filter:i.filter,run:e.proxy(i.run,this)})}),this)),this.setup(),this.initialize()}s.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},s.Width={Default:"default",Inner:"inner",Outer:"outer"},s.Type={Event:"event",State:"state"},s.Plugins={},s.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,s={width:"auto","margin-left":n?t:"","margin-right":n?"":t};!i&&this.$stage.children().css(s),e.css=s}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,s=!this.settings.autoWidth,o=[];for(e.items={merge:!1,width:t};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,e.items.merge=i>1||e.items.merge,o[n]=s?t*i:this._items[n].width();this._widths=o}},{filter:["items","settings"],run:function(){var t=[],i=this._items,n=this.settings,s=Math.max(2*n.items,4),o=2*Math.ceil(i.length/2),l=n.loop&&i.length?n.rewind?s:Math.max(s,o):0,r="",a="";for(l/=2;l>0;)t.push(this.normalize(t.length/2,!0)),r+=i[t[t.length-1]][0].outerHTML,t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),a=i[t[t.length-1]][0].outerHTML+a,l-=1;this._clones=t,e(r).addClass("cloned").appendTo(this.$stage),e(a).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,i=-1,n=0,s=0,o=[];++i<t;)n=o[i-1]||0,s=this._widths[this.relative(i)]+this.settings.margin,o.push(n+s*e);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],n.eq(t).css(e.css);else i&&(e.css.width=e.items.width,n.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,i,n,s=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,l=this.coordinates(this.current())+o,r=l+this.width()*s,a=[];for(i=0,n=this._coordinates.length;i<n;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+o*s,(this.op(e,"<=",l)&&this.op(e,">",r)||this.op(t,"<",l)&&this.op(t,">",r))&&a.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+a.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],s.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(e("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},s.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map((function(t){return e(t)})),this._mergers=this._items.map((function(){return 1})),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},s.prototype.initialize=function(){var e,t,i;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(e=this.$element.find("img"),t=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:n,i=this.$element.children(t).width(),e.length&&i<=0&&this.preloadAutoWidthImages(e));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},s.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},s.prototype.setup=function(){var t=this.viewport(),i=this.options.responsive,n=-1,s=null;i?(e.each(i,(function(e){e<=t&&e>n&&(n=Number(e))})),"function"==typeof(s=e.extend({},this.options,i[n])).stagePadding&&(s.stagePadding=s.stagePadding()),delete s.responsive,s.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):s=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:s}}),this._breakpoint=n,this.settings=s,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},s.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},s.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data},s.prototype.update=function(){for(var t=0,i=this._pipe.length,n=e.proxy((function(e){return this[e]}),this._invalidated),s={};t<i;)(this._invalidated.all||e.grep(this._pipe[t].filter,n).length>0)&&this._pipe[t].run(s),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},s.prototype.width=function(e){switch(e=e||s.Width.Default){case s.Width.Inner:case s.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},s.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},s.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},s.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},s.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",(function(){return!1}))),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},s.prototype.onDragStart=function(t){var n=null;3!==t.which&&(e.support.transform?n={x:(n=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===n.length?12:4],y:n[16===n.length?13:5]}:(n=this.$stage.position(),n={x:this.settings.rtl?n.left+this.$stage.width()-this.width()+this.settings.margin:n.left,y:n.top}),this.is("animating")&&(e.support.transform?this.animate(n.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this.pointer(t),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy((function(t){var n=this.difference(this._drag.pointer,this.pointer(t));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(n.x)<Math.abs(n.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))}),this)))},s.prototype.onDragMove=function(e){var t=null,i=null,n=null,s=this.difference(this._drag.pointer,this.pointer(e)),o=this.difference(this._drag.stage.start,s);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,o.x=((o.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*s.x/5:0,o.x=Math.max(Math.min(o.x,t+n),i+n)),this._drag.stage.current=o,this.animate(o.x))},s.prototype.onDragEnd=function(t){var n=this.difference(this._drag.pointer,this.pointer(t)),s=this._drag.stage.current,o=n.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(s.x,0!==n.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",(function(){return!1}))),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},s.prototype.closest=function(t,i){var s=-1,o=this.width(),l=this.coordinates();return this.settings.freeDrag||e.each(l,e.proxy((function(e,r){return"left"===i&&t>r-30&&t<r+30?s=e:"right"===i&&t>r-o-30&&t<r-o+30?s=e+1:this.op(t,"<",r)&&this.op(t,">",l[e+1]!==n?l[e+1]:r-o)&&(s="left"===i?e+1:e),-1===s}),this)),this.settings.loop||(this.op(t,">",l[this.minimum()])?s=t=this.minimum():this.op(t,"<",l[this.maximum()])&&(s=t=this.maximum())),s},s.prototype.animate=function(t){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},s.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},s.prototype.current=function(e){if(e===n)return this._current;if(0===this._items.length)return n;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==n&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},s.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,(function(e,t){return t}))},s.prototype.reset=function(e){(e=this.normalize(e))!==n&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},s.prototype.normalize=function(e,t){var i=this._items.length,s=t?0:this._clones.length;return!this.isNumeric(e)||i<1?e=n:(e<0||e>=i+s)&&(e=((e-s/2)%i+i)%i+s/2),e},s.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},s.prototype.maximum=function(e){var t,i,n,s=this.settings,o=this._coordinates.length;if(s.loop)o=this._clones.length/2+this._items.length-1;else if(s.autoWidth||s.merge){if(t=this._items.length)for(i=this._items[--t].width(),n=this.$element.width();t--&&!((i+=this._items[t].width()+this.settings.margin)>n););o=t+1}else o=s.center?this._items.length-1:this._items.length-s.items;return e&&(o-=this._clones.length/2),Math.max(o,0)},s.prototype.minimum=function(e){return e?0:this._clones.length/2},s.prototype.items=function(e){return e===n?this._items.slice():(e=this.normalize(e,!0),this._items[e])},s.prototype.mergers=function(e){return e===n?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},s.prototype.clones=function(t){var i=this._clones.length/2,s=i+this._items.length,o=function(e){return e%2==0?s+e/2:i-(e+1)/2};return t===n?e.map(this._clones,(function(e,t){return o(t)})):e.map(this._clones,(function(e,i){return e===t?o(i):null}))},s.prototype.speed=function(e){return e!==n&&(this._speed=e),this._speed},s.prototype.coordinates=function(t){var i,s=1,o=t-1;return t===n?e.map(this._coordinates,e.proxy((function(e,t){return this.coordinates(t)}),this)):(this.settings.center?(this.settings.rtl&&(s=-1,o=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[o]||0))/2*s):i=this._coordinates[o]||0,i=Math.ceil(i))},s.prototype.duration=function(e,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},s.prototype.to=function(e,t){var i=this.current(),n=null,s=e-this.relative(i),o=(s>0)-(s<0),l=this._items.length,r=this.minimum(),a=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>l/2&&(s+=-1*o*l),(n=(((e=i+s)-r)%l+l)%l+r)!==e&&n-s<=a&&n-s>0&&(i=n-s,e=n,this.reset(i))):this.settings.rewind?e=(e%(a+=1)+a)%a:e=Math.max(r,Math.min(a,e)),this.speed(this.duration(i,e,t)),this.current(e),this.isVisible()&&this.update()},s.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},s.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},s.prototype.onTransitionEnd=function(e){if(e!==n&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},s.prototype.viewport=function(){var n;return this.options.responsiveBaseElement!==t?n=e(this.options.responsiveBaseElement).width():t.innerWidth?n=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?n=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),n},s.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter((function(){return 1===this.nodeType})).each(e.proxy((function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)}),this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},s.prototype.add=function(t,i){var s=this.relative(this._current);i=i===n?this._items.length:this.normalize(i,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:i}),t=this.prepare(t),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[i-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(t),this._items.splice(i,0,t),this._mergers.splice(i,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:t,position:i})},s.prototype.remove=function(e){(e=this.normalize(e,!0))!==n&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},s.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy((function(t,i){this.enter("pre-loading"),i=e(i),e(new Image).one("load",e.proxy((function(e){i.attr("src",e.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()}),this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))}),this))},s.prototype.destroy=function(){for(var n in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},s.prototype.op=function(e,t,i){var n=this.settings.rtl;switch(t){case"<":return n?e>i:e<i;case">":return n?e<i:e>i;case">=":return n?e<=i:e>=i;case"<=":return n?e>=i:e<=i}},s.prototype.on=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i)},s.prototype.off=function(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i)},s.prototype.trigger=function(t,i,n,o,l){var r={item:{count:this._items.length,index:this.current()}},a=e.camelCase(e.grep(["on",t,n],(function(e){return e})).join("-").toLowerCase()),c=e.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},r,i));return this._supress[t]||(e.each(this._plugins,(function(e,t){t.onTrigger&&t.onTrigger(c)})),this.register({type:s.Type.Event,name:t}),this.$element.trigger(c),this.settings&&"function"==typeof this.settings[a]&&this.settings[a].call(this,c)),c},s.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy((function(e,t){this._states.current[t]===n&&(this._states.current[t]=0),this._states.current[t]++}),this))},s.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy((function(e,t){this._states.current[t]--}),this))},s.prototype.register=function(t){if(t.type===s.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var i=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!i||!i.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:i.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===s.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy((function(i,n){return e.inArray(i,this._states.tags[t.name])===n}),this)))},s.prototype.suppress=function(t){e.each(t,e.proxy((function(e,t){this._supress[t]=!0}),this))},s.prototype.release=function(t){e.each(t,e.proxy((function(e,t){delete this._supress[t]}),this))},s.prototype.pointer=function(e){var i={x:null,y:null};return(e=(e=e.originalEvent||e||t.event).touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i},s.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},s.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=e(this),o=n.data("owl.carousel");o||(o=new s(this,"object"==typeof t&&t),n.data("owl.carousel",o),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],(function(t,i){o.register({type:s.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",e.proxy((function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))}),o))}))),"string"==typeof t&&"_"!==t.charAt(0)&&o[t].apply(o,i)}))},e.fn.owlCarousel.Constructor=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()}),this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoRefresh:!0,autoRefreshInterval:500},s.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},s.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},s.prototype.destroy=function(){var e,i;for(e in t.clearInterval(this._interval),this._handlers)this._core.$element.off(e,this._handlers[e]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy((function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var i=this._core.settings,n=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&-1*n||0,o=(t.property&&undefined!==t.property.value?t.property.value:this._core.current())+s,l=this._core.clones().length,r=e.proxy((function(e,t){this.load(t)}),this);for(i.lazyLoadEager>0&&(n+=i.lazyLoadEager,i.loop&&(o-=i.lazyLoadEager,n++));s++<n;)this.load(l/2+this._core.relative(o)),l&&e.each(this._core.clones(this._core.relative(o)),r),o++}}),this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={lazyLoad:!1,lazyLoadEager:0},s.prototype.load=function(i){var n=this._core.$stage.children().eq(i),s=n&&n.find(".owl-lazy");!s||e.inArray(n.get(0),this._loaded)>-1||(s.each(e.proxy((function(i,n){var s,o=e(n),l=t.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src")||o.attr("data-srcset");this._core.trigger("load",{element:o,url:l},"lazy"),o.is("img")?o.one("load.owl.lazy",e.proxy((function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:l},"lazy")}),this)).attr("src",l):o.is("source")?o.one("load.owl.lazy",e.proxy((function(){this._core.trigger("loaded",{element:o,url:l},"lazy")}),this)).attr("srcset",l):((s=new Image).onload=e.proxy((function(){o.css({"background-image":'url("'+l+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:l},"lazy")}),this),s.src=l)}),this)),this._loaded.push(n.get(0)))},s.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(i){this._core=i,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&this.update()}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&"position"===e.property.name&&this.update()}),this),"loaded.owl.lazy":e.proxy((function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()}),this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var n=this;e(t).on("load",(function(){n._core.settings.autoHeight&&n.update()})),e(t).resize((function(){n._core.settings.autoHeight&&(null!=n._intervalId&&clearTimeout(n._intervalId),n._intervalId=setTimeout((function(){n.update()}),250))}))};s.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},s.prototype.update=function(){var t=this._core._current,i=t+this._core.settings.items,n=this._core.settings.lazyLoad,s=this._core.$stage.children().toArray().slice(t,i),o=[],l=0;e.each(s,(function(t,i){o.push(e(i).height())})),(l=Math.max.apply(null,o))<=1&&n&&this._previousHeight&&(l=this._previousHeight),this._previousHeight=l,this._core.$stage.parent().height(l).addClass(this._core.settings.autoHeightClass)},s.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})}),this),"resize.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()}),this),"refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()}),this),"prepared.owl.carousel":e.proxy((function(t){if(t.namespace){var i=e(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,e(t.content)))}}),this)},this._core.options=e.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy((function(e){this.play(e)}),this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(e,t){var i=e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube",n=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),s=e.attr("data-width")||this._core.settings.videoWidth,o=e.attr("data-height")||this._core.settings.videoHeight,l=e.attr("href");if(!l)throw new Error("Missing video URL.");if((n=l.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(n[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(n[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[l]={type:i,id:n,width:s,height:o},t.attr("data-video",l),this.thumbnail(e,this._videos[l])},s.prototype.thumbnail=function(t,i){var n,s,o=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",l=t.find("img"),r="src",a="",c=this._core.settings,h=function(i){'<div class="owl-video-play-icon"></div>',n=c.lazyLoad?e("<div/>",{class:"owl-video-tn "+a,srcType:i}):e("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+i+")"}),t.after(n),t.after('<div class="owl-video-play-icon"></div>')};if(t.wrap(e("<div/>",{class:"owl-video-wrapper",style:o})),this._core.settings.lazyLoad&&(r="data-src",a="owl-lazy"),l.length)return h(l.attr(r)),l.remove(),!1;"youtube"===i.type?(s="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",h(s)):"vimeo"===i.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){s=e[0].thumbnail_large,h(s)}}):"vzaar"===i.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){s=e.framegrab_url,h(s)}})},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(t){var i,n=e(t.target).closest("."+this._core.settings.itemClass),s=this._videos[n.attr("data-video")],o=s.width||"100%",l=s.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),(i=e('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",l),i.attr("width",o),"youtube"===s.type?i.attr("src","//www.youtube.com/embed/"+s.id+"?autoplay=1&rel=0&v="+s.id):"vimeo"===s.type?i.attr("src","//player.vimeo.com/video/"+s.id+"?autoplay=1"):"vzaar"===s.type&&i.attr("src","//view.vzaar.com/"+s.id+"/player?autoplay=true"),e(i).wrap('<div class="owl-video-frame" />').insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var e,t;for(e in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this.core=t,this.core.options=e.extend({},s.Defaults,this.core.options),this.swapping=!0,this.previous=n,this.next=n,this.handlers={"change.owl.carousel":e.proxy((function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)}),this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy((function(e){e.namespace&&(this.swapping="translated"==e.type)}),this),"translate.owl.carousel":e.proxy((function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()}),this)},this.core.$element.on(this.handlers)};s.Defaults={animateOut:!1,animateIn:!1},s.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,i=e.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),s=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,l=this.core.settings.animateOut;this.core.current()!==this.previous&&(l&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(e.support.animation.end,i).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(l)),o&&s.one(e.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},s.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},s.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var s=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":e.proxy((function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._paused&&(this._time=0)}),this),"initialized.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.autoplay&&this.play()}),this),"play.owl.autoplay":e.proxy((function(e,t,i){e.namespace&&this.play(t,i)}),this),"stop.owl.autoplay":e.proxy((function(e){e.namespace&&this.stop()}),this),"mouseover.owl.autoplay":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"mouseleave.owl.autoplay":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()}),this),"touchstart.owl.core":e.proxy((function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()}),this),"touchend.owl.core":e.proxy((function(){this._core.settings.autoplayHoverPause&&this.play()}),this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},s.Defaults,this._core.options)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype._next=function(n){this._call=t.setTimeout(e.proxy(this._next,this,n),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},s.prototype.read=function(){return(new Date).getTime()-this._time},s.prototype.play=function(i,n){var s;this._core.is("rotating")||this._core.enter("rotating"),i=i||this._core.settings.autoplayTimeout,s=Math.min(this._time%(this._timeout||i),i),this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call),this._time+=this.read()%i-s,this._timeout=i,this._call=t.setTimeout(e.proxy(this._next,this,n),i-s)},s.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))},s.prototype.destroy=function(){var e,t;for(e in this.stop(),this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var s=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy((function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")}),this),"added.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())}),this),"remove.owl.carousel":e.proxy((function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)}),this),"changed.owl.carousel":e.proxy((function(e){e.namespace&&"position"==e.property.name&&this.draw()}),this),"initialized.owl.carousel":e.proxy((function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))}),this),"refreshed.owl.carousel":e.proxy((function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))}),this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers)};s.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},s.prototype.initialize=function(){var t,i=this._core.settings;for(t in this._controls.$relative=(i.navContainer?e(i.navContainer):e("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy((function(e){this.prev(i.navSpeed)}),this)),this._controls.$next=e("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy((function(e){this.next(i.navSpeed)}),this)),i.dotsData||(this._templates=[e('<button role="button">').addClass(i.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?e(i.dotsContainer):e("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",e.proxy((function(t){var n=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(n,i.dotsSpeed)}),this)),this._overrides)this._core[t]=e.proxy(this[t],this)},s.prototype.destroy=function(){var e,t,i,n,s;for(e in s=this._core.settings,this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)"$relative"===t&&s.navContainer?this._controls[t].html(""):this._controls[t].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},s.prototype.update=function(){var e,t,i=this._core.clones().length/2,n=i+this._core.items().length,s=this._core.maximum(!0),o=this._core.settings,l=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],e=i,t=0,0;e<n;e++){if(t>=l||0===t){if(this._pages.push({start:Math.min(s,e-i),end:e-i+l-1}),Math.min(s,e-i)===s)break;t=0}t+=this._core.mergers(this._core.relative(e))}},s.prototype.draw=function(){var t,i=this._core.settings,n=this._core.items().length<=i.items,s=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||n),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&s<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&s>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||n),i.dots&&(t=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},s.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},s.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy((function(e,i){return e.start<=t&&e.end>=t}),this)).pop()},s.prototype.getPosition=function(t){var i,n,s=this._core.settings;return"page"==s.slideBy?(i=e.inArray(this.current(),this._pages),n=this._pages.length,t?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,t?i+=s.slideBy:i-=s.slideBy),i},s.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},s.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},s.prototype.to=function(t,i,n){var s;!n&&this._pages.length?(s=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%s+s)%s].start,i)):e.proxy(this._overrides.to,this._core)(t,i)},e.fn.owlCarousel.Constructor.Plugins.Navigation=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var s=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy((function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")}),this),"prepared.owl.carousel":e.proxy((function(t){if(t.namespace){var i=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=t.content}}),this),"changed.owl.carousel":e.proxy((function(i){if(i.namespace&&"position"===i.property.name){var n=this._core.items(this._core.relative(this._core.current())),s=e.map(this._hashes,(function(e,t){return e===n?t:null})).join();if(!s||t.location.hash.slice(1)===s)return;t.location.hash=s}}),this)},this._core.options=e.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy((function(e){var i=t.location.hash.substring(1),n=this._core.$stage.children(),s=this._hashes[i]&&n.index(this._hashes[i]);undefined!==s&&s!==this._core.current()&&this._core.to(this._core.relative(s),!1,!0)}),this))};s.Defaults={URLhashListener:!1},s.prototype.destroy=function(){var i,n;for(i in e(t).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=s}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){function s(t,i){var n=!1,s=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+r.join(s+" ")+s).split(" "),(function(e,t){if(undefined!==l[t])return n=!i||t,!1})),n}function o(e){return s(e,!0)}var l=e("<support>").get(0).style,r="Webkit Moz O ms".split(" "),a={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c=function(){return!!s("transform")},h=function(){return!!s("perspective")},u=function(){return!!s("animation")};(function(){return!!s("transition")})()&&(e.support.transition=new String(o("transition")),e.support.transition.end=a.transition.end[e.support.transition]),u()&&(e.support.animation=new String(o("animation")),e.support.animation.end=a.animation.end[e.support.animation]),c()&&(e.support.transform=new String(o("transform")),e.support.transform3d=h())}(window.Zepto||window.jQuery,window,document),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,(function(){var e=function(t,i){var n=Object.create(e.prototype),s=0,o=0,l=0,r=0,a=[],c=!0,h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},u=null,d=!1;try{var p=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassive",null,p),window.removeEventListener("testPassive",null,p)}catch(e){}var g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,f=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t,i=["Webkit","Moz","ms"];for(t in i)if(void 0!==e.style[i[t]+"Transform"])return i[t]+"Transform"}return"transform"}();if(n.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},i&&Object.keys(i).forEach((function(e){n.options[e]=i[e]})),i&&i.breakpoints&&function(){if(3===n.options.breakpoints.length&&Array.isArray(n.options.breakpoints)){var e,t=!0,i=!0;if(n.options.breakpoints.forEach((function(n){"number"!=typeof n&&(i=!1),null!==e&&n<e&&(t=!1),e=n})),t&&i)return}n.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}(),t||(t=".rellax"),0<(p="string"==typeof t?document.querySelectorAll(t):[t]).length){if(n.elems=p,n.options.wrapper&&!n.options.wrapper.nodeType){if(!(p=document.querySelector(n.options.wrapper)))return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");n.options.wrapper=p}var m,_=function(){for(var e=0;e<a.length;e++)n.elems[e].style.cssText=a[e].style;for(a=[],o=window.innerHeight,r=window.innerWidth,e=n.options.breakpoints,m=r<e[0]?"xs":r>=e[0]&&r<e[1]?"sm":r>=e[1]&&r<e[2]?"md":"lg",v(),e=0;e<n.elems.length;e++){var t=void 0,i=n.elems[e],s=i.getAttribute("data-rellax-percentage"),l=i.getAttribute("data-rellax-speed"),h=i.getAttribute("data-rellax-xs-speed"),u=i.getAttribute("data-rellax-mobile-speed"),d=i.getAttribute("data-rellax-tablet-speed"),p=i.getAttribute("data-rellax-desktop-speed"),g=i.getAttribute("data-rellax-vertical-speed"),f=i.getAttribute("data-rellax-horizontal-speed"),b=i.getAttribute("data-rellax-vertical-scroll-axis"),C=i.getAttribute("data-rellax-horizontal-scroll-axis"),T=i.getAttribute("data-rellax-zindex")||0,S=i.getAttribute("data-rellax-min"),E=i.getAttribute("data-rellax-max"),k=i.getAttribute("data-rellax-min-x"),N=i.getAttribute("data-rellax-max-x"),L=i.getAttribute("data-rellax-min-y"),A=i.getAttribute("data-rellax-max-y"),z=!0;h||u||d||p?t={xs:h,sm:u,md:d,lg:p}:z=!1,h=n.options.wrapper?n.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n.options.relativeToWrapper&&(h=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-n.options.wrapper.offsetTop);var M=n.options.vertical&&(s||n.options.center)?h:0,B=n.options.horizontal&&(s||n.options.center)?n.options.wrapper?n.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0;h=M+i.getBoundingClientRect().top,u=i.clientHeight||i.offsetHeight||i.scrollHeight,d=B+i.getBoundingClientRect().left,p=i.clientWidth||i.offsetWidth||i.scrollWidth,M=s||(M-h+o)/(u+o),s=s||(B-d+r)/(p+r),n.options.center&&(M=s=.5),t=z&&null!==t[m]?Number(t[m]):l||n.options.speed,g=g||n.options.verticalSpeed,f=f||n.options.horizontalSpeed,b=b||n.options.verticalScrollAxis,C=C||n.options.horizontalScrollAxis,l=y(s,M,t,g,f),i=i.style.cssText,z="",(s=/transform\s*:/i.exec(i))&&(z=(s=(z=i.slice(s.index)).indexOf(";"))?" "+z.slice(11,s).replace(/\s/g,""):" "+z.slice(11).replace(/\s/g,"")),a.push({baseX:l.x,baseY:l.y,top:h,left:d,height:u,width:p,speed:t,verticalSpeed:g,horizontalSpeed:f,verticalScrollAxis:b,horizontalScrollAxis:C,style:i,transform:z,zindex:T,min:S,max:E,minX:k,maxX:N,minY:L,maxY:A})}x(),c&&(window.addEventListener("resize",_),c=!1,w())},v=function(){var e=s,t=l;return s=n.options.wrapper?n.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,l=n.options.wrapper?n.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,n.options.relativeToWrapper&&(s=((document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)-n.options.wrapper.offsetTop),!!(e!=s&&n.options.vertical||t!=l&&n.options.horizontal)},y=function(e,t,i,s,o){var l={};return e=100*(o||i)*(1-e),t=100*(s||i)*(1-t),l.x=n.options.round?Math.round(e):Math.round(100*e)/100,l.y=n.options.round?Math.round(t):Math.round(100*t)/100,l},b=function(){window.removeEventListener("resize",b),window.removeEventListener("orientationchange",b),(n.options.wrapper?n.options.wrapper:window).removeEventListener("scroll",b),(n.options.wrapper?n.options.wrapper:document).removeEventListener("touchmove",b),u=h(w)},w=function(){v()&&!1===c?(x(),u=h(w)):(u=null,window.addEventListener("resize",b),window.addEventListener("orientationchange",b),(n.options.wrapper?n.options.wrapper:window).addEventListener("scroll",b,!!d&&{passive:!0}),(n.options.wrapper?n.options.wrapper:document).addEventListener("touchmove",b,!!d&&{passive:!0}))},x=function(){for(var e,t=0;t<n.elems.length;t++){var i=a[t].verticalScrollAxis.toLowerCase(),c=a[t].horizontalScrollAxis.toLowerCase();e=-1!=i.indexOf("x")?s:0,i=-1!=i.indexOf("y")?s:0;var h=-1!=c.indexOf("x")?l:0;c=-1!=c.indexOf("y")?l:0,c=(e=y((e+h-a[t].left+r)/(a[t].width+r),(i+c-a[t].top+o)/(a[t].height+o),a[t].speed,a[t].verticalSpeed,a[t].horizontalSpeed)).y-a[t].baseY,i=e.x-a[t].baseX,null!==a[t].min&&(n.options.vertical&&!n.options.horizontal&&(c=c<=a[t].min?a[t].min:c),n.options.horizontal&&!n.options.vertical&&(i=i<=a[t].min?a[t].min:i)),null!=a[t].minY&&(c=c<=a[t].minY?a[t].minY:c),null!=a[t].minX&&(i=i<=a[t].minX?a[t].minX:i),null!==a[t].max&&(n.options.vertical&&!n.options.horizontal&&(c=c>=a[t].max?a[t].max:c),n.options.horizontal&&!n.options.vertical&&(i=i>=a[t].max?a[t].max:i)),null!=a[t].maxY&&(c=c>=a[t].maxY?a[t].maxY:c),null!=a[t].maxX&&(i=i>=a[t].maxX?a[t].maxX:i),n.elems[t].style[f]="translate3d("+(n.options.horizontal?i:"0")+"px,"+(n.options.vertical?c:"0")+"px,"+a[t].zindex+"px) "+a[t].transform}n.options.callback(e)};return n.destroy=function(){for(var e=0;e<n.elems.length;e++)n.elems[e].style.cssText=a[e].style;c||(window.removeEventListener("resize",_),c=!0),g(u),u=null},_(),n.refresh=_,n}console.warn("Rellax: The elements you're trying to select don't exist.")};return e}));var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push((function(){"use strict";var e,t,i,n,s,o,l,r,a,c,h,u,d,p,g,f;_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],(function(e,t,i){var n=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},s=function(e,t,i){var n,s,o=e.cycle;for(n in o)s=o[n],e[n]="function"==typeof s?s(i,t[i]):s[i%s.length];delete e.cycle},o=function(e,t,n){i.call(this,e,t,n),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},l=1e-10,r=i._internals,a=r.isSelector,c=r.isArray,h=o.prototype=i.to({},.1,{}),u=[];o.version="1.20.2",h.constructor=o,h.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,h.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},h.updateTo=function(e,t){var n,s=this.ratio,o=this.vars.immediateRender||e.immediateRender;for(n in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[n]=e[n];if(this._initted||o)if(t)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var l=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(l,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var r,a=1/(1-s),c=this._firstPT;c;)r=c.s+c.c,c.c*=a,c.s=r-c.c,c=c._next;return this},h.render=function(e,t,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var s,o,a,c,h,u,d,p,g,f=this._dirty?this.totalDuration():this._totalDuration,m=this._time,_=this._totalTime,v=this._cycle,y=this._duration,b=this._rawPrevTime;if(e>=f-1e-7&&e>=0?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(s=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0>b||0>=e&&e>=-1e-7||b===l&&"isPause"!==this.data)&&b!==e&&(n=!0,b>l&&(o="onReverseComplete")),this._rawPrevTime=p=!t||e||b===e?e:l)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==_||0===y&&b>0)&&(o="onReverseComplete",s=this._reversed),0>e&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||n)&&(b>=0&&(n=!0),this._rawPrevTime=p=!t||e||b===e?e:l)),this._initted||(n=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(c=y+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&e>=_&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=y-this._time,(g=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==g||this._initted?this._yoyoEase=g=!0===g?this._ease:g instanceof Ease?g:Ease.map[g]:(g=this.vars.ease,this._yoyoEase=g=g?g instanceof Ease?g:"function"==typeof g?new Ease(g,this.vars.easeParams):Ease.map[g]||i.defaultEase:i.defaultEase)),this.ratio=g?1-g.getRatio((y-this._time)/y):0)),this._time>y?this._time=y:this._time<0&&(this._time=0)),this._easeType&&!g?(h=this._time/y,(1===(u=this._easeType)||3===u&&h>=.5)&&(h=1-h),3===u&&(h*=2),1===(d=this._easePower)?h*=h:2===d?h*=h*h:3===d?h*=h*h*h:4===d&&(h*=h*h*h*h),1===u?this.ratio=1-h:2===u?this.ratio=h:this._time/y<.5?this.ratio=h/2:this.ratio=1-h/2):g||(this.ratio=this._ease.getRatio(this._time/y))),m!==this._time||n||v!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=_,this._rawPrevTime=b,this._cycle=v,r.lazyTweens.push(this),void(this._lazy=[e,t]);!this._time||s||g?s&&this._ease._calcEnd&&!g&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/y)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&e>=0&&(this._active=!0),0===_&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,t,n):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===y)&&(t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,n),t||(this._totalTime!==_||o)&&this._callback("onUpdate")),this._cycle!==v&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,n),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this._callback(o),0===y&&this._rawPrevTime===l&&p!==l&&(this._rawPrevTime=0))}else _!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},o.to=function(e,t,i){return new o(e,t,i)},o.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(e,t,i)},o.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new o(e,t,n)},o.staggerTo=o.allTo=function(e,t,l,r,h,d,p){r=r||0;var g,f,m,_,v=0,y=[],b=function(){l.onComplete&&l.onComplete.apply(l.onCompleteScope||this,arguments),h.apply(p||l.callbackScope||this,d||u)},w=l.cycle,x=l.startAt&&l.startAt.cycle;for(c(e)||("string"==typeof e&&(e=i.selector(e)||e),a(e)&&(e=n(e))),e=e||[],0>r&&((e=n(e)).reverse(),r*=-1),g=e.length-1,m=0;g>=m;m++){for(_ in f={},l)f[_]=l[_];if(w&&(s(f,e,m),null!=f.duration&&(t=f.duration,delete f.duration)),x){for(_ in x=f.startAt={},l.startAt)x[_]=l.startAt[_];s(f.startAt,e,m)}f.delay=v+(f.delay||0),m===g&&h&&(f.onComplete=b),y[m]=new o(e[m],t,f),v+=r}return y},o.staggerFrom=o.allFrom=function(e,t,i,n,s,l,r){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(e,t,i,n,s,l,r)},o.staggerFromTo=o.allFromTo=function(e,t,i,n,s,l,r,a){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,o.staggerTo(e,t,n,s,l,r,a)},o.delayedCall=function(e,t,i,n,s){return new o(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,useFrames:s,overwrite:0})},o.set=function(e,t){return new o(e,0,t)},o.isTweening=function(e){return i.getTweensOf(e,!0).length>0};var d=function(e,t){for(var n=[],s=0,o=e._first;o;)o instanceof i?n[s++]=o:(t&&(n[s++]=o),s=(n=n.concat(d(o,t))).length),o=o._next;return n},p=o.getAllTweens=function(t){return d(e._rootTimeline,t).concat(d(e._rootFramesTimeline,t))};o.killAll=function(e,i,n,s){null==i&&(i=!0),null==n&&(n=!0);var o,l,r,a=p(0!=s),c=a.length,h=i&&n&&s;for(r=0;c>r;r++)l=a[r],(h||l instanceof t||(o=l.target===l.vars.onComplete)&&n||i&&!o)&&(e?l.totalTime(l._reversed?0:l.totalDuration()):l._enabled(!1,!1))},o.killChildTweensOf=function(e,t){if(null!=e){var s,l,h,u,d,p=r.tweenLookup;if("string"==typeof e&&(e=i.selector(e)||e),a(e)&&(e=n(e)),c(e))for(u=e.length;--u>-1;)o.killChildTweensOf(e[u],t);else{for(h in s=[],p)for(l=p[h].target.parentNode;l;)l===e&&(s=s.concat(p[h].tweens)),l=l.parentNode;for(d=s.length,u=0;d>u;u++)t&&s[u].totalTime(s[u].totalDuration()),s[u]._enabled(!1,!1)}}};var g=function(e,i,n,s){i=!1!==i,n=!1!==n;for(var o,l,r=p(s=!1!==s),a=i&&n&&s,c=r.length;--c>-1;)l=r[c],(a||l instanceof t||(o=l.target===l.vars.onComplete)&&n||i&&!o)&&l.paused(e)};return o.pauseAll=function(e,t,i){g(!0,e,t,i)},o.resumeAll=function(e,t,i){g(!1,e,t,i)},o.globalTimeScale=function(t){var n=e._rootTimeline,s=i.ticker.time;return arguments.length?(t=t||l,n._startTime=s-(s-n._startTime)*n._timeScale/t,n=e._rootFramesTimeline,s=i.ticker.frame,n._startTime=s-(s-n._startTime)*n._timeScale/t,n._timeScale=e._rootTimeline._timeScale=t,t):n._timeScale},h.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},h.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},h.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},h.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},h.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},h.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},h.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},o}),!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,s=this.vars;for(n in s)i=s[n],a(i)&&-1!==i.join("").indexOf("{self}")&&(s[n]=this._swapSelfInParams(i));a(s.tweens)&&this.add(s.tweens,0,s.align,s.stagger)},s=1e-10,o=i._internals,l=n._internals={},r=o.isSelector,a=o.isArray,c=o.lazyTweens,h=o.lazyRender,u=_gsScope._gsDefine.globals,d=function(e){var t,i={};for(t in e)i[t]=e[t];return i},p=function(e,t,i){var n,s,o=e.cycle;for(n in o)s=o[n],e[n]="function"==typeof s?s(i,t[i]):s[i%s.length];delete e.cycle},g=l.pauseCallback=function(){},f=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},m=n.prototype=new t;return n.version="1.20.2",m.constructor=n,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(e,t,n,s){var o=n.repeat&&u.TweenMax||i;return t?this.add(new o(e,t,n),s):this.set(e,n,s)},m.from=function(e,t,n,s){return this.add((n.repeat&&u.TweenMax||i).from(e,t,n),s)},m.fromTo=function(e,t,n,s,o){var l=s.repeat&&u.TweenMax||i;return t?this.add(l.fromTo(e,t,n,s),o):this.set(e,s,o)},m.staggerTo=function(e,t,s,o,l,a,c,h){var u,g,m=new n({onComplete:a,onCompleteParams:c,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),_=s.cycle;for("string"==typeof e&&(e=i.selector(e)||e),r(e=e||[])&&(e=f(e)),0>(o=o||0)&&((e=f(e)).reverse(),o*=-1),g=0;g<e.length;g++)(u=d(s)).startAt&&(u.startAt=d(u.startAt),u.startAt.cycle&&p(u.startAt,e,g)),_&&(p(u,e,g),null!=u.duration&&(t=u.duration,delete u.duration)),m.to(e[g],t,u,g*o);return this.add(m,l)},m.staggerFrom=function(e,t,i,n,s,o,l,r){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,s,o,l,r)},m.staggerFromTo=function(e,t,i,n,s,o,l,r,a){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,s,o,l,r,a)},m.call=function(e,t,n,s){return this.add(i.delayedCall(0,e,t,n),s)},m.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var s,o,l=new n(e),r=l._timeline;for(null==t&&(t=!0),r._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=r._time,s=r._first;s;)o=s._next,t&&s instanceof i&&s.target===s.vars.onComplete||l.add(s,s._startTime-s._delay),s=o;return r.add(l,0),l},m.add=function(s,o,l,r){var c,h,u,d,p,g;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,s)),!(s instanceof e)){if(s instanceof Array||s&&s.push&&a(s)){for(l=l||"normal",r=r||0,c=o,h=s.length,u=0;h>u;u++)a(d=s[u])&&(d=new n({tweens:d})),this.add(d,c),"string"!=typeof d&&"function"!=typeof d&&("sequence"===l?c=d._startTime+d.totalDuration()/d._timeScale:"start"===l&&(d._startTime-=d.delay())),c+=r;return this._uncache(!0)}if("string"==typeof s)return this.addLabel(s,o);if("function"!=typeof s)throw"Cannot add "+s+" into the timeline; it is not a tween, timeline, function, or string.";s=i.delayedCall(0,s)}if(t.prototype.add.call(this,s,o),s._time&&s.render((this.rawTime()-s._startTime)*s._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(g=(p=this).rawTime()>s._startTime;p._timeline;)g&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},m.remove=function(t){if(t instanceof e){this._remove(t,!1);var i=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:i._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&a(t)){for(var n=t.length;--n>-1;)this.remove(t[n]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},m._remove=function(e,i){return t.prototype._remove.call(this,e,i),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},m.insert=m.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},m.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},m.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},m.addPause=function(e,t,n,s){var o=i.delayedCall(0,g,n,s||this);return o.vars.onComplete=o.vars.onReverseComplete=t,o.data="isPause",this._hasPause=!0,this.add(o,e)},m.removeLabel=function(e){return delete this._labels[e],this},m.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},m._parseTimeOrLabel=function(t,i,n,s){var o,l;if(s instanceof e&&s.timeline===this)this.remove(s);else if(s&&(s instanceof Array||s.push&&a(s)))for(l=s.length;--l>-1;)s[l]instanceof e&&s[l].timeline===this&&this.remove(s[l]);if(o=this.duration()>99999999999?this.recent().endTime(!1):this._duration,"string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-o:0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=o);else{if(-1===(l=t.indexOf("=")))return null==this._labels[t]?n?this._labels[t]=o+i:i:this._labels[t]+i;i=parseInt(t.charAt(l-1)+"1",10)*Number(t.substr(l+1)),t=l>1?this._parseTimeOrLabel(t.substr(0,l-1),0,n):o}return Number(t)+i},m.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(e,t){return this.play(e,t)},m.gotoAndStop=function(e,t){return this.pause(e,t)},m.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,o,l,r,a,u,d,p=this._dirty?this.totalDuration():this._totalDuration,g=this._time,f=this._startTime,m=this._timeScale,_=this._paused;if(e>=p-1e-7&&e>=0)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(o=!0,r="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===s)&&this._rawPrevTime!==e&&this._first&&(a=!0,this._rawPrevTime>s&&(r="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:s,e=p+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==g||0===this._duration&&this._rawPrevTime!==s&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(r="onReverseComplete",o=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=o=!0,r="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(a=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:s,0===e&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;e=0,this._initted||(a=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=g)for(n=this._first;n&&n._startTime<=e&&!u;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(u=n),n=n._next;else for(n=this._last;n&&n._startTime>=e&&!u;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(u=n),n=n._prev;u&&(this._time=e=u._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==g&&this._first||i||a||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==g&&e>0&&(this._active=!0),0===g&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),(d=this._time)>=g)for(n=this._first;n&&(l=n._next,d===this._time&&(!this._paused||_));)(n._active||n._startTime<=d&&!n._paused&&!n._gc)&&(u===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=l;else for(n=this._last;n&&(l=n._prev,d===this._time&&(!this._paused||_));){if(n._active||n._startTime<=g&&!n._paused&&!n._gc){if(u===n){for(u=n._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(e-u._startTime)*u._timeScale:(e-u._startTime)*u._timeScale,t,i),u=u._prev;u=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)}n=l}this._onUpdate&&(t||(c.length&&h(),this._callback("onUpdate"))),r&&(this._gc||(f===this._startTime||m!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(o&&(c.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r)))}},m._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},m.getChildren=function(e,t,n,s){s=s||-9999999999;for(var o=[],l=this._first,r=0;l;)l._startTime<s||(l instanceof i?!1!==t&&(o[r++]=l):(!1!==n&&(o[r++]=l),!1!==e&&(r=(o=o.concat(l.getChildren(!0,t,n))).length))),l=l._next;return o},m.getTweensOf=function(e,t){var n,s,o=this._gc,l=[],r=0;for(o&&this._enabled(!0,!0),s=(n=i.getTweensOf(e)).length;--s>-1;)(n[s].timeline===this||t&&this._contains(n[s]))&&(l[r++]=n[s]);return o&&this._enabled(!1,!0),l},m.recent=function(){return this._recent},m._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},m.shiftChildren=function(e,t,i){i=i||0;for(var n,s=this._first,o=this._labels;s;)s._startTime>=i&&(s._startTime+=e),s=s._next;if(t)for(n in o)o[n]>=i&&(o[n]+=e);return this._uncache(!0)},m._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,s=!1;--n>-1;)i[n]._kill(e,t)&&(s=!0);return s},m.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},m._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},m.totalTime=function(t,i,n){this._forcingPlayhead=!0;var s=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,s},m.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,s=this._last,o=999999999999;s;)t=s._prev,s._dirty&&s.totalDuration(),s._startTime>o&&this._sortChildren&&!s._paused?this.add(s,s._startTime-s._delay):o=s._startTime,s._startTime<0&&!s._paused&&(n-=s._startTime,this._timeline.smoothChildTiming&&(this._startTime+=s._startTime/this._timeScale),this.shiftChildren(-s._startTime,!1,-9999999999),o=0),(i=s._startTime+s._totalDuration/s._timeScale)>n&&(n=i),s=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},m.paused=function(t){if(!t)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return e.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},m.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},n}),!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(e,t,i){var n=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},s=1e-10,o=t._internals,l=o.lazyTweens,r=o.lazyRender,a=_gsScope._gsDefine.globals,c=new i(null,null,1,0),h=n.prototype=new e;return h.constructor=n,h.kill()._gc=!1,n.version="1.20.2",h.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},h.addCallback=function(e,i,n,s){return this.add(t.delayedCall(0,e,n,s),i)},h.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var i=this.getTweensOf(e,!1),n=i.length,s=this._parseTimeOrLabel(t);--n>-1;)i[n]._startTime===s&&i[n]._enabled(!1,!1);return this},h.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},h.tweenTo=function(e,i){i=i||{};var n,s,o,l={ease:c,useFrames:this.usesFrames(),immediateRender:!1},r=i.repeat&&a.TweenMax||t;for(s in i)l[s]=i[s];return l.time=this._parseTimeOrLabel(e),n=Math.abs(Number(l.time)-this._time)/this._timeScale||.001,o=new r(this,n,l),l.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||o,i.onStartParams||[])},o},h.tweenFromTo=function(e,t,i){i=i||{},e=this._parseTimeOrLabel(e),i.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(t,i);return n.duration(Math.abs(n.vars.time-e)/this._timeScale||.001)},h.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,o,a,c,h,u,d,p,g=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,m=this._time,_=this._totalTime,v=this._startTime,y=this._timeScale,b=this._rawPrevTime,w=this._paused,x=this._cycle;if(e>=g-1e-7&&e>=0)this._locked||(this._totalTime=g,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,c="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||0>b||b===s)&&b!==e&&this._first&&(h=!0,b>s&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:s,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=f,e=f+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===f&&b!==s&&(b>0||0>e&&b>=0)&&!this._locked)&&(c="onReverseComplete",o=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=o=!0,c="onReverseComplete"):b>=0&&this._first&&(h=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=f||!t||e||this._rawPrevTime===e?e:s,0===e&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;e=0,this._initted||(h=!0)}else if(0===f&&0>b&&(h=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(u=f+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&e>=_&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,e=f+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if((e=this._time)>=m||this._repeat&&x!==this._cycle)for(n=this._first;n&&n._startTime<=e&&!d;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(d=n),n=n._next;else for(n=this._last;n&&n._startTime>=e&&!d;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(d=n),n=n._prev;d&&d._startTime<f&&(this._time=e=d._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var C=this._yoyo&&0!=(1&x),T=C===(this._yoyo&&0!=(1&this._cycle)),S=this._totalTime,E=this._cycle,k=this._rawPrevTime,N=this._time;if(this._totalTime=x*f,this._cycle<x?C=!C:this._totalTime+=f,this._time=m,this._rawPrevTime=0===f?b-1e-4:b,this._cycle=x,this._locked=!0,m=C?0:f,this.render(m,t,0===f),t||this._gc||this.vars.onRepeat&&(this._cycle=E,this._locked=!1,this._callback("onRepeat")),m!==this._time)return;if(T&&(this._cycle=x,this._locked=!0,m=C?f+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=N,this._totalTime=S,this._cycle=E,this._rawPrevTime=k}if(this._time!==m&&this._first||i||h||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==_&&e>0&&(this._active=!0),0===_&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||t||this._callback("onStart")),(p=this._time)>=m)for(n=this._first;n&&(a=n._next,p===this._time&&(!this._paused||w));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(d===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=a;else for(n=this._last;n&&(a=n._prev,p===this._time&&(!this._paused||w));){if(n._active||n._startTime<=m&&!n._paused&&!n._gc){if(d===n){for(d=n._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(e-d._startTime)*d._timeScale:(e-d._startTime)*d._timeScale,t,i),d=d._prev;d=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)}n=a}this._onUpdate&&(t||(l.length&&r(),this._callback("onUpdate"))),c&&(this._locked||this._gc||(v===this._startTime||y!==this._timeScale)&&(0===this._time||g>=this.totalDuration())&&(o&&(l.length&&r(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[c]&&this._callback(c)))}else _!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},h.getActive=function(e,t,i){null==e&&(e=!0),null==t&&(t=!0),null==i&&(i=!1);var n,s,o=[],l=this.getChildren(e,t,i),r=0,a=l.length;for(n=0;a>n;n++)(s=l[n]).isActive()&&(o[r++]=s);return o},h.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,i=this.getLabelsArray(),n=i.length;for(t=0;n>t;t++)if(i[t].time>e)return i[t].name;return null},h.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),i=t.length;--i>-1;)if(t[i].time<e)return t[i].name;return null},h.getLabelsArray=function(){var e,t=[],i=0;for(e in this._labels)t[i++]={time:this._labels[e],name:e};return t.sort((function(e,t){return e.time-t.time})),t},h.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},h.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},h.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},h.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},h.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},h.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},h.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},h.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},n}),!0),e=180/Math.PI,t=[],i=[],n=[],s={},o=_gsScope._gsDefine.globals,l=function(e,t,i,n){i===n&&(i=n-(n-t)/1e6),e===t&&(t=e+(i-e)/1e6),this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},r=function(e,t,i,n){var s={a:e},o={},l={},r={c:n},a=(e+t)/2,c=(t+i)/2,h=(i+n)/2,u=(a+c)/2,d=(c+h)/2,p=(d-u)/8;return s.b=a+(e-a)/4,o.b=u+p,s.c=o.a=(s.b+o.b)/2,o.c=l.a=(u+d)/2,l.b=d-p,r.b=h+(n-h)/4,l.c=r.a=(l.b+r.b)/2,[s,o,l,r]},a=function(e,s,o,l,a){var c,h,u,d,p,g,f,m,_,v,y,b,w,x=e.length-1,C=0,T=e[0].a;for(c=0;x>c;c++)h=(p=e[C]).a,u=p.d,d=e[C+1].d,a?(y=t[c],w=((b=i[c])+y)*s*.25/(l?.5:n[c]||.5),m=u-((g=u-(u-h)*(l?.5*s:0!==y?w/y:0))+(((f=u+(d-u)*(l?.5*s:0!==b?w/b:0))-g)*(3*y/(y+b)+.5)/4||0))):m=u-((g=u-(u-h)*s*.5)+(f=u+(d-u)*s*.5))/2,g+=m,f+=m,p.c=_=g,p.b=0!==c?T:T=p.a+.6*(p.c-p.a),p.da=u-h,p.ca=_-h,p.ba=T-h,o?(v=r(h,T,_,u),e.splice(C,1,v[0],v[1],v[2],v[3]),C+=4):C++,T=f;(p=e[C]).b=T,p.c=T+.4*(p.d-T),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=T-p.a,o&&(v=r(p.a,T,p.c,p.d),e.splice(C,1,v[0],v[1],v[2],v[3]))},c=function(e,n,s,o){var r,a,c,h,u,d,p=[];if(o)for(a=(e=[o].concat(e)).length;--a>-1;)"string"==typeof(d=e[a][n])&&"="===d.charAt(1)&&(e[a][n]=o[n]+Number(d.charAt(0)+d.substr(2)));if(0>(r=e.length-2))return p[0]=new l(e[0][n],0,0,e[0][n]),p;for(a=0;r>a;a++)c=e[a][n],h=e[a+1][n],p[a]=new l(c,0,0,h),s&&(u=e[a+2][n],t[a]=(t[a]||0)+(h-c)*(h-c),i[a]=(i[a]||0)+(u-h)*(u-h));return p[a]=new l(e[a][n],0,0,e[a+1][n]),p},h=function(e,o,l,r,h,u){var d,p,g,f,m,_,v,y,b={},w=[],x=u||e[0];for(p in h="string"==typeof h?","+h+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==o&&(o=1),e[0])w.push(p);if(e.length>1){for(y=e[e.length-1],v=!0,d=w.length;--d>-1;)if(p=w[d],Math.abs(x[p]-y[p])>.05){v=!1;break}v&&(e=e.concat(),u&&e.unshift(u),e.push(e[1]),u=e[e.length-3])}for(t.length=i.length=n.length=0,d=w.length;--d>-1;)p=w[d],s[p]=-1!==h.indexOf(","+p+","),b[p]=c(e,p,s[p],u);for(d=t.length;--d>-1;)t[d]=Math.sqrt(t[d]),i[d]=Math.sqrt(i[d]);if(!r){for(d=w.length;--d>-1;)if(s[p])for(_=(g=b[w[d]]).length-1,f=0;_>f;f++)m=g[f+1].da/i[f]+g[f].da/t[f]||0,n[f]=(n[f]||0)+m*m;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=w.length,f=l?4:1;--d>-1;)g=b[p=w[d]],a(g,o,l,r,s[p]),v&&(g.splice(0,f),g.splice(g.length-f,f));return b},u=function(e,t,i){var n,s,o,r,a,c,h,u,d,p,g,f={},m="cubic"===(t=t||"soft")?3:2,_="soft"===t,v=[];if(_&&i&&(e=[i].concat(e)),null==e||e.length<m+1)throw"invalid Bezier data";for(d in e[0])v.push(d);for(c=v.length;--c>-1;){for(f[d=v[c]]=a=[],p=0,u=e.length,h=0;u>h;h++)n=null==i?e[h][d]:"string"==typeof(g=e[h][d])&&"="===g.charAt(1)?i[d]+Number(g.charAt(0)+g.substr(2)):Number(g),_&&h>1&&u-1>h&&(a[p++]=(n+a[p-2])/2),a[p++]=n;for(u=p-m+1,p=0,h=0;u>h;h+=m)n=a[h],s=a[h+1],o=a[h+2],r=2===m?0:a[h+3],a[p++]=g=3===m?new l(n,s,o,r):new l(n,(2*s+n)/3,(2*s+o)/3,o);a.length=p}return f},d=function(e,t,i){for(var n,s,o,l,r,a,c,h,u,d,p,g=1/i,f=e.length;--f>-1;)for(o=(d=e[f]).a,l=d.d-o,r=d.c-o,a=d.b-o,n=s=0,h=1;i>=h;h++)n=s-(s=((c=g*h)*c*l+3*(u=1-c)*(c*r+u*a))*c),t[p=f*i+h-1]=(t[p]||0)+n*n},p=function(e,t){var i,n,s,o,l=[],r=[],a=0,c=0,h=(t=t>>0||6)-1,u=[],p=[];for(i in e)d(e[i],l,t);for(s=l.length,n=0;s>n;n++)a+=Math.sqrt(l[n]),p[o=n%t]=a,o===h&&(c+=a,u[o=n/t>>0]=p,r[o]=c,a=0,p=[]);return{length:c,lengths:r,segments:u}},g=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,s,o,l,r,a=t.values||[],c={},d=a[0],g=t.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=g?g instanceof Array?g:[["x","y","rotation",!0===g?0:Number(g)||0]]:null,d)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),s=this._func[n]="function"==typeof e[n],c[n]=s?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),r||c[n]!==a[0][n]&&(r=c);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?h(a,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,r):u(a,t.type,c),this._segCount=this._beziers[n].length,this._timeRes){var f=p(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(g=this._autoRotate)for(this._initialRotations=[],g[0]instanceof Array||(this._autoRotate=g=[g]),o=g.length;--o>-1;){for(l=0;3>l;l++)n=g[o][l],this._func[n]="function"==typeof e[n]&&e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)];n=g[o][2],this._initialRotations[o]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,n,s,o,l,r,a,c,h,u,d=this._segCount,p=this._func,g=this._target,f=t!==this._startRatio;if(this._timeRes){if(h=this._lengths,u=this._curSeg,t*=this._length,s=this._li,t>this._l2&&d-1>s){for(c=d-1;c>s&&(this._l2=h[++s])<=t;);this._l1=h[s-1],this._li=s,this._curSeg=u=this._segments[s],this._s2=u[this._s1=this._si=0]}else if(t<this._l1&&s>0){for(;s>0&&(this._l1=h[--s])>=t;);0===s&&t<this._l1?this._l1=0:s++,this._l2=h[s],this._li=s,this._curSeg=u=this._segments[s],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=s,t-=this._l1,s=this._si,t>this._s2&&s<u.length-1){for(c=u.length-1;c>s&&(this._s2=u[++s])<=t;);this._s1=u[s-1],this._si=s}else if(t<this._s1&&s>0){for(;s>0&&(this._s1=u[--s])>=t;);0===s&&t<this._s1?this._s1=0:s++,this._s2=u[s],this._si=s}r=(s+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else r=(t-(i=0>t?0:t>=1?d-1:d*t>>0)*(1/d))*d;for(n=1-r,s=this._props.length;--s>-1;)o=this._props[s],a=(r*r*(l=this._beziers[o][i]).da+3*n*(r*l.ca+n*l.ba))*r+l.a,this._mod[o]&&(a=this._mod[o](a,g)),p[o]?g[o](a):g[o]=a;if(this._autoRotate){var m,_,v,y,b,w,x,C=this._autoRotate;for(s=C.length;--s>-1;)o=C[s][2],w=C[s][3]||0,x=!0===C[s][4]?1:e,l=this._beziers[C[s][0]],m=this._beziers[C[s][1]],l&&m&&(l=l[i],m=m[i],_=l.a+(l.b-l.a)*r,_+=((y=l.b+(l.c-l.b)*r)-_)*r,y+=(l.c+(l.d-l.c)*r-y)*r,v=m.a+(m.b-m.a)*r,v+=((b=m.b+(m.c-m.b)*r)-v)*r,b+=(m.c+(m.d-m.c)*r-b)*r,a=f?Math.atan2(b-v,y-_)*x+w:this._initialRotations[s],this._mod[o]&&(a=this._mod[o](a,g)),p[o]?g[o](a):g[o]=a)}}}),f=g.prototype,g.bezierThrough=h,g.cubicToQuadratic=r,g._autoCSS=!0,g.quadraticToCubic=function(e,t,i){return new l(e,(2*t+e)/3,(2*t+i)/3,i)},g._cssRegister=function(){var e=o.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,n=t._setPluginRatio,s=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,o,l,r,a){t instanceof Array&&(t={values:t}),a=new g;var c,h,u,d=t.values,p=d.length-1,f=[],m={};if(0>p)return r;for(c=0;p>=c;c++)u=i(e,d[c],l,r,a,p!==c),f[c]=u.end;for(h in t)m[h]=t[h];return m.values=f,(r=new s(e,"bezier",0,0,u.pt,2)).data=u,r.plugin=a,r.setRatio=n,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(c=!0===m.autoRotate?0:Number(m.autoRotate),m.autoRotate=null!=u.end.left?[["left","top","rotation",c,!1]]:null!=u.end.x&&[["x","y","rotation",c,!1]]),m.autoRotate&&(l._transform||l._enableTransforms(!1),u.autoRotate=l._target._gsTransform,u.proxy.rotation=u.autoRotate.rotation||0,l._overwriteProps.push("rotation")),a._onInitTween(u.proxy,m,l._tween),r}})}},f._mod=function(e){for(var t,i=this._overwriteProps,n=i.length;--n>-1;)(t=e[i[n]])&&"function"==typeof t&&(this._mod[i[n]]=t)},f._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;--i>-1;)n[i]===t&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)e[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,e)},_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],(function(e,t){var i,n,s,o,l=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=l.prototype.setRatio},r=_gsScope._gsDefine.globals,a={},c=l.prototype=new e("css");c.constructor=l,l.version="1.20.0",l.API=2,l.defaultTransformPerspective=0,l.defaultSkewType="compensated",l.defaultSmoothOrigin=!0,c="px",l.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,u,d,p,g,f,m,_,v=/(?:\-|\.|\b)(\d|\.|e\-)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,C=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,k=/([A-Z])/g,N=/-([a-z])/gi,L=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(e,t){return t.toUpperCase()},z=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,B=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,O=/,(?=[^\)]*(?:\(|$))/gi,R=/[\s,\(]/i,I=Math.PI/180,D=180/Math.PI,P={},H={style:{}},F=_gsScope.document||{createElement:function(){return H}},V=function(e,t){return F.createElementNS?F.createElementNS(t||"http://www.w3.org/1999/xhtml",e):F.createElement(e)},U=V("div"),W=V("img"),Z=l._internals={_specialProps:a},$=(_gsScope.navigator||{}).userAgent||"",q=function(){var e=$.indexOf("Android"),t=V("a");return d=-1!==$.indexOf("Safari")&&-1===$.indexOf("Chrome")&&(-1===e||parseFloat($.substr(e+8,2))>3),g=d&&parseFloat($.substr($.indexOf("Version/")+8,2))<6,p=-1!==$.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec($)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec($))&&(f=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),j=function(e){return C.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(e){_gsScope.console&&console.log(e)},Y="",G="",K=function(e,t){var i,n,s=(t=t||U).style;if(void 0!==s[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===s[i[n]+e];);return n>=0?(Y="-"+(G=3===n?"ms":i[n]).toLowerCase()+"-",G+e):null},Q=F.defaultView?F.defaultView.getComputedStyle:function(){},J=l.getStyle=function(e,t,i,n,s){var o;return q||"opacity"!==t?(!n&&e.style[t]?o=e.style[t]:(i=i||Q(e))?o=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(k,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==s||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:s):j(e)},ee=Z.convertToPixels=function(e,i,n,s,o){if("px"===s||!s&&"lineHeight"!==i)return n;if("auto"===s||!n)return 0;var r,a,c,h=z.test(i),u=e,d=U.style,p=0>n,g=1===n;if(p&&(n=-n),g&&(n*=100),"lineHeight"!==i||s)if("%"===s&&-1!==i.indexOf("border"))r=n/100*(h?e.clientWidth:e.clientHeight);else{if(d.cssText="border:0 solid red;position:"+J(e,"position")+";line-height:0;","%"!==s&&u.appendChild&&"v"!==s.charAt(0)&&"rem"!==s)d[h?"borderLeftWidth":"borderTopWidth"]=n+s;else{if(u=e.parentNode||F.body,-1!==J(u,"display").indexOf("flex")&&(d.position="absolute"),a=u._gsCache,c=t.ticker.frame,a&&h&&a.time===c)return a.width*n/100;d[h?"width":"height"]=n+s}u.appendChild(U),r=parseFloat(U[h?"offsetWidth":"offsetHeight"]),u.removeChild(U),h&&"%"===s&&!1!==l.cacheWidths&&((a=u._gsCache=u._gsCache||{}).time=c,a.width=r/n*100),0!==r||o||(r=ee(e,i,n,s,!0))}else a=Q(e).lineHeight,e.style.lineHeight=n,r=parseFloat(Q(e).lineHeight),e.style.lineHeight=a;return g&&(r/=100),p?-r:r},te=Z.calculateOffset=function(e,t,i){if("absolute"!==J(e,"position",i))return 0;var n="left"===t?"Left":"Top",s=J(e,"margin"+n,i);return e["offset"+n]-(ee(e,t,parseFloat(s),s.replace(x,""))||0)},ie=function(e,t){var i,n,s,o={};if(t=t||Q(e,null))if(i=t.length)for(;--i>-1;)(-1===(s=t[i]).indexOf("-transform")||Le===s)&&(o[s.replace(N,A)]=t.getPropertyValue(s));else for(i in t)(-1===i.indexOf("Transform")||Ne===i)&&(o[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===o[i]&&(o[i.replace(N,A)]=t[i]);return q||(o.opacity=j(e)),n=Ue(e,t,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,ze&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},ne=function(e,t,i,n,s){var o,l,r,a={},c=e.style;for(l in i)"cssText"!==l&&"length"!==l&&isNaN(l)&&(t[l]!==(o=i[l])||s&&s[l])&&-1===l.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(a[l]="auto"!==o||"left"!==l&&"top"!==l?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[l]||""===t[l].replace(w,"")?o:0:te(e,l),void 0!==c[l]&&(r=new ve(c,l,c[l],r)));if(n)for(l in n)"className"!==l&&(a[l]=n[l]);return{difs:a,firstMPT:r}},se={width:["Left","Right"],height:["Top","Bottom"]},oe=["marginLeft","marginRight","marginTop","marginBottom"],le=function(e,t,i){if("svg"===(e.nodeName+"").toLowerCase())return(i||Q(e))[t]||0;if(e.getCTM&&He(e))return e.getBBox()[t]||0;var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),s=se[t],o=s.length;for(i=i||Q(e,null);--o>-1;)n-=parseFloat(J(e,"padding"+s[o],i,!0))||0,n-=parseFloat(J(e,"border"+s[o]+"Width",i,!0))||0;return n},re=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";(null==e||""===e)&&(e="0 0");var i,n=e.split(" "),s=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":n[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":n[1];if(n.length>3&&!t){for(n=e.split(", ").join(",").split(","),e=[],i=0;i<n.length;i++)e.push(re(n[i]));return e.join(",")}return null==o?o="center"===s?"50%":"0":"center"===o&&(o="50%"),("center"===s||isNaN(parseFloat(s))&&-1===(s+"").indexOf("="))&&(s="50%"),e=s+" "+o+(n.length>2?" "+n[2]:""),t&&(t.oxp=-1!==s.indexOf("%"),t.oyp=-1!==o.indexOf("%"),t.oxr="="===s.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(s.replace(w,"")),t.oy=parseFloat(o.replace(w,"")),t.v=e),t||e},ae=function(e,t){return"function"==typeof e&&(e=e(_,m)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},ce=function(e,t){return"function"==typeof e&&(e=e(_,m)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},he=function(e,t,i,n){var s,o,l,r,a,c=1e-6;return"function"==typeof e&&(e=e(_,m)),null==e?r=t:"number"==typeof e?r=e:(s=360,o=e.split("_"),l=((a="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===e.indexOf("rad")?1:D)-(a?0:t),o.length&&(n&&(n[i]=t+l),-1!==e.indexOf("short")&&((l%=s)!==l%180&&(l=0>l?l+s:l-s)),-1!==e.indexOf("_cw")&&0>l?l=(l+9999999999*s)%s-(l/s|0)*s:-1!==e.indexOf("ccw")&&l>0&&(l=(l-9999999999*s)%s-(l/s|0)*s)),r=t+l),c>r&&r>-c&&(r=0),r},ue={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},de=function(e,t,i){return 255*(1>6*(e=0>e?e+1:e>1?e-1:e)?t+(i-t)*e*6:.5>e?i:2>3*e?t+(i-t)*(2/3-e)*6:t)+.5|0},pe=l.parseColor=function(e,t){var i,n,s,o,l,r,a,c,h,u,d;if(e)if("number"==typeof e)i=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ue[e])i=ue[e];else if("#"===e.charAt(0))4===e.length&&(n=e.charAt(1),s=e.charAt(2),o=e.charAt(3),e="#"+n+n+s+s+o+o),i=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(i=d=e.match(v),t){if(-1!==e.indexOf("="))return e.match(y)}else l=Number(i[0])%360/360,r=Number(i[1])/100,n=2*(a=Number(i[2])/100)-(s=.5>=a?a*(r+1):a+r-a*r),i.length>3&&(i[3]=Number(e[3])),i[0]=de(l+1/3,n,s),i[1]=de(l,n,s),i[2]=de(l-1/3,n,s);else i=e.match(v)||ue.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ue.black;return t&&!d&&(n=i[0]/255,s=i[1]/255,o=i[2]/255,a=((c=Math.max(n,s,o))+(h=Math.min(n,s,o)))/2,c===h?l=r=0:(u=c-h,r=a>.5?u/(2-c-h):u/(c+h),l=c===n?(s-o)/u+(o>s?6:0):c===s?(o-n)/u+2:(n-s)/u+4,l*=60),i[0]=l+.5|0,i[1]=100*r+.5|0,i[2]=100*a+.5|0),i},ge=function(e,t){var i,n,s,o=e.match(fe)||[],l=0,r="";if(!o.length)return e;for(i=0;i<o.length;i++)n=o[i],l+=(s=e.substr(l,e.indexOf(n,l)-l)).length+n.length,3===(n=pe(n,t)).length&&n.push(1),r+=s+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return r+e.substr(l)},fe="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ue)fe+="|"+c+"\\b";fe=new RegExp(fe+")","gi"),l.colorStringFilter=function(e){var t,i=e[0]+" "+e[1];fe.test(i)&&(t=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),e[0]=ge(e[0],t),e[1]=ge(e[1],t)),fe.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=l.colorStringFilter);var me=function(e,t,i,n){if(null==e)return function(e){return e};var s,o=t?(e.match(fe)||[""])[0]:"",l=e.split(o).join("").match(b)||[],r=e.substr(0,e.indexOf(l[0])),a=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",h=l.length,u=h>0?l[0].replace(v,""):"";return h?s=t?function(e){var t,d,p,g;if("number"==typeof e)e+=u;else if(n&&O.test(e)){for(g=e.replace(O,"|").split("|"),p=0;p<g.length;p++)g[p]=s(g[p]);return g.join(",")}if(t=(e.match(fe)||[o])[0],p=(d=e.split(t).join("").match(b)||[]).length,h>p--)for(;++p<h;)d[p]=i?d[(p-1)/2|0]:l[p];return r+d.join(c)+c+t+a+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,o,d;if("number"==typeof e)e+=u;else if(n&&O.test(e)){for(o=e.replace(O,"|").split("|"),d=0;d<o.length;d++)o[d]=s(o[d]);return o.join(",")}if(d=(t=e.match(b)||[]).length,h>d--)for(;++d<h;)t[d]=i?t[(d-1)/2|0]:l[d];return r+t.join(c)+a}:function(e){return e}},_e=function(e){return e=e.split(","),function(t,i,n,s,o,l,r){var a,c=(i+"").split(" ");for(r={},a=0;4>a;a++)r[e[a]]=c[a]=c[a]||c[(a-1)/2>>0];return s.parse(t,r,o,l)}},ve=(Z._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,s,o,l=this.data,r=l.proxy,a=l.firstMPT,c=1e-6;a;)t=r[a.v],a.r?t=Math.round(t):c>t&&t>-c&&(t=0),a.t[a.p]=t,a=a._next;if(l.autoRotate&&(l.autoRotate.rotation=l.mod?l.mod(r.rotation,this.t):r.rotation),1===e||0===e)for(a=l.firstMPT,o=1===e?"e":"b";a;){if((i=a.t).type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)s+=i["xn"+n]+i["xs"+(n+1)];i[o]=s}}else i[o]=i.s+i.xs0;a=a._next}},function(e,t,i,n,s){this.t=e,this.p=t,this.v=i,this.r=s,n&&(n._prev=this,this._next=n)}),ye=(Z._parseToProxy=function(e,t,i,n,s,o){var l,r,a,c,h,u=n,d={},p={},g=i._transform,f=P;for(i._transform=null,P=t,n=h=i.parse(e,t,n,s),P=f,o&&(i._transform=g,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(p[r=n.p]=n.s+n.c,d[r]=n.s,o||(c=new ve(n,"s",r,c,n.r),n.c=0),1===n.type))for(l=n.l;--l>0;)a="xn"+l,p[r=n.p+"_"+a]=n.data[a],d[r]=n[a],o||(c=new ve(n,a,r,c,n.rxp[a]));n=n._next}return{proxy:d,end:p,firstMPT:c,pt:h}},Z.CSSPropTween=function(e,t,n,s,l,r,a,c,h,u,d){this.t=e,this.p=t,this.s=n,this.c=s,this.n=a||t,e instanceof ye||o.push(this.n),this.r=c,this.type=r||0,h&&(this.pr=h,i=!0),this.b=void 0===u?n:u,this.e=void 0===d?n+s:d,l&&(this._next=l,l._prev=this)}),be=function(e,t,i,n,s,o){var l=new ye(e,t,i,n-i,s,-1,o);return l.b=i,l.e=l.xs0=n,l},we=l.parseComplex=function(e,t,i,n,s,o,r,a,c,u){i=i||o||"","function"==typeof n&&(n=n(_,m)),r=new ye(e,t,0,0,r,u?2:1,null,!1,a,i,n),n+="",s&&fe.test(n+i)&&(n=[i,n],l.colorStringFilter(n),i=n[0],n=n[1]);var d,p,g,f,b,w,x,C,T,S,E,k,N,L=i.split(", ").join(",").split(" "),A=n.split(", ").join(",").split(" "),z=L.length,M=!1!==h;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(L=L.join(" ").replace(O,", ").split(" "),A=A.join(" ").replace(O,", ").split(" "),z=L.length),z!==A.length&&(z=(L=(o||"").split(" ")).length),r.plugin=c,r.setRatio=u,fe.lastIndex=0,d=0;z>d;d++)if(f=L[d],b=A[d],(C=parseFloat(f))||0===C)r.appendXtra("",C,ae(b,C),b.replace(y,""),M&&-1!==b.indexOf("px"),!0);else if(s&&fe.test(f))k=")"+((k=b.indexOf(")")+1)?b.substr(k):""),N=-1!==b.indexOf("hsl")&&q,S=b,f=pe(f,N),b=pe(b,N),(T=f.length+b.length>6)&&!q&&0===b[3]?(r["xs"+r.l]+=r.l?" transparent":"transparent",r.e=r.e.split(A[d]).join("transparent")):(q||(T=!1),N?r.appendXtra(S.substr(0,S.indexOf("hsl"))+(T?"hsla(":"hsl("),f[0],ae(b[0],f[0]),",",!1,!0).appendXtra("",f[1],ae(b[1],f[1]),"%,",!1).appendXtra("",f[2],ae(b[2],f[2]),T?"%,":"%"+k,!1):r.appendXtra(S.substr(0,S.indexOf("rgb"))+(T?"rgba(":"rgb("),f[0],b[0]-f[0],",",!0,!0).appendXtra("",f[1],b[1]-f[1],",",!0).appendXtra("",f[2],b[2]-f[2],T?",":k,!0),T&&(f=f.length<4?1:f[3],r.appendXtra("",f,(b.length<4?1:b[3])-f,k,!1))),fe.lastIndex=0;else if(w=f.match(v)){if(!(x=b.match(y))||x.length!==w.length)return r;for(g=0,p=0;p<w.length;p++)E=w[p],S=f.indexOf(E,g),r.appendXtra(f.substr(g,S-g),Number(E),ae(x[p],E),"",M&&"px"===f.substr(S+E.length,2),0===p),g=S+E.length;r["xs"+r.l]+=f.substr(g)}else r["xs"+r.l]+=r.l||r["xs"+r.l]?" "+b:b;if(-1!==n.indexOf("=")&&r.data){for(k=r.xs0+r.data.s,d=1;d<r.l;d++)k+=r["xs"+d]+r.data["xn"+d];r.e=k+r["xs"+d]}return r.l||(r.type=-1,r.xs0=r.e),r.xfirst||r},xe=9;for((c=ye.prototype).l=c.pr=0;--xe>0;)c["xn"+xe]=0,c["xs"+xe]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,i,n,s,o){var l=this,r=l.l;return l["xs"+r]+=o&&(r||l["xs"+r])?" "+e:e||"",i||0===r||l.plugin?(l.l++,l.type=l.setRatio?2:1,l["xs"+l.l]=n||"",r>0?(l.data["xn"+r]=t+i,l.rxp["xn"+r]=s,l["xn"+r]=t,l.plugin||(l.xfirst=new ye(l,"xn"+r,t,i,l.xfirst||l,0,l.n,s,l.pr),l.xfirst.xs0=0),l):(l.data={s:t+i},l.rxp={},l.s=t,l.c=i,l.r=s,l)):(l["xs"+r]+=t+(n||""),l)};var Ce=function(e,t){t=t||{},this.p=t.prefix&&K(e)||e,a[e]=a[this.p]=this,this.format=t.formatter||me(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Te=Z._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,s=e.split(","),o=t.defaultValue;for(i=i||[o],n=0;n<s.length;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||o,new Ce(s[n],t)},Se=Z._registerPluginProp=function(e){if(!a[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Te(e,{parser:function(e,i,n,s,o,l,c){var h=r.com.greensock.plugins[t];return h?(h._cssRegister(),a[n].parse(e,i,n,s,o,l,c)):(X("Error: "+t+" js file not loaded."),o)}})}};(c=Ce.prototype).parseComplex=function(e,t,i,n,s,o){var l,r,a,c,h,u,d=this.keyword;if(this.multi&&(O.test(i)||O.test(t)?(r=t.replace(O,"|").split("|"),a=i.replace(O,"|").split("|")):d&&(r=[t],a=[i])),a){for(c=a.length>r.length?a.length:r.length,l=0;c>l;l++)t=r[l]=r[l]||this.dflt,i=a[l]=a[l]||this.dflt,d&&((h=t.indexOf(d))!==(u=i.indexOf(d))&&(-1===u?r[l]=r[l].split(d).join(""):-1===h&&(r[l]+=" "+d)));t=r.join(", "),i=a.join(", ")}return we(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,s,o)},c.parse=function(e,t,i,n,o,l,r){return this.parseComplex(e.style,this.format(J(e,this.p,s,!1,this.dflt)),this.format(t),o,l)},l.registerSpecialProp=function(e,t,i){Te(e,{parser:function(e,n,s,o,l,r,a){var c=new ye(e,s,0,0,l,2,s,!1,i);return c.plugin=r,c.setRatio=t(e,n,o._tween,s),c},priority:i})},l.useSVGTransformAttr=!0;var Ee,ke="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ne=K("transform"),Le=Y+"transform",Ae=K("transformOrigin"),ze=null!==K("perspective"),Me=Z.Transform=function(){this.perspective=parseFloat(l.defaultTransformPerspective)||0,this.force3D=!(!1===l.defaultForce3D||!ze)&&(l.defaultForce3D||"auto")},Be=_gsScope.SVGElement,Oe=function(e,t,i){var n,s=F.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(n in i)s.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return t.appendChild(s),s},Re=F.documentElement||{},Ie=function(){var e,t,i,n=f||/Android/i.test($)&&!_gsScope.chrome;return F.createElementNS&&!n&&(e=Oe("svg",Re),i=(t=Oe("rect",e,{width:100,height:50,x:100})).getBoundingClientRect().width,t.style[Ae]="50% 50%",t.style[Ne]="scaleX(0.5)",n=i===t.getBoundingClientRect().width&&!(p&&ze),Re.removeChild(e)),n}(),De=function(e,t,i,n,s,o){var r,a,c,h,u,d,p,g,f,m,_,v,y,b,w=e._gsTransform,x=Ve(e,!0);w&&(y=w.xOrigin,b=w.yOrigin),(!n||(r=n.split(" ")).length<2)&&(0===(p=e.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),r=[(-1!==(t=re(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*p.width:parseFloat(t[0]))+p.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*p.height:parseFloat(t[1]))+p.y]),i.xOrigin=h=parseFloat(r[0]),i.yOrigin=u=parseFloat(r[1]),n&&x!==Fe&&(d=x[0],p=x[1],g=x[2],f=x[3],m=x[4],_=x[5],(v=d*f-p*g)&&(a=h*(f/v)+u*(-g/v)+(g*_-f*m)/v,c=h*(-p/v)+u*(d/v)-(d*_-p*m)/v,h=i.xOrigin=r[0]=a,u=i.yOrigin=r[1]=c)),w&&(o&&(i.xOffset=w.xOffset,i.yOffset=w.yOffset,w=i),s||!1!==s&&!1!==l.defaultSmoothOrigin?(a=h-y,c=u-b,w.xOffset+=a*x[0]+c*x[2]-a,w.yOffset+=a*x[1]+c*x[3]-c):w.xOffset=w.yOffset=0),o||e.setAttribute("data-svg-origin",r.join(" "))},Pe=function(e){var t,i=V("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(Re.appendChild(i),i.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Pe}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return s?n.insertBefore(this,s):n.appendChild(this),Re.removeChild(i),this.style.cssText=o,t},He=function(e){return!(!(Be&&e.getCTM&&function(e){try{return e.getBBox()}catch(t){return Pe.call(e,!0)}}(e))||e.parentNode&&!e.ownerSVGElement)},Fe=[1,0,0,1,0,0],Ve=function(e,t){var i,n,s,o,l,r,a=e._gsTransform||new Me,c=1e5,h=e.style;if(Ne?n=J(e,Le,null,!0):e.currentStyle&&(n=(n=e.currentStyle.filter.match(M))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),a.x||0,a.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Ne||!(r="none"===Q(e).display)&&e.parentNode||(r&&(o=h.display,h.display="block"),e.parentNode||(l=1,Re.appendChild(e)),i=!(n=J(e,Le,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,o?h.display=o:r&&qe(h,"display"),l&&Re.removeChild(e)),(a.svg||e.getCTM&&He(e))&&(i&&-1!==(h[Ne]+"").indexOf("matrix")&&(n=h[Ne],i=0),s=e.getAttribute("transform"),i&&s&&(-1!==s.indexOf("matrix")?(n=s,i=0):-1!==s.indexOf("translate")&&(n="matrix(1,0,0,1,"+s.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Fe;for(s=(n||"").match(v)||[],xe=s.length;--xe>-1;)o=Number(s[xe]),s[xe]=(l=o-(o|=0))?(l*c+(0>l?-.5:.5)|0)/c+o:o;return t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s},Ue=Z.getTransform=function(e,i,n,s){if(e._gsTransform&&n&&!s)return e._gsTransform;var o,r,a,c,h,u,d=n&&e._gsTransform||new Me,p=d.scaleX<0,g=2e-5,f=1e5,m=ze&&(parseFloat(J(e,Ae,i,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,_=parseFloat(l.defaultTransformPerspective)||0;if(d.svg=!(!e.getCTM||!He(e)),d.svg&&(De(e,J(e,Ae,i,!1,"50% 50%")+"",d,e.getAttribute("data-svg-origin")),Ee=l.useSVGTransformAttr||Ie),(o=Ve(e))!==Fe){if(16===o.length){var v,y,b,w,x,C=o[0],T=o[1],S=o[2],E=o[3],k=o[4],N=o[5],L=o[6],A=o[7],z=o[8],M=o[9],B=o[10],O=o[12],R=o[13],I=o[14],P=o[11],H=Math.atan2(L,B);d.zOrigin&&(O=z*(I=-d.zOrigin)-o[12],R=M*I-o[13],I=B*I+d.zOrigin-o[14]),d.rotationX=H*D,H&&(v=k*(w=Math.cos(-H))+z*(x=Math.sin(-H)),y=N*w+M*x,b=L*w+B*x,z=k*-x+z*w,M=N*-x+M*w,B=L*-x+B*w,P=A*-x+P*w,k=v,N=y,L=b),H=Math.atan2(-S,B),d.rotationY=H*D,H&&(y=T*(w=Math.cos(-H))-M*(x=Math.sin(-H)),b=S*w-B*x,M=T*x+M*w,B=S*x+B*w,P=E*x+P*w,C=v=C*w-z*x,T=y,S=b),H=Math.atan2(T,C),d.rotation=H*D,H&&(v=C*(w=Math.cos(H))+T*(x=Math.sin(H)),y=k*w+N*x,b=z*w+M*x,T=T*w-C*x,N=N*w-k*x,M=M*w-z*x,C=v,k=y,z=b),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),H=Math.atan2(k,N),d.scaleX=(Math.sqrt(C*C+T*T+S*S)*f+.5|0)/f,d.scaleY=(Math.sqrt(N*N+L*L)*f+.5|0)/f,d.scaleZ=(Math.sqrt(z*z+M*M+B*B)*f+.5|0)/f,C/=d.scaleX,k/=d.scaleY,T/=d.scaleX,N/=d.scaleY,Math.abs(H)>g?(d.skewX=H*D,k=0,"simple"!==d.skewType&&(d.scaleY*=1/Math.cos(H))):d.skewX=0,d.perspective=P?1/(0>P?-P:P):0,d.x=O,d.y=R,d.z=I,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*C-d.yOrigin*k),d.y-=d.yOrigin-(d.yOrigin*T-d.xOrigin*N))}else if(!ze||s||!o.length||d.x!==o[4]||d.y!==o[5]||!d.rotationX&&!d.rotationY){var F=o.length>=6,V=F?o[0]:1,U=o[1]||0,W=o[2]||0,Z=F?o[3]:1;d.x=o[4]||0,d.y=o[5]||0,a=Math.sqrt(V*V+U*U),c=Math.sqrt(Z*Z+W*W),h=V||U?Math.atan2(U,V)*D:d.rotation||0,u=W||Z?Math.atan2(W,Z)*D+h:d.skewX||0,d.scaleX=a,d.scaleY=c,d.rotation=h,d.skewX=u,ze&&(d.rotationX=d.rotationY=d.z=0,d.perspective=_,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*V+d.yOrigin*W),d.y-=d.yOrigin-(d.xOrigin*U+d.yOrigin*Z))}for(r in Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(p?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180)),d.zOrigin=m,d)d[r]<g&&d[r]>-g&&(d[r]=0)}return n&&(e._gsTransform=d,d.svg&&(Ee&&e.style[Ne]?t.delayedCall(.001,(function(){qe(e.style,Ne)})):!Ee&&e.getAttribute("transform")&&t.delayedCall(.001,(function(){e.removeAttribute("transform")})))),d},We=function(e){var t,i,n=this.data,s=-n.rotation*I,o=s+n.skewX*I,l=1e5,r=(Math.cos(s)*n.scaleX*l|0)/l,a=(Math.sin(s)*n.scaleX*l|0)/l,c=(Math.sin(o)*-n.scaleY*l|0)/l,h=(Math.cos(o)*n.scaleY*l|0)/l,u=this.t.style,d=this.t.currentStyle;if(d){i=a,a=-c,c=-i,t=d.filter,u.filter="";var p,g,m=this.t.offsetWidth,_=this.t.offsetHeight,v="absolute"!==d.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+r+", M12="+a+", M21="+c+", M22="+h,b=n.x+m*n.xPercent/100,w=n.y+_*n.yPercent/100;if(null!=n.ox&&(b+=(p=(n.oxp?m*n.ox*.01:n.ox)-m/2)-(p*r+(g=(n.oyp?_*n.oy*.01:n.oy)-_/2)*a),w+=g-(p*c+g*h)),v?y+=", Dx="+((p=m/2)-(p*r+(g=_/2)*a)+b)+", Dy="+(g-(p*c+g*h)+w)+")":y+=", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=t.replace(B,y):u.filter=y+" "+t,(0===e||1===e)&&1===r&&0===a&&0===c&&1===h&&(v&&-1===y.indexOf("Dx=0, Dy=0")||C.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&u.removeAttribute("filter")),!v){var T,S,E,k=8>f?1:-1;for(p=n.ieOffsetX||0,g=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((0>r?-r:r)*m+(0>a?-a:a)*_))/2+b),n.ieOffsetY=Math.round((_-((0>h?-h:h)*_+(0>c?-c:c)*m))/2+w),xe=0;4>xe;xe++)E=(i=-1!==(T=d[S=oe[xe]]).indexOf("px")?parseFloat(T):ee(this.t,S,parseFloat(T),T.replace(x,""))||0)!==n[S]?2>xe?-n.ieOffsetX:-n.ieOffsetY:2>xe?p-n.ieOffsetX:g-n.ieOffsetY,u[S]=(n[S]=Math.round(i-E*(0===xe||2===xe?1:k)))+"px"}}},Ze=Z.set3DTransformRatio=Z.setTransformRatio=function(e){var t,i,n,s,o,l,r,a,c,h,u,d,g,f,m,_,v,y,b,w,x,C,T,S=this.data,E=this.t.style,k=S.rotation,N=S.rotationX,L=S.rotationY,A=S.scaleX,z=S.scaleY,M=S.scaleZ,B=S.x,O=S.y,R=S.z,D=S.svg,P=S.perspective,H=S.force3D,F=S.skewY,V=S.skewX;if(F&&(V+=F,k+=F),!((1!==e&&0!==e||"auto"!==H||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&H||R||P||L||N||1!==M)||Ee&&D||!ze)k||V||D?(k*=I,C=V*I,T=1e5,i=Math.cos(k)*A,o=Math.sin(k)*A,n=Math.sin(k-C)*-z,l=Math.cos(k-C)*z,C&&"simple"===S.skewType&&(t=Math.tan(C-F*I),n*=t=Math.sqrt(1+t*t),l*=t,F&&(t=Math.tan(F*I),i*=t=Math.sqrt(1+t*t),o*=t)),D&&(B+=S.xOrigin-(S.xOrigin*i+S.yOrigin*n)+S.xOffset,O+=S.yOrigin-(S.xOrigin*o+S.yOrigin*l)+S.yOffset,Ee&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),B+=.01*S.xPercent*m.width,O+=.01*S.yPercent*m.height),(m=1e-6)>B&&B>-m&&(B=0),m>O&&O>-m&&(O=0)),b=(i*T|0)/T+","+(o*T|0)/T+","+(n*T|0)/T+","+(l*T|0)/T+","+B+","+O+")",D&&Ee?this.t.setAttribute("transform","matrix("+b):E[Ne]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+b):E[Ne]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+z+","+B+","+O+")";else{if(p&&((m=1e-4)>A&&A>-m&&(A=M=2e-5),m>z&&z>-m&&(z=M=2e-5),!P||S.z||S.rotationX||S.rotationY||(P=0)),k||V)k*=I,_=i=Math.cos(k),v=o=Math.sin(k),V&&(k-=V*I,_=Math.cos(k),v=Math.sin(k),"simple"===S.skewType&&(t=Math.tan((V-F)*I),_*=t=Math.sqrt(1+t*t),v*=t,S.skewY&&(t=Math.tan(F*I),i*=t=Math.sqrt(1+t*t),o*=t))),n=-v,l=_;else{if(!(L||N||1!==M||P||D))return void(E[Ne]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+B+"px,"+O+"px,"+R+"px)"+(1!==A||1!==z?" scale("+A+","+z+")":""));i=l=1,n=o=0}h=1,s=r=a=c=u=d=0,g=P?-1/P:0,f=S.zOrigin,m=1e-6,w=",",x="0",(k=L*I)&&(_=Math.cos(k),a=-(v=Math.sin(k)),u=g*-v,s=i*v,r=o*v,h=_,g*=_,i*=_,o*=_),(k=N*I)&&(t=n*(_=Math.cos(k))+s*(v=Math.sin(k)),y=l*_+r*v,c=h*v,d=g*v,s=n*-v+s*_,r=l*-v+r*_,h*=_,g*=_,n=t,l=y),1!==M&&(s*=M,r*=M,h*=M,g*=M),1!==z&&(n*=z,l*=z,c*=z,d*=z),1!==A&&(i*=A,o*=A,a*=A,u*=A),(f||D)&&(f&&(B+=s*-f,O+=r*-f,R+=h*-f+f),D&&(B+=S.xOrigin-(S.xOrigin*i+S.yOrigin*n)+S.xOffset,O+=S.yOrigin-(S.xOrigin*o+S.yOrigin*l)+S.yOffset),m>B&&B>-m&&(B=x),m>O&&O>-m&&(O=x),m>R&&R>-m&&(R=0)),b=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",b+=(m>i&&i>-m?x:i)+w+(m>o&&o>-m?x:o)+w+(m>a&&a>-m?x:a),b+=w+(m>u&&u>-m?x:u)+w+(m>n&&n>-m?x:n)+w+(m>l&&l>-m?x:l),N||L||1!==M?(b+=w+(m>c&&c>-m?x:c)+w+(m>d&&d>-m?x:d)+w+(m>s&&s>-m?x:s),b+=w+(m>r&&r>-m?x:r)+w+(m>h&&h>-m?x:h)+w+(m>g&&g>-m?x:g)+w):b+=",0,0,0,0,1,0,",b+=B+w+O+w+R+w+(P?1+-R/P:1)+")",E[Ne]=b}};(c=Me.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Te("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,n,o,r,a){if(n._lastParsedTransform===a)return o;n._lastParsedTransform=a;var c,h=a.scale&&"function"==typeof a.scale?a.scale:0;"function"==typeof a[i]&&(c=a[i],a[i]=t),h&&(a.scale=h(_,e));var u,d,p,g,f,v,y,b,w,x=e._gsTransform,C=e.style,T=1e-6,S=ke.length,E=a,k={},N="transformOrigin",L=Ue(e,s,!0,E.parseTransform),A=E.transform&&("function"==typeof E.transform?E.transform(_,m):E.transform);if(L.skewType=E.skewType||L.skewType||l.defaultSkewType,n._transform=L,A&&"string"==typeof A&&Ne)(d=U.style)[Ne]=A,d.display="block",d.position="absolute",F.body.appendChild(U),u=Ue(U,null,!1),"simple"===L.skewType&&(u.scaleY*=Math.cos(u.skewX*I)),L.svg&&(v=L.xOrigin,y=L.yOrigin,u.x-=L.xOffset,u.y-=L.yOffset,(E.transformOrigin||E.svgOrigin)&&(A={},De(e,re(E.transformOrigin),A,E.svgOrigin,E.smoothOrigin,!0),v=A.xOrigin,y=A.yOrigin,u.x-=A.xOffset-L.xOffset,u.y-=A.yOffset-L.yOffset),(v||y)&&(b=Ve(U,!0),u.x-=v-(v*b[0]+y*b[2]),u.y-=y-(v*b[1]+y*b[3]))),F.body.removeChild(U),u.perspective||(u.perspective=L.perspective),null!=E.xPercent&&(u.xPercent=ce(E.xPercent,L.xPercent)),null!=E.yPercent&&(u.yPercent=ce(E.yPercent,L.yPercent));else if("object"==typeof E){if(u={scaleX:ce(null!=E.scaleX?E.scaleX:E.scale,L.scaleX),scaleY:ce(null!=E.scaleY?E.scaleY:E.scale,L.scaleY),scaleZ:ce(E.scaleZ,L.scaleZ),x:ce(E.x,L.x),y:ce(E.y,L.y),z:ce(E.z,L.z),xPercent:ce(E.xPercent,L.xPercent),yPercent:ce(E.yPercent,L.yPercent),perspective:ce(E.transformPerspective,L.perspective)},null!=(f=E.directionalRotation))if("object"==typeof f)for(d in f)E[d]=f[d];else E.rotation=f;"string"==typeof E.x&&-1!==E.x.indexOf("%")&&(u.x=0,u.xPercent=ce(E.x,L.xPercent)),"string"==typeof E.y&&-1!==E.y.indexOf("%")&&(u.y=0,u.yPercent=ce(E.y,L.yPercent)),u.rotation=he("rotation"in E?E.rotation:"shortRotation"in E?E.shortRotation+"_short":"rotationZ"in E?E.rotationZ:L.rotation,L.rotation,"rotation",k),ze&&(u.rotationX=he("rotationX"in E?E.rotationX:"shortRotationX"in E?E.shortRotationX+"_short":L.rotationX||0,L.rotationX,"rotationX",k),u.rotationY=he("rotationY"in E?E.rotationY:"shortRotationY"in E?E.shortRotationY+"_short":L.rotationY||0,L.rotationY,"rotationY",k)),u.skewX=he(E.skewX,L.skewX),u.skewY=he(E.skewY,L.skewY)}for(ze&&null!=E.force3D&&(L.force3D=E.force3D,g=!0),(p=L.force3D||L.z||L.rotationX||L.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==E.scale||(u.scaleZ=1);--S>-1;)((A=u[w=ke[S]]-L[w])>T||-T>A||null!=E[w]||null!=P[w])&&(g=!0,o=new ye(L,w,L[w],A,o),w in k&&(o.e=k[w]),o.xs0=0,o.plugin=r,n._overwriteProps.push(o.n));return A=E.transformOrigin,L.svg&&(A||E.svgOrigin)&&(v=L.xOffset,y=L.yOffset,De(e,re(A),u,E.svgOrigin,E.smoothOrigin),o=be(L,"xOrigin",(x?L:u).xOrigin,u.xOrigin,o,N),o=be(L,"yOrigin",(x?L:u).yOrigin,u.yOrigin,o,N),(v!==L.xOffset||y!==L.yOffset)&&(o=be(L,"xOffset",x?v:L.xOffset,L.xOffset,o,N),o=be(L,"yOffset",x?y:L.yOffset,L.yOffset,o,N)),A="0px 0px"),(A||ze&&p&&L.zOrigin)&&(Ne?(g=!0,w=Ae,A=(A||J(e,w,s,!1,"50% 50%"))+"",(o=new ye(C,w,0,0,o,-1,N)).b=C[w],o.plugin=r,ze?(d=L.zOrigin,A=A.split(" "),L.zOrigin=(A.length>2&&(0===d||"0px"!==A[2])?parseFloat(A[2]):d)||0,o.xs0=o.e=A[0]+" "+(A[1]||"50%")+" 0px",(o=new ye(L,"zOrigin",0,0,o,-1,o.n)).b=d,o.xs0=o.e=L.zOrigin):o.xs0=o.e=A):re(A+"",L)),g&&(n._transformType=L.svg&&Ee||!p&&3!==this._transformType?2:3),c&&(a[i]=c),h&&(a.scale=h),o},prefix:!0}),Te("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Te("borderRadius",{defaultValue:"0px",parser:function(e,t,i,o,l,r){t=this.format(t);var a,c,h,u,d,p,g,f,m,_,v,y,b,w,x,C,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=e.style;for(m=parseFloat(e.offsetWidth),_=parseFloat(e.offsetHeight),a=t.split(" "),c=0;c<T.length;c++)this.p.indexOf("border")&&(T[c]=K(T[c])),-1!==(d=u=J(e,T[c],s,!1,"0px")).indexOf(" ")&&(u=d.split(" "),d=u[0],u=u[1]),p=h=a[c],g=parseFloat(d),y=d.substr((g+"").length),(b="="===p.charAt(1))?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),v=p.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(p),v=p.substr((f+"").length)),""===v&&(v=n[i]||y),v!==y&&(w=ee(e,"borderLeft",g,y),x=ee(e,"borderTop",g,y),"%"===v?(d=w/m*100+"%",u=x/_*100+"%"):"em"===v?(d=w/(C=ee(e,"borderLeft",1,"em"))+"em",u=x/C+"em"):(d=w+"px",u=x+"px"),b&&(p=parseFloat(d)+f+v,h=parseFloat(u)+f+v)),l=we(S,T[c],d+" "+u,p+" "+h,!1,"0px",l);return l},prefix:!0,formatter:me("0px 0px 0px 0px",!1,!0)}),Te("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,i,n,o,l){return we(e.style,i,this.format(J(e,i,s,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:me("0px 0px",!1,!0)}),Te("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,o,l){var r,a,c,h,u,d,p="background-position",g=s||Q(e,null),m=this.format((g?f?g.getPropertyValue(p+"-x")+" "+g.getPropertyValue(p+"-y"):g.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),_=this.format(t);if(-1!==m.indexOf("%")!=(-1!==_.indexOf("%"))&&_.split(",").length<2&&((d=J(e,"backgroundImage").replace(L,""))&&"none"!==d)){for(r=m.split(" "),a=_.split(" "),W.setAttribute("src",d),c=2;--c>-1;)(h=-1!==(m=r[c]).indexOf("%"))!==(-1!==a[c].indexOf("%"))&&(u=0===c?e.offsetWidth-W.width:e.offsetHeight-W.height,r[c]=h?parseFloat(m)/100*u+"px":parseFloat(m)/u*100+"%");m=r.join(" ")}return this.parseComplex(e.style,m,_,o,l)},formatter:re}),Te("backgroundSize",{defaultValue:"0 0",formatter:function(e){return re(-1===(e+="").indexOf(" ")?e+" "+e:e)}}),Te("perspective",{defaultValue:"0px",prefix:!0}),Te("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Te("transformStyle",{prefix:!0}),Te("backfaceVisibility",{prefix:!0}),Te("userSelect",{prefix:!0}),Te("margin",{parser:_e("marginTop,marginRight,marginBottom,marginLeft")}),Te("padding",{parser:_e("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Te("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,o,l){var r,a,c;return 9>f?(a=e.currentStyle,c=8>f?" ":",",r="rect("+a.clipTop+c+a.clipRight+c+a.clipBottom+c+a.clipLeft+")",t=this.format(t).split(",").join(c)):(r=this.format(J(e,this.p,s,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,r,t,o,l)}}),Te("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Te("autoRound,strictUnits",{parser:function(e,t,i,n,s){return s}}),Te("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,o,l){var r=J(e,"borderTopWidth",s,!1,"0px"),a=this.format(t).split(" "),c=a[0].replace(x,"");return"px"!==c&&(r=parseFloat(r)/ee(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(r+" "+J(e,"borderTopStyle",s,!1,"solid")+" "+J(e,"borderTopColor",s,!1,"#000")),a.join(" "),o,l)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(fe)||["#000"])[0]}}),Te("borderWidth",{parser:_e("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Te("float,cssFloat,styleFloat",{parser:function(e,t,i,n,s,o){var l=e.style,r="cssFloat"in l?"cssFloat":"styleFloat";return new ye(l,r,0,0,s,-1,i,!1,0,l[r],t)}});var $e=function(e){var t,i=this.t,n=i.filter||J(this.data,"filter")||"",s=this.s+this.c*e|0;100===s&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!J(this.data,"filter")):(i.filter=n.replace(S,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+s+")"),-1===n.indexOf("pacity")?0===s&&this.xn1||(i.filter=n+" alpha(opacity="+s+")"):i.filter=n.replace(C,"opacity="+s))};Te("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,o,l){var r=parseFloat(J(e,"opacity",s,!1,"1")),a=e.style,c="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+r),c&&1===r&&"hidden"===J(e,"visibility",s)&&0!==t&&(r=0),q?o=new ye(a,"opacity",r,t-r,o):((o=new ye(a,"opacity",100*r,100*(t-r),o)).xn1=c?1:0,a.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=l,o.setRatio=$e),c&&((o=new ye(a,"visibility",0,0,o,-1,null,!1,0,0!==r?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var qe=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(k,"-$1").toLowerCase())):e.removeAttribute(t))},je=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:qe(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Te("className",{parser:function(e,t,n,o,l,r,a){var c,h,u,d,p,g=e.getAttribute("class")||"",f=e.style.cssText;if((l=o._classNamePT=new ye(e,n,0,0,l,2)).setRatio=je,l.pr=-11,i=!0,l.b=g,h=ie(e,s),u=e._gsClassPT){for(d={},p=u.data;p;)d[p.p]=1,p=p._next;u.setRatio(1)}return e._gsClassPT=l,l.e="="!==t.charAt(1)?t:g.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",l.e),c=ne(e,h,ie(e),a,d),e.setAttribute("class",g),l.data=c.firstMPT,e.style.cssText=f,l.xfirst=o.parse(e,c.difs,l,r)}});var Xe=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,s,o,l=this.t.style,r=a.transform.parse;if("all"===this.e)l.cssText="",s=!0;else for(n=(t=this.e.split(" ").join("").split(",")).length;--n>-1;)i=t[n],a[i]&&(a[i].parse===r?s=!0:i="transformOrigin"===i?Ae:a[i].p),qe(l,i);s&&(qe(l,Ne),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Te("clearProps",{parser:function(e,t,n,s,o){return(o=new ye(e,n,0,0,o,2)).setRatio=Xe,o.e=t,o.pr=-10,o.data=s._tween,i=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),xe=c.length;xe--;)Se(c[xe]);(c=l.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,r,c){if(!e.nodeType)return!1;this._target=m=e,this._tween=r,this._vars=t,_=c,h=t.autoRound,i=!1,n=t.suffixMap||l.suffixMap,s=Q(e,""),o=this._overwriteProps;var p,f,v,y,b,w,x,C,S,E=e.style;if(u&&""===E.zIndex&&(("auto"===(p=J(e,"zIndex",s))||""===p)&&this._addLazySet(E,"zIndex",0)),"string"==typeof t&&(y=E.cssText,p=ie(e,s),E.cssText=y+";"+t,p=ne(e,p,ie(e)).difs,!q&&T.test(t)&&(p.opacity=parseFloat(RegExp.$1)),t=p,E.cssText=y),t.className?this._firstPT=f=a.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=f=this.parse(e,t,null),this._transformType){for(S=3===this._transformType,Ne?d&&(u=!0,""===E.zIndex&&(("auto"===(x=J(e,"zIndex",s))||""===x)&&this._addLazySet(E,"zIndex",0)),g&&this._addLazySet(E,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(S?"visible":"hidden"))):E.zoom=1,v=f;v&&v._next;)v=v._next;C=new ye(e,"transform",0,0,null,2),this._linkCSSP(C,null,v),C.setRatio=Ne?Ze:We,C.data=this._transform||Ue(e,s,!0),C.tween=r,C.pr=-1,o.pop()}if(i){for(;f;){for(w=f._next,v=y;v&&v.pr>f.pr;)v=v._next;(f._prev=v?v._prev:b)?f._prev._next=f:y=f,(f._next=v)?v._prev=f:b=f,f=w}this._firstPT=y}return!0},c.parse=function(e,t,i,o){var l,r,c,u,d,p,g,f,v,y,b=e.style;for(l in t){if("function"==typeof(p=t[l])&&(p=p(_,m)),r=a[l])i=r.parse(e,p,l,this,i,o,t);else{if("--"===l.substr(0,2)){this._tween._propLookup[l]=this._addTween.call(this._tween,e.style,"setProperty",Q(e).getPropertyValue(l)+"",p+"",l,!1,l);continue}d=J(e,l,s)+"",v="string"==typeof p,"color"===l||"fill"===l||"stroke"===l||-1!==l.indexOf("Color")||v&&E.test(p)?(v||(p=((p=pe(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),i=we(b,l,d,p,!0,"transparent",i,0,o)):v&&R.test(p)?i=we(b,l,d,p,!0,null,i,0,o):(g=(c=parseFloat(d))||0===c?d.substr((c+"").length):"",(""===d||"auto"===d)&&("width"===l||"height"===l?(c=le(e,l,s),g="px"):"left"===l||"top"===l?(c=te(e,l,s),g="px"):(c="opacity"!==l?0:1,g="")),(y=v&&"="===p.charAt(1))?(u=parseInt(p.charAt(0)+"1",10),p=p.substr(2),u*=parseFloat(p),f=p.replace(x,"")):(u=parseFloat(p),f=v?p.replace(x,""):""),""===f&&(f=l in n?n[l]:g),p=u||0===u?(y?u+c:u)+f:t[l],g!==f&&(""!==f||"lineHeight"===l)&&(u||0===u)&&c&&(c=ee(e,l,c,g),"%"===f?(c/=ee(e,l,100,"%")/100,!0!==t.strictUnits&&(d=c+"%")):"em"===f||"rem"===f||"vw"===f||"vh"===f?c/=ee(e,l,1,f):"px"!==f&&(u=ee(e,l,u,f),f="px"),y&&(u||0===u)&&(p=u+c+f)),y&&(u+=c),!c&&0!==c||!u&&0!==u?void 0!==b[l]&&(p||p+""!="NaN"&&null!=p)?(i=new ye(b,l,u||c||0,0,i,-1,l,!1,0,d,p)).xs0="none"!==p||"display"!==l&&-1===l.indexOf("Style")?p:d:X("invalid "+l+" tween value: "+t[l]):(i=new ye(b,l,c,u-c,i,0,l,!1!==h&&("px"===f||"zIndex"===l),0,d,p)).xs0=f)}o&&i&&!i.plugin&&(i.plugin=o)}return i},c.setRatio=function(e){var t,i,n,s=this._firstPT,o=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;s;){if(t=s.c*e+s.s,s.r?t=Math.round(t):o>t&&t>-o&&(t=0),s.type)if(1===s.type)if(2===(n=s.l))s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2;else if(3===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===n)s.t[s.p]=s.xs0+t+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+t+s.xs1,n=1;n<s.l;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(e);else s.t[s.p]=t+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(e),s=s._next;else for(;s;){if(2!==s.type)if(s.r&&-1!==s.type)if(t=Math.round(s.s+s.c),s.type){if(1===s.type){for(n=s.l,i=s.xs0+t+s.xs1,n=1;n<s.l;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}}else s.t[s.p]=t+s.xs0;else s.t[s.p]=s.e;else s.setRatio(e);s=s._next}},c._enableTransforms=function(e){this._transform=this._transform||Ue(this._target,s,!0),this._transformType=this._transform.svg&&Ee||!e&&3!==this._transformType?2:3};var Ye=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,i){var n=this._firstPT=new ye(e,t,0,0,this._firstPT,2);n.e=i,n.setRatio=Ye,n.data=this},c._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},c._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},c._kill=function(t){var i,n,s,o=t;if(t.autoAlpha||t.alpha){for(n in o={},t)o[n]=t[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(i=this._classNamePT)&&((s=i.xfirst)&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(t),n=i.plugin),i=i._next;return e.prototype._kill.call(this,o)};var Ge=function(e,t,i){var n,s,o,l;if(e.slice)for(s=e.length;--s>-1;)Ge(e[s],t,i);else for(s=(n=e.childNodes).length;--s>-1;)l=(o=n[s]).type,o.style&&(t.push(ie(o)),i&&i.push(o)),1!==l&&9!==l&&11!==l||!o.childNodes.length||Ge(o,t,i)};return l.cascadeTo=function(e,i,n){var s,o,l,r,a=t.to(e,i,n),c=[a],h=[],u=[],d=[],p=t._internals.reservedProps;for(e=a._targets||a.target,Ge(e,h,d),a.render(i,!0,!0),Ge(e,u),a.render(0,!0,!0),a._enabled(!0),s=d.length;--s>-1;)if((o=ne(d[s],h[s],u[s])).firstMPT){for(l in o=o.difs,n)p[l]&&(o[l]=n[l]);for(l in r={},o)r[l]=h[s][l];c.push(t.fromTo(d[s],i,r,o))}return c},e.activate([l]),l}),!0),function(){var e=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(e,t,i){return this._tween=i,!0}}),t=function(e){for(;e;)e.f||e.blob||(e.m=Math.round),e=e._next},i=e.prototype;i._onInitAllProps=function(){for(var e,i,n,s=this._tween,o=s.vars.roundProps.join?s.vars.roundProps:s.vars.roundProps.split(","),l=o.length,r={},a=s._propLookup.roundProps;--l>-1;)r[o[l]]=Math.round;for(l=o.length;--l>-1;)for(e=o[l],i=s._firstPT;i;)n=i._next,i.pg?i.t._mod(r):i.n===e&&(2===i.f&&i.t?t(i.t._firstPT):(this._add(i.t,e,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:s._firstPT===i&&(s._firstPT=n),i._next=i._prev=null,s._propLookup[e]=a)),i=n;return!1},i._add=function(e,t,i,n){this._addTween(e,t,i,i+n,t,Math.round),this._overwriteProps.push(t)}}(),_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,i,n){var s,o;if("function"!=typeof e.setAttribute)return!1;for(s in t)"function"==typeof(o=t[s])&&(o=o(n,e)),this._addTween(e,"setAttribute",e.getAttribute(s)+"",o+"",s,!1,s),this._overwriteProps.push(s);return!0}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(e,t,i,n){"object"!=typeof t&&(t={rotation:t}),this.finals={};var s,o,l,r,a,c,h=!0===t.useRadians?2*Math.PI:360,u=1e-6;for(s in t)"useRadians"!==s&&("function"==typeof(r=t[s])&&(r=r(n,e)),o=(c=(r+"").split("_"))[0],l=parseFloat("function"!=typeof e[s]?e[s]:e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]()),a=(r=this.finals[s]="string"==typeof o&&"="===o.charAt(1)?l+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0)-l,c.length&&(-1!==(o=c.join("_")).indexOf("short")&&((a%=h)!==a%(h/2)&&(a=0>a?a+h:a-h)),-1!==o.indexOf("_cw")&&0>a?a=(a+9999999999*h)%h-(a/h|0)*h:-1!==o.indexOf("ccw")&&a>0&&(a=(a-9999999999*h)%h-(a/h|0)*h)),(a>u||-u>a)&&(this._addTween(e,s,l,l+a,s),this._overwriteProps.push(s)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],(function(e){var t,i,n,s=_gsScope.GreenSockGlobals||_gsScope,o=s.com.greensock,l=2*Math.PI,r=Math.PI/2,a=o._class,c=function(t,i){var n=a("easing."+t,(function(){}),!0),s=n.prototype=new e;return s.constructor=n,s.getRatio=i,n},h=e.register||function(){},u=function(e,t,i,n,s){var o=a("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return h(o,e),o},d=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},p=function(t,i){var n=a("easing."+t,(function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1}),!0),s=n.prototype=new e;return s.constructor=n,s.getRatio=i,s.config=function(e){return new n(e)},n},g=u("Back",p("BackOut",(function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1})),p("BackIn",(function(e){return e*e*((this._p1+1)*e-this._p1)})),p("BackInOut",(function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)}))),f=a("easing.SlowMo",(function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===i}),!0),m=f.prototype=new e;return m.constructor=f,m.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},f.ease=new f(.7,.7),m.config=f.config=function(e,t,i){return new f(e,t,i)},t=a("easing.SteppedEase",(function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0}),!0),(m=t.prototype=new e).constructor=t,m.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},m.config=t.config=function(e,i){return new t(e,i)},i=a("easing.RoughEase",(function(t){for(var i,n,s,o,l,r,a=(t=t||{}).taper||"none",c=[],h=0,u=0|(t.points||20),p=u,g=!1!==t.randomize,f=!0===t.clamp,m=t.template instanceof e?t.template:null,_="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)i=g?Math.random():1/u*p,n=m?m.getRatio(i):i,"none"===a?s=_:"out"===a?s=(o=1-i)*o*_:"in"===a?s=i*i*_:.5>i?s=(o=2*i)*o*.5*_:s=(o=2*(1-i))*o*.5*_,g?n+=Math.random()*s-.5*s:p%2?n+=.5*s:n-=.5*s,f&&(n>1?n=1:0>n&&(n=0)),c[h++]={x:i,y:n};for(c.sort((function(e,t){return e.x-t.x})),r=new d(1,1,null),p=u;--p>-1;)l=c[p],r=new d(l.x,l.y,r);this._prev=new d(0,0,0!==r.t?r:r.next)}),!0),(m=i.prototype=new e).constructor=i,m.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},m.config=function(e){return new i(e)},i.ease=new i,u("Bounce",c("BounceOut",(function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375})),c("BounceIn",(function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)})),c("BounceInOut",(function(e){var t=.5>e;return e=1/2.75>(e=t?1-2*e:2*e-1)?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5}))),u("Circ",c("CircOut",(function(e){return Math.sqrt(1-(e-=1)*e)})),c("CircIn",(function(e){return-(Math.sqrt(1-e*e)-1)})),c("CircInOut",(function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}))),n=function(t,i,n){var s=a("easing."+t,(function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(1>e?e:1),this._p3=this._p2/l*(Math.asin(1/this._p1)||0),this._p2=l/this._p2}),!0),o=s.prototype=new e;return o.constructor=s,o.getRatio=i,o.config=function(e,t){return new s(e,t)},s},u("Elastic",n("ElasticOut",(function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1}),.3),n("ElasticIn",(function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)}),.3),n("ElasticInOut",(function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1}),.45)),u("Expo",c("ExpoOut",(function(e){return 1-Math.pow(2,-10*e)})),c("ExpoIn",(function(e){return Math.pow(2,10*(e-1))-.001})),c("ExpoInOut",(function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}))),u("Sine",c("SineOut",(function(e){return Math.sin(e*r)})),c("SineIn",(function(e){return 1-Math.cos(e*r)})),c("SineInOut",(function(e){return-.5*(Math.cos(Math.PI*e)-1)}))),a("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),h(s.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(t,"SteppedEase","ease,"),g}),!0)})),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e,t){"use strict";var i={},n=e.document,s=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!s.TweenLite){var o,l,r,a,c,h=function(e){var t,i=e.split("."),n=s;for(t=0;t<i.length;t++)n[i[t]]=n=n[i[t]]||{};return n},u=h("com.greensock"),d=1e-10,p=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},g=function(){},f=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),m={},_=function(n,o,l,r){this.sc=m[n]?m[n].sc:[],m[n]=this,this.gsClass=null,this.func=l;var a=[];this.check=function(c){for(var u,d,p,g,f=o.length,v=f;--f>-1;)(u=m[o[f]]||new _(o[f],[])).gsClass?(a[f]=u.gsClass,v--):c&&u.sc.push(this);if(0===v&&l){if(p=(d=("com.greensock."+n).split(".")).pop(),g=h(d.join("."))[p]=this.gsClass=l.apply(l,a),r)if(s[p]=i[p]=g,"undefined"!=typeof module&&module.exports)if(n===t)for(f in module.exports=i[t]=g,i)g[f]=i[f];else i[t]&&(i[t][p]=g);else"function"==typeof define&&define.amd&&define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],(function(){return g}));for(f=0;f<this.sc.length;f++)this.sc[f].check()}},this.check(!0)},v=e._gsDefine=function(e,t,i,n){return new _(e,t,i,n)},y=u._class=function(e,t,i){return t=t||function(){},v(e,[],(function(){return t}),i),t};v.globals=s;var b=[0,0,1,1],w=y("easing.Ease",(function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?b.concat(t):b}),!0),x=w.map={},C=w.register=function(e,t,i,n){for(var s,o,l,r,a=t.split(","),c=a.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=a[c],s=n?y("easing."+o,null,!0):u.easing[o]||{},l=h.length;--l>-1;)r=h[l],x[o+"."+r]=x[r+o]=s[r]=e.getRatio?e:e[r]||new e};for((r=w.prototype)._calcEnd=!1,r.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},l=(o=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--l>-1;)r=o[l]+",Power"+l,C(new w(null,null,1,l),r,"easeOut",!0),C(new w(null,null,2,l),r,"easeIn"+(0===l?",easeNone":"")),C(new w(null,null,3,l),r,"easeInOut");x.linear=u.easing.Linear.easeIn,x.swing=u.easing.Quad.easeInOut;var T=y("events.EventDispatcher",(function(e){this._listeners={},this._eventTarget=e||this}));(r=T.prototype).addEventListener=function(e,t,i,n,s){s=s||0;var o,l,r=this._listeners[e],h=0;for(this!==a||c||a.wake(),null==r&&(this._listeners[e]=r=[]),l=r.length;--l>-1;)(o=r[l]).c===t&&o.s===i?r.splice(l,1):0===h&&o.pr<s&&(h=l+1);r.splice(h,0,{c:t,s:i,up:n,pr:s})},r.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},r.dispatchEvent=function(e){var t,i,n,s=this._listeners[e];if(s)for((t=s.length)>1&&(s=s.slice(0)),i=this._eventTarget;--t>-1;)(n=s[t])&&(n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i))};var S=e.requestAnimationFrame,E=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},N=k();for(l=(o=["ms","moz","webkit","o"]).length;--l>-1&&!S;)S=e[o[l]+"RequestAnimationFrame"],E=e[o[l]+"CancelAnimationFrame"]||e[o[l]+"CancelRequestAnimationFrame"];y("Ticker",(function(e,t){var i,s,o,l,r,h=this,u=k(),p=!(!1===t||!S)&&"auto",f=500,m=33,_=function(e){var t,n,a=k()-N;a>f&&(u+=a-m),N+=a,h.time=(N-u)/1e3,t=h.time-r,(!i||t>0||!0===e)&&(h.frame++,r+=t+(t>=l?.004:l-t),n=!0),!0!==e&&(o=s(_)),n&&h.dispatchEvent("tick")};T.call(h),h.time=h.frame=0,h.tick=function(){_(!0)},h.lagSmoothing=function(e,t){f=e||1/d,m=Math.min(t,f,0)},h.sleep=function(){null!=o&&(p&&E?E(o):clearTimeout(o),s=g,o=null,h===a&&(c=!1))},h.wake=function(e){null!==o?h.sleep():e?u+=-N+(N=k()):h.frame>10&&(N=k()-f+5),s=0===i?g:p&&S?S:function(e){return setTimeout(e,1e3*(r-h.time)+1|0)},h===a&&(c=!0),_(2)},h.fps=function(e){return arguments.length?(l=1/((i=e)||60),r=this.time+l,void h.wake()):i},h.useRAF=function(e){return arguments.length?(h.sleep(),p=e,void h.fps(i)):p},h.fps(e),setTimeout((function(){"auto"===p&&h.frame<5&&"hidden"!==n.visibilityState&&h.useRAF(!1)}),1500)})),(r=u.Ticker.prototype=new u.events.EventDispatcher).constructor=u.Ticker;var L=y("core.Animation",(function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,X){c||a.wake();var i=this.vars.useFrames?j:X;i.add(this,i._time),this.vars.paused&&this.paused(!0)}}));a=L.ticker=new u.Ticker,(r=L.prototype)._dirty=r._gc=r._initted=r._paused=!1,r._totalTime=r._time=0,r._rawPrevTime=-1,r._next=r._last=r._onUpdate=r._timeline=r.timeline=null,r._paused=!1;var A=function(){c&&k()-N>2e3&&"hidden"!==n.visibilityState&&a.wake();var e=setTimeout(A,2e3);e.unref&&e.unref()};A(),r.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},r.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},r.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},r.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},r.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},r.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},r.render=function(e,t,i){},r.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},r.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=i&&e<i+this.totalDuration()/this._timeScale-1e-7},r._enabled=function(e,t){return c||a.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},r._kill=function(e,t){return this._enabled(!1,!1)},r.kill=function(e,t){return this._kill(e,t),this},r._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},r._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},r._callback=function(e){var t=this.vars,i=t[e],n=t[e+"Params"],s=t[e+"Scope"]||t.callbackScope||this;switch(n?n.length:0){case 0:i.call(s);break;case 1:i.call(s,n[0]);break;case 2:i.call(s,n[0],n[1]);break;default:i.apply(s,n)}},r.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[e];null==t?delete s[e]:(s[e]=t,s[e+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,s[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},r.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},r.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},r.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},r.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},r.totalTime=function(e,t,i){if(c||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-e:e)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(O.length&&G(),this.render(e,t,!1),O.length&&G())}return this},r.progress=r.totalProgress=function(e,t){var i=this.duration();return arguments.length?this.totalTime(i*e,t):i?this._time/i:this.ratio},r.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},r.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},r.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||d,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},r.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},r.paused=function(e){if(!arguments.length)return this._paused;var t,i,n=this._timeline;return e!=this._paused&&n&&(c||e||a.wake(),i=(t=n.rawTime())-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var z=y("core.SimpleTimeline",(function(e){L.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0}));(r=z.prototype=new L).constructor=z,r.kill()._gc=!1,r._first=r._last=r._recent=null,r._sortChildren=!1,r.add=r.insert=function(e,t,i,n){var s,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),s=this._last,this._sortChildren)for(o=e._startTime;s&&s._startTime>o;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=s,this._recent=e,this._timeline&&this._uncache(!0),this},r._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},r.render=function(e,t,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;s;)n=s._next,(s._active||e>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(e-s._startTime)*s._timeScale,t,i):s.render((e-s._startTime)*s._timeScale,t,i)),s=n},r.rawTime=function(){return c||a.wake(),this._totalTime};var M=y("TweenLite",(function(t,i,n){if(L.call(this,i,n),this.render=M.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:M.selector(t)||t;var s,o,l,r=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?q[M.defaultOverwrite]:"number"==typeof a?a>>0:q[a],(r||t instanceof Array||t.push&&f(t))&&"number"!=typeof t[0])for(this._targets=l=p(t),this._propLookup=[],this._siblings=[],s=0;s<l.length;s++)(o=l[s])?"string"!=typeof o?o.length&&o!==e&&o[0]&&(o[0]===e||o[0].nodeType&&o[0].style&&!o.nodeType)?(l.splice(s--,1),this._targets=l=l.concat(p(o))):(this._siblings[s]=K(o,this,!1),1===a&&this._siblings[s].length>1&&J(o,this,null,1,this._siblings[s])):"string"==typeof(o=l[s--]=M.selector(o))&&l.splice(s+1,1):l.splice(s--,1);else this._propLookup={},this._siblings=K(t,this,!1),1===a&&this._siblings.length>1&&J(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-d,this.render(Math.min(0,-this._delay)))}),!0),B=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(r=M.prototype=new L).constructor=M,r.kill()._gc=!1,r.ratio=0,r._firstPT=r._targets=r._overwrittenProps=r._startAt=null,r._notifyPluginsOfEnabled=r._lazy=!1,M.version="1.20.2",M.defaultEase=r._ease=new w(null,null,1,1),M.defaultOverwrite="auto",M.ticker=a,M.autoSleep=120,M.lagSmoothing=function(e,t){a.lagSmoothing(e,t)},M.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(M.selector=i,i(t)):void 0===n?t:n.querySelectorAll?n.querySelectorAll(t):n.getElementById("#"===t.charAt(0)?t.substr(1):t)};var O=[],R={},I=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,D=/[\+-]=-?[\.\d]/,P=function(e){for(var t,i=this._firstPT,n=1e-6;i;)t=i.blob?1===e&&this.end?this.end:e?this.join(""):this.start:i.c*e+i.s,i.m?t=i.m(t,this._target||i.t):n>t&&t>-n&&!i.blob&&(t=0),i.f?i.fp?i.t[i.p](i.fp,t):i.t[i.p](t):i.t[i.p]=t,i=i._next},H=function(e,t,i,n){var s,o,l,r,a,c,h,u=[],d=0,p="",g=0;for(u.start=e,u.end=t,e=u[0]=e+"",t=u[1]=t+"",i&&(i(u),e=u[0],t=u[1]),u.length=0,s=e.match(I)||[],o=t.match(I)||[],n&&(n._next=null,n.blob=1,u._firstPT=u._applyPT=n),a=o.length,r=0;a>r;r++)h=o[r],p+=(c=t.substr(d,t.indexOf(h,d)-d))||!r?c:",",d+=c.length,g?g=(g+1)%5:"rgba("===c.substr(-5)&&(g=1),h===s[r]||s.length<=r?p+=h:(p&&(u.push(p),p=""),l=parseFloat(s[r]),u.push(l),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:l,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-l)||0,f:0,m:g&&4>g?Math.round:0}),d+=h.length;return(p+=t.substr(d))&&u.push(p),u.setRatio=P,D.test(t)&&(u.end=0),u},F=function(e,t,i,n,s,o,l,r,a){"function"==typeof n&&(n=n(a||0,e));var c=typeof e[t],h="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),u="get"!==i?i:h?l?e[h](l):e[h]():e[t],d="string"==typeof n&&"="===n.charAt(1),p={t:e,p:t,s:u,f:"function"===c,pg:0,n:s||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-u||0};return("number"!=typeof u||"number"!=typeof n&&!d)&&(l||isNaN(u)||!d&&isNaN(n)||"boolean"==typeof u||"boolean"==typeof n?(p.fp=l,p={t:H(u,d?parseFloat(p.s)+p.c:n,r||M.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:s||t,pr:0,m:0}):(p.s=parseFloat(u),d||(p.c=parseFloat(n)-p.s||0))),p.c?((p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p):void 0},V=M._internals={isArray:f,isSelector:B,lazyTweens:O,blobDif:H},U=M._plugins={},W=V.tweenLookup={},Z=0,$=V.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},j=L._rootFramesTimeline=new z,X=L._rootTimeline=new z,Y=30,G=V.lazyRender=function(){var e,t=O.length;for(R={};--t>-1;)(e=O[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);O.length=0};X._startTime=a.time,j._startTime=a.frame,X._active=j._active=!0,setTimeout(G,1),L._updateRoot=M.render=function(){var e,t,i;if(O.length&&G(),X.render((a.time-X._startTime)*X._timeScale,!1,!1),j.render((a.frame-j._startTime)*j._timeScale,!1,!1),O.length&&G(),a.frame>=Y){for(i in Y=a.frame+(parseInt(M.autoSleep,10)||120),W){for(e=(t=W[i].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[i]}if((!(i=X._first)||i._paused)&&M.autoSleep&&!j._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",L._updateRoot);var K=function(e,t,i){var n,s,o=e._gsTweenID;if(W[o||(e._gsTweenID=o="t"+Z++)]||(W[o]={target:e,tweens:[]}),t&&((n=W[o].tweens)[s=n.length]=t,i))for(;--s>-1;)n[s]===t&&n.splice(s,1);return W[o].tweens},Q=function(e,t,i,n){var s,o,l=e.vars.onOverwrite;return l&&(s=l(e,t,i,n)),(l=M.onOverwrite)&&(o=l(e,t,i,n)),!1!==s&&!1!==o},J=function(e,t,i,n,s){var o,l,r,a;if(1===n||n>=4){for(a=s.length,o=0;a>o;o++)if((r=s[o])!==t)r._gc||r._kill(null,e,t)&&(l=!0);else if(5===n)break;return l}var c,h=t._startTime+d,u=[],p=0,g=0===t._duration;for(o=s.length;--o>-1;)(r=s[o])===t||r._gc||r._paused||(r._timeline!==t._timeline?(c=c||ee(t,0,g),0===ee(r,c,g)&&(u[p++]=r)):r._startTime<=h&&r._startTime+r.totalDuration()/r._timeScale>h&&((g||!r._initted)&&h-r._startTime<=2e-10||(u[p++]=r)));for(o=p;--o>-1;)if(r=u[o],2===n&&r._kill(i,e,t)&&(l=!0),2!==n||!r._firstPT&&r._initted){if(2!==n&&!Q(r,t))continue;r._enabled(!1,!1)&&(l=!0)}return l},ee=function(e,t,i){for(var n=e._timeline,s=n._timeScale,o=e._startTime;n._timeline;){if(o+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return(o/=s)>t?o-t:i&&o===t||!e._initted&&2*d>o-t?d:(o+=e.totalDuration()/e._timeScale/s)>t+d?0:o-t-d};r._init=function(){var e,t,i,n,s,o,l=this.vars,r=this._overwrittenProps,a=this._duration,c=!!l.immediateRender,h=l.ease;if(l.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),s={},l.startAt)s[n]=l.startAt[n];if(s.overwrite=!1,s.immediateRender=!0,s.lazy=c&&!1!==l.lazy,s.startAt=s.delay=null,s.onUpdate=l.onUpdate,s.onUpdateScope=l.onUpdateScope||l.callbackScope||this,this._startAt=M.to(this.target,0,s),c)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(l.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(c=!1),i={},l)$[n]&&"autoCSS"!==n||(i[n]=l[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=c&&!1!==l.lazy,i.immediateRender=c,this._startAt=M.to(this.target,0,i),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof w?h:"function"==typeof h?new w(h,l.easeParams):x[h]||M.defaultEase:M.defaultEase,l.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,l.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;o>e;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],r?r[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,r,0);if(t&&M._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),l.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=l.onUpdate,this._initted=!0},r._initProps=function(t,i,n,s,o){var l,r,a,c,h,u;if(null==t)return!1;for(l in R[t._gsTweenID]&&G(),this.vars.css||t.style&&t!==e&&t.nodeType&&U.css&&!1!==this.vars.autoCSS&&function(e,t){var i,n={};for(i in e)$[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!U[i]||U[i]&&U[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n}(this.vars,t),this.vars)if(u=this.vars[l],$[l])u&&(u instanceof Array||u.push&&f(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[l]=u=this._swapSelfInParams(u,this));else if(U[l]&&(c=new U[l])._onInitTween(t,this.vars[l],this,o)){for(this._firstPT=h={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:l,pg:1,pr:c._priority,m:0},r=c._overwriteProps.length;--r>-1;)i[c._overwriteProps[r]]=this._firstPT;(c._priority||c._onInitAllProps)&&(a=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else i[l]=F.call(this,t,l,"get",u,l,0,null,this.vars.stringFilter,o);return s&&this._kill(s,t)?this._initProps(t,i,n,s,o):this._overwrite>1&&this._firstPT&&n.length>1&&J(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,s,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(R[t._gsTweenID]=!0),a)},r.render=function(e,t,i){var n,s,o,l,r=this._time,a=this._duration,c=this._rawPrevTime;if(e>=a-1e-7&&e>=0)this._totalTime=this._time=a,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,s="onComplete",i=i||this._timeline.autoRemoveChildren),0===a&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0>c||0>=e&&e>=-1e-7||c===d&&"isPause"!==this.data)&&c!==e&&(i=!0,c>d&&(s="onReverseComplete")),this._rawPrevTime=l=!t||e||c===e?e:d);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==r||0===a&&c>0)&&(s="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===a&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(c!==d||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=l=!t||e||c===e?e:d)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=e,this._easeType){var h=e/a,u=this._easeType,p=this._easePower;(1===u||3===u&&h>=.5)&&(h=1-h),3===u&&(h*=2),1===p?h*=h:2===p?h*=h*h:3===p?h*=h*h*h:4===p&&(h*=h*h*h*h),this.ratio=1===u?1-h:2===u?h:.5>e/a?h/2:1-h/2}else this.ratio=this._ease.getRatio(e/a);if(this._time!==r||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=r,this._rawPrevTime=c,O.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/a):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==r&&e>=0&&(this._active=!0),0===r&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):s||(s="_dummyGS")),this.vars.onStart&&(0!==this._time||0===a)&&(t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>e&&this._startAt&&-1e-4!==e&&this._startAt.render(e,t,i),t||(this._time!==r||n||i)&&this._callback("onUpdate")),s&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s),0===a&&this._rawPrevTime===d&&l!==d&&(this._rawPrevTime=0))}},r._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:M.selector(t)||t;var n,s,o,l,r,a,c,h,u,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((f(t)||B(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],i)&&(a=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){r=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],s=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;r=this._propLookup,s=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(r){if(c=e||r,h=e!==s&&"all"!==s&&e!==r&&("object"!=typeof e||!e._tempKill),i&&(M.onOverwrite||this.vars.onOverwrite)){for(o in c)r[o]&&(u||(u=[]),u.push(o));if((u||!e)&&!Q(this,i,t,u))return!1}for(o in c)(l=r[o])&&(d&&(l.f?l.t[l.p](l.s):l.t[l.p]=l.s,a=!0),l.pg&&l.t._kill(c)&&(a=!0),l.pg&&0!==l.t._overwriteProps.length||(l._prev?l._prev._next=l._next:l===this._firstPT&&(this._firstPT=l._next),l._next&&(l._next._prev=l._prev),l._next=l._prev=null),delete r[o]),h&&(s[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},r.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],L.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-d,this.render(Math.min(0,-this._delay))),this},r._enabled=function(e,t){if(c||a.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=K(n[i],this,!0);else this._siblings=K(this.target,this,!0)}return L.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&M._onPluginEvent(e?"_onEnable":"_onDisable",this)},M.to=function(e,t,i){return new M(e,t,i)},M.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new M(e,t,i)},M.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new M(e,t,n)},M.delayedCall=function(e,t,i,n,s){return new M(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:s,overwrite:0})},M.set=function(e,t){return new M(e,0,t)},M.getTweensOf=function(e,t){if(null==e)return[];var i,n,s,o;if(e="string"!=typeof e?e:M.selector(e)||e,(f(e)||B(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(M.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(o=n[i],s=i;--s>-1;)o===n[s]&&n.splice(i,1)}else if(e._gsTweenID)for(i=(n=K(e).concat()).length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n||[]},M.killTweensOf=M.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=M.getTweensOf(e,t),s=n.length;--s>-1;)n[s]._kill(i,e)};var te=y("plugins.TweenPlugin",(function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=te.prototype}),!0);if(r=te.prototype,te.version="1.19.0",te.API=2,r._firstPT=null,r._addTween=F,r.setRatio=P,r._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},r._mod=r._roundProps=function(e){for(var t,i=this._firstPT;i;)(t=e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===i.f?i.t._applyPT.m=t:i.m=t),i=i._next},M._onPluginEvent=function(e,t){var i,n,s,o,l,r=t._firstPT;if("_onInitAllProps"===e){for(;r;){for(l=r._next,n=s;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:o)?r._prev._next=r:s=r,(r._next=n)?n._prev=r:o=r,r=l}r=t._firstPT=s}for(;r;)r.pg&&"function"==typeof r.t[e]&&r.t[e]()&&(i=!0),r=r._next;return i},te.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===te.API&&(U[(new e[t])._propName]=e[t]);return!0},v.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,s=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},l=y("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",(function(){te.call(this,i,n),this._overwriteProps=s||[]}),!0===e.global),r=l.prototype=new te(i);for(t in r.constructor=l,l.API=e.API,o)"function"==typeof e[t]&&(r[o[t]]=e[t]);return l.version=e.version,te.activate([l]),l},o=e._gsQueue){for(l=0;l<o.length;l++)o[l]();for(r in m)m[r].func||e.console.log("GSAP encountered missing dependency: "+r)}c=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,(function(){"use strict";function e(){}e.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0);var t="data-scrollmagic-pin-spacer";e.Controller=function(n){function o(){var e,t,i;b&&f&&(e=s.type.Array(f)?f:g.slice(0),f=!1,t=m,0!=(i=(m=d.scrollPos())-t)&&(_=0<i?"FORWARD":c),_===c&&e.reverse(),e.forEach((function(e,t){e.update(!0)})))}function l(){r=s.rAF(o)}var r,a,c="REVERSE",h="PAUSED",u=i.defaults,d=this,p=s.extend({},u,n),g=[],f=!1,m=0,_=h,v=!0,y=0,b=!0,w=function(){0<p.refreshInterval&&(a=window.setTimeout(E,p.refreshInterval))},x=function(){return p.vertical?s.get.scrollTop(p.container):s.get.scrollLeft(p.container)},C=function(){return p.vertical?s.get.height(p.container):s.get.width(p.container)},T=this._setScrollPos=function(e){p.vertical?v?window.scrollTo(s.get.scrollLeft(),e):p.container.scrollTop=e:v?window.scrollTo(e,s.get.scrollTop()):p.container.scrollLeft=e},S=function(e){"resize"==e.type&&(y=C(),_=h),!0!==f&&(f=!0,l())},E=function(){if(!v&&y!=C()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){(e=document.createEvent("Event")).initEvent("resize",!1,!1)}p.container.dispatchEvent(e)}g.forEach((function(e,t){e.refresh()})),w()};function k(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort((function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1})),t}return this._options=p,this.addScene=function(t){if(s.type.Array(t))t.forEach((function(e,t){d.addScene(e)}));else if(t instanceof e.Scene)if(t.controller()!==d)t.addTo(d);else if(!~g.indexOf(t))for(var i in g.push(t),g=k(g),t.on("shift.controller_sort",(function(){g=k(g)})),p.globalSceneOptions)t[i]&&t[i].call(t,p.globalSceneOptions[i]);return d},this.removeScene=function(e){var t;return s.type.Array(e)?e.forEach((function(e,t){d.removeScene(e)})):-1<(t=g.indexOf(e))&&(e.off("shift.controller_sort"),g.splice(t,1),e.remove()),d},this.updateScene=function(t,i){return s.type.Array(t)?t.forEach((function(e,t){d.updateScene(e,i)})):i?t.update(!0):!0!==f&&t instanceof e.Scene&&(~(f=f||[]).indexOf(t)||f.push(t),f=k(f),l()),d},this.update=function(e){return S({type:"resize"}),e&&o(),d},this.scrollTo=function(i,n){if(s.type.Number(i))T.call(p.container,i,n);else if(i instanceof e.Scene)i.controller()===d&&d.scrollTo(i.scrollOffset(),n);else if(s.type.Function(i))T=i;else{var o=s.get.elements(i)[0];if(o){for(;o.parentNode.hasAttribute(t);)o=o.parentNode;var l=p.vertical?"top":"left",r=s.get.offset(p.container),a=s.get.offset(o);v||(r[l]-=d.scrollPos()),d.scrollTo(a[l]-r[l],n)}}return d},this.scrollPos=function(e){return arguments.length?(s.type.Function(e)&&(x=e),d):x.call(d)},this.info=function(e){var t={size:y,vertical:p.vertical,scrollPos:m,scrollDirection:_,container:p.container,isDocument:v};return arguments.length?void 0!==t[e]?t[e]:void 0:t},this.loglevel=function(e){return d},this.enabled=function(e){return arguments.length?(b!=e&&(b=!!e,d.updateScene(g,!0)),d):b},this.destroy=function(e){window.clearTimeout(a);for(var t=g.length;t--;)g[t].destroy(e);return p.container.removeEventListener("resize",S),p.container.removeEventListener("scroll",S),s.cAF(r),null},function(){for(var e in p)u.hasOwnProperty(e)||delete p[e];if(p.container=s.get.elements(p.container)[0],!p.container)throw"ScrollMagic.Controller init failed.";(v=p.container===window||p.container===document.body||!document.body.contains(p.container))&&(p.container=window),y=C(),p.container.addEventListener("resize",S),p.container.addEventListener("scroll",S);var t=parseInt(p.refreshInterval,10);p.refreshInterval=s.type.Number(t)?t:u.refreshInterval,w()}(),d};var i={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){i.defaults[e]=t},e.Controller.extend=function(t){var i=this;e.Controller=function(){return i.apply(this,arguments),this.$super=s.extend({},this),t.apply(this,arguments)||this},s.extend(e.Controller,i),e.Controller.prototype=i.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(i){var o,l,r="BEFORE",a="DURING",c="AFTER",h=n.defaults,u=this,d=s.extend({},h,i),p=r,g=0,f={start:0,end:0},m=0,_=!0,v={};this.on=function(e,t){return s.type.Function(t)&&(e=e.trim().split(" ")).forEach((function(e){var i=e.split("."),n=i[0],s=i[1];"*"!=n&&(v[n]||(v[n]=[]),v[n].push({namespace:s||"",callback:t}))})),u},this.off=function(e,t){return e&&(e=e.trim().split(" ")).forEach((function(e,i){var n=e.split("."),s=n[0],o=n[1]||"";("*"===s?Object.keys(v):[s]).forEach((function(e){for(var i=v[e]||[],n=i.length;n--;){var s=i[n];!s||o!==s.namespace&&"*"!==o||t&&t!=s.callback||i.splice(n,1)}i.length||delete v[e]}))})),u},this.trigger=function(t,i){var n,s,o,l;return t&&(n=t.trim().split("."),s=n[0],o=n[1],(l=v[s])&&l.forEach((function(t,n){o&&o!==t.namespace||t.callback.call(u,new e.Event(s,t.namespace,u,i))}))),u},u.on("change.internal",(function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?C():"reverse"===e.what&&u.update())})).on("shift.internal",(function(e){w(),u.update()})),this.addTo=function(t){return t instanceof e.Controller&&l!=t&&(l&&l.removeScene(u),l=t,E(),x(!0),C(!0),w(),l.info("container").addEventListener("resize",T),t.addScene(u),u.trigger("add",{controller:l}),u.update()),u},this.enabled=function(e){return arguments.length?(_!=e&&(_=!!e,u.update(!0)),u):_},this.remove=function(){var e;return l&&(l.info("container").removeEventListener("resize",T),e=l,l=void 0,e.removeScene(u),u.trigger("remove")),u},this.destroy=function(e){return u.trigger("destroy",{reset:e}),u.remove(),u.off("*.*"),null},this.update=function(e){var t,i;return l&&(e?l.enabled()&&_?(t=l.info("scrollPos"),i=0<d.duration?(t-f.start)/(f.end-f.start):t>=f.start?1:0,u.trigger("update",{startPos:f.start,endPos:f.end,scrollPos:t}),u.progress(i)):y&&p===a&&M(!0):l.updateScene(u,!1)),u},this.refresh=function(){return x(),C(),u},this.progress=function(e){if(arguments.length){var t,i,n,s=!1,o=p,h=l?l.info("scrollDirection"):"PAUSED",f=d.reverse||g<=e;return 0===d.duration?(s=g!=e,p=0==(g=e<1&&f?0:1)?r:a):e<0&&p!==r&&f?(p=r,s=!(g=0)):0<=e&&e<1&&f?(g=e,p=a,s=!0):1<=e&&p!==c?(g=1,p=c,s=!0):p!==a||f||M(),s&&(t={progress:g,state:p,scrollDirection:h},n=function(e){u.trigger(e,t)},(i=p!=o)&&o!==a&&(n("enter"),n(o===r?"start":"end")),n("progress"),i&&p!==a&&(n(p===r?"start":"end"),n("leave"))),u}return g};var y,b,w=function(){f={start:m+d.offset},l&&d.triggerElement&&(f.start-=l.info("size")*d.triggerHook),f.end=f.start+d.duration},x=function(e){var t;!o||k(t="duration",o.call(u))&&!e&&(u.trigger("change",{what:t,newval:d[t]}),u.trigger("shift",{reason:t}))},C=function(e){var i=0,n=d.triggerElement;if(l&&(n||0<m)){if(n)if(n.parentNode){for(var o=l.info(),r=s.get.offset(o.container),a=o.vertical?"top":"left";n.parentNode.hasAttribute(t);)n=n.parentNode;var c=s.get.offset(n);o.isDocument||(r[a]-=l.scrollPos()),i=c[a]-r[a]}else u.triggerElement(void 0);var h=i!=m;m=i,h&&!e&&u.trigger("shift",{reason:"triggerElementPosition"})}},T=function(e){0<d.triggerHook&&u.trigger("shift",{reason:"containerResize"})},S=s.extend(n.validate,{duration:function(e){var t;if(s.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)&&(t=parseFloat(e)/100,e=function(){return l?l.info("size")*t:0}),s.type.Function(e)){o=e;try{e=parseFloat(o.call(u))}catch(t){e=-1}}if(e=parseFloat(e),!s.type.Number(e)||e<0)throw o=o&&void 0,0;return e}}),E=function(e){(e=arguments.length?[e]:Object.keys(S)).forEach((function(e,t){var i;if(S[e])try{i=S[e](d[e])}catch(t){i=h[e]}finally{d[e]=i}}))},k=function(e,t){var i=!1,n=d[e];return d[e]!=t&&(d[e]=t,E(e),i=n!=d[e]),i},N=function(e){u[e]||(u[e]=function(t){return arguments.length?("duration"===e&&(o=void 0),k(e,t)&&(u.trigger("change",{what:e,newval:d[e]}),~n.shifts.indexOf(e)&&u.trigger("shift",{reason:e})),u):d[e]})};function L(){l&&y&&p===a&&!l.info("isDocument")&&M()}function A(){l&&y&&p===a&&((b.relSize.width||b.relSize.autoFullWidth)&&s.get.width(window)!=s.get.width(b.spacer.parentNode)||b.relSize.height&&s.get.height(window)!=s.get.height(b.spacer.parentNode))&&B()}function z(e){l&&y&&p===a&&!l.info("isDocument")&&(e.preventDefault(),l._setScrollPos(l.info("scrollPos")-((e.wheelDelta||e[l.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))}this.controller=function(){return l},this.state=function(){return p},this.scrollOffset=function(){return f.start},this.triggerPosition=function(){var e=d.offset;return l&&(d.triggerElement?e+=m:e+=l.info("size")*u.triggerHook()),e},u.on("shift.internal",(function(e){var t="duration"===e.reason;(p===c&&t||p===a&&0===d.duration)&&M(),t&&B()})).on("progress.internal",(function(e){M()})).on("add.internal",(function(e){B()})).on("destroy.internal",(function(e){u.removePin(e.reset)}));var M=function(e){var t,i,n,o,h,u;y&&l&&(t=l.info(),i=b.spacer.firstChild,e||p!==a?(n={position:b.inFlow?"relative":"absolute",top:0,left:0},o=s.css(i,"position")!=n.position,b.pushFollowers?0<d.duration&&(p===c&&0===parseFloat(s.css(b.spacer,"padding-top"))||p===r&&0===parseFloat(s.css(b.spacer,"padding-bottom")))&&(o=!0):n[t.vertical?"top":"left"]=d.duration*g,s.css(i,n),o&&B()):("fixed"!=s.css(i,"position")&&(s.css(i,{position:"fixed"}),B()),h=s.get.offset(b.spacer,!0),u=d.reverse||0===d.duration?t.scrollPos-f.start:Math.round(g*d.duration*10)/10,h[t.vertical?"top":"left"]+=u,s.css(b.spacer.firstChild,{top:h.top,left:h.left})))},B=function(){var e,t,i,n,o;y&&l&&b.inFlow&&(e=p===a,t=l.info("vertical"),i=b.spacer.firstChild,n=s.isMarginCollapseType(s.css(b.spacer,"display")),o={},b.relSize.width||b.relSize.autoFullWidth?e?s.css(y,{width:s.get.width(b.spacer)}):s.css(y,{width:"100%"}):(o["min-width"]=s.get.width(t?y:i,!0,!0),o.width=e?o["min-width"]:"auto"),b.relSize.height?e?s.css(y,{height:s.get.height(b.spacer)-(b.pushFollowers?d.duration:0)}):s.css(y,{height:"100%"}):(o["min-height"]=s.get.height(t?i:y,!0,!n),o.height=e?o["min-height"]:"auto"),b.pushFollowers&&(o["padding"+(t?"Top":"Left")]=d.duration*g,o["padding"+(t?"Bottom":"Right")]=d.duration*(1-g)),s.css(b.spacer,o))};this.setPin=function(e,i){if(i=s.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},i),!(e=s.get.elements(e)[0]))return u;if("fixed"===s.css(e,"position"))return u;if(y){if(y===e)return u;u.removePin()}var n=(y=e).parentNode.style.display,o=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];y.parentNode.style.display="none";var l="absolute"!=s.css(y,"position"),r=s.css(y,o.concat(["display"])),a=s.css(y,["width","height"]);y.parentNode.style.display=n,!l&&i.pushFollowers&&(i.pushFollowers=!1);var c,h=y.parentNode.insertBefore(document.createElement("div"),y),d=s.extend(r,{position:l?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});return l||s.extend(d,s.css(y,["width","height"])),s.css(h,d),h.setAttribute(t,""),s.addClass(h,i.spacerClass),b={spacer:h,relSize:{width:"%"===a.width.slice(-1),height:"%"===a.height.slice(-1),autoFullWidth:"auto"===a.width&&l&&s.isMarginCollapseType(r.display)},pushFollowers:i.pushFollowers,inFlow:l},y.___origStyle||(y.___origStyle={},c=y.style,o.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach((function(e){y.___origStyle[e]=c[e]||""}))),b.relSize.width&&s.css(h,{width:a.width}),b.relSize.height&&s.css(h,{height:a.height}),h.appendChild(y),s.css(y,{position:l?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(b.relSize.width||b.relSize.autoFullWidth)&&s.css(y,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",L),window.addEventListener("resize",L),window.addEventListener("resize",A),y.addEventListener("mousewheel",z),y.addEventListener("DOMMouseScroll",z),M(),u},this.removePin=function(e){var i,n,o;return y&&(p===a&&M(!0),!e&&l||((i=b.spacer.firstChild).hasAttribute(t)&&(n=b.spacer.style,o={},["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach((function(e){o[e]=n[e]||""})),s.css(i,o)),b.spacer.parentNode.insertBefore(i,b.spacer),b.spacer.parentNode.removeChild(b.spacer),y.parentNode.hasAttribute(t)||(s.css(y,y.___origStyle),delete y.___origStyle)),window.removeEventListener("scroll",L),window.removeEventListener("resize",L),window.removeEventListener("resize",A),y.removeEventListener("mousewheel",z),y.removeEventListener("DOMMouseScroll",z),y=void 0),u};var O,R=[];return u.on("destroy.internal",(function(e){u.removeClassToggle(e.reset)})),this.setClassToggle=function(e,t){var i=s.get.elements(e);return 0!==i.length&&s.type.String(t)&&(0<R.length&&u.removeClassToggle(),O=t,R=i,u.on("enter.internal_class leave.internal_class",(function(e){var t="enter"===e.type?s.addClass:s.removeClass;R.forEach((function(e,i){t(e,O)}))}))),u},this.removeClassToggle=function(e){return e&&R.forEach((function(e,t){s.removeClass(e,O)})),u.off("start.internal_class end.internal_class"),O=void 0,R=[],u},function(){for(var e in d)h.hasOwnProperty(e)||delete d[e];for(var t in h)N(t);E()}(),u};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!s.type.Number(e))throw 0;return e},triggerElement:function(e){if(e=e||void 0){var t=s.get.elements(e)[0];if(!t||!t.parentNode)throw 0;e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(s.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw 0;e=t[e]}return e},reverse:function(e){return!!e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(e,t,i,s){e in n.defaults||(n.defaults[e]=t,n.validate[e]=i,s&&n.shifts.push(e))},e.Scene.extend=function(t){var i=this;e.Scene=function(){return i.apply(this,arguments),this.$super=s.extend({},this),t.apply(this,arguments)||this},s.extend(e.Scene,i),e.Scene.prototype=i.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,i,n){for(var s in n=n||{})this[s]=n[s];return this.type=e,this.target=this.currentTarget=i,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var s=e._util=function(e){function t(e){return parseFloat(e)||0}function i(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)}function n(n,s,o,l){if((s=s===document?e:s)===e)l=!1;else if(!u.DomElement(s))return 0;n=n[0].toUpperCase()+n.substr(1).toLowerCase();var r,a=(o?s["offset"+n]||s["outer"+n]:s["client"+n]||s["inner"+n])||0;return o&&l&&(r=i(s),a+="Height"===n?t(r.marginTop)+t(r.marginBottom):t(r.marginLeft)+t(r.marginRight)),a}function s(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}for(var o={extend:function(e){for(e=e||{},h=1;h<arguments.length;h++)if(arguments[h])for(var t in arguments[h])arguments[h].hasOwnProperty(t)&&(e[t]=arguments[h][t]);return e},isMarginCollapseType:function(e){return!!~["block","flex","list-item","table","-webkit-box"].indexOf(e)}},l=0,r=["ms","moz","webkit","o"],a=e.requestAnimationFrame,c=e.cancelAnimationFrame,h=0;!a&&h<4;++h)a=e[r[h]+"RequestAnimationFrame"],c=e[r[h]+"CancelAnimationFrame"]||e[r[h]+"CancelRequestAnimationFrame"];a=a||function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-l)),s=e.setTimeout((function(){t(i+n)}),n);return l=i+n,s},c=c||function(t){e.clearTimeout(t)},o.rAF=a.bind(e),o.cAF=c.bind(e);var u=o.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};u.String=function(e){return"string"===u(e)},u.Function=function(e){return"function"===u(e)},u.Array=function(e){return Array.isArray(e)},u.Number=function(e){return!u.Array(e)&&0<=e-parseFloat(e)+1},u.DomElement=function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var d=o.get={};return d.elements=function(t){var i=[];if(u.String(t))try{t=document.querySelectorAll(t)}catch(t){return i}if("nodelist"===u(t)||u.Array(t)||t instanceof NodeList)for(var n=0,s=i.length=t.length;n<s;n++){var o=t[n];i[n]=u.DomElement(o)?o:d.elements(o)}else!u.DomElement(t)&&t!==document&&t!==e||(i=[t]);return i},d.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},d.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},d.width=function(e,t,i){return n("width",e,t,i)},d.height=function(e,t,i){return n("height",e,t,i)},d.offset=function(e,t){var i,n={top:0,left:0};return e&&e.getBoundingClientRect&&(i=e.getBoundingClientRect(),n.top=i.top,n.left=i.left,t||(n.top+=d.scrollTop(),n.left+=d.scrollLeft())),n},o.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},o.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},o.css=function(e,t){if(u.String(t))return i(e)[s(t)];if(u.Array(t)){var n={},o=i(e);return t.forEach((function(e,t){n[e]=o[s(e)]})),n}for(var l in t){var r=t[l];r==parseFloat(r)&&(r+="px"),e.style[s(l)]=r}},o}(window||{});return e})),function(e,t){var i;"function"==typeof define&&define.amd?define(["ScrollMagic","gsap","TweenMax","TimelineMax"],t):"object"==typeof exports?(i=require("gsap/dist/gsap")||require("gsap"),t(require("scrollmagic"),i,TweenMax||i,TimelineMax||i)):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.gsap,e.gsap||e.TweenMax||e.TweenLite,e.gsap||e.TimelineMax||e.TimelineLite)}(this,(function(e,t,i,n){"use strict";var s=t&&3<=parseFloat(t.version);e.Scene.addOption("tweenChanges",!1,(function(e){return!!e})),e.Scene.extend((function(){var e,t=this;t.on("progress.plugin_gsap",(function(){o()})),t.on("destroy.plugin_gsap",(function(e){t.removeTween(e.reset)}));var o=function(){var i,n;e&&(i=t.progress(),n=t.state(),e.repeat&&-1===e.repeat()?"DURING"===n&&e.paused()?e.play():"DURING"===n||e.paused()||e.pause():i!=e.progress()&&(0===t.duration()?0<i?e.play():e.reverse():t.tweenChanges()&&e.tweenTo?e.tweenTo(i*e.duration()):e.progress(i).pause()))};t.setTween=function(l,r,a){var c,h;1<arguments.length&&(h="number"==typeof arguments[1],s?(h||(a=r),a.hasOwnProperty("duration")||(a.duration=h?r:1)):arguments.length<3&&(a=r,r=1),l=s?i.to(l,a):i.to(l,r,a));try{(c=n&&!s?new n({smoothChildTiming:!0}).add(l):l).pause()}catch(l){return t}return e&&t.removeTween(),e=c,l.repeat&&-1===l.repeat()&&(e.repeat(-1),e.yoyo(l.yoyo())),o(),t},t.removeTween=function(i){return e&&(i&&e.progress(0).pause(),e.kill(),e=void 0),t}}))}));
